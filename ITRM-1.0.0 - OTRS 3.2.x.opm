<?xml version="1.0" encoding="utf-8" ?>
<otrs_package version="1.1">
    <Name>ITRM</Name>
    <Version>1.0.0</Version>
    <Vendor>OPGK Rzeszów S.A.</Vendor>
    <URL>http://opgk.rzeszow.pl/</URL>
    <License>GNU GENERAL PUBLIC LICENSE Version 2, June 1991</License>
    <ChangeLog Date="2013-06-14 15:00:00" Version="1.0.0">First release.</ChangeLog>
    <Description Lang="en">ITRM - IT Resource Management Module.</Description>
    <Description Lang="pl">Moduł ITRM - Zarządzanie zasobami IT.</Description>
    <Framework>3.2.x</Framework>
    <IntroInstall Lang="en" Title="Thank you!" Type="post">Thank you for choosing the ITRM module.</IntroInstall>
    <IntroInstall Lang="pl" Title="Dziękujemy!" Type="post">Dziękujemy za wybór modułu ITRM.</IntroInstall>
    <CodeInstall Type="post">
		
		$Self-&gt;{DBObject}-&gt;Do(SQL =&gt; &quot;CREATE TABLE itrm_okres (
		  id INTEGER(11) NOT NULL AUTO_INCREMENT,
		  id_cyklu INTEGER(11) NOT NULL,
		  od DATE DEFAULT NULL,
		  do DATE DEFAULT NULL,
		  kolejnosc INTEGER(11) DEFAULT NULL,
		  PRIMARY KEY USING BTREE (id),
		  UNIQUE INDEX id USING BTREE (id),
		   INDEX id_cyklu USING BTREE (id_cyklu)
		)ENGINE=MyISAM
		AUTO_INCREMENT=80 AVG_ROW_LENGTH=210 CHARACTER SET 'utf8' COLLATE 'utf8_general_ci'
		COMMENT=''&quot;);
	
		# dodanie dynamic field zasoby
		$Self-&gt;{DBObject}-&gt;Do(SQL =&gt; &quot;INSERT INTO dynamic_field (internal_field, name, label, field_order, field_type, object_type, config, valid_id, create_time, create_by, change_time, change_by) VALUES (0,'Zasoby','Needed resources',3,'Text','Ticket',0x2D2D2D0A44656661756C7456616C75653A2027270A4C696E6B3A2027270A,1,'2013-06-04 13:08:26',1,'2013-06-04 15:04:26',1)&quot;);
	</CodeInstall>
    <CodeUninstall Type="post">
		#usuwanie wartosci dynamic field zasoby dla ticketow
		my $id_zasobow;
		my $IDZasobyDynamicField = $Self-&gt;{DBObject}-&gt;SelectAll(
				SQL    =&gt; 	&quot;SELECT id FROM dynamic_field WHERE name = 'Zasoby'&quot;,
			);
		for my $ID ( @$IDZasobyDynamicField ) {
				$id_zasobow = @$ID[0];
		}
		$Self-&gt;{DBObject}-&gt;Do(
			SQL  =&gt; &quot;DELETE FROM dynamic_field_value WHERE field_id = &quot;.$id_zasobow,
		);
		
		#usuwanie dynamic field zasobny
		$Self-&gt;{DBObject}-&gt;Do(SQL =&gt; &quot;DELETE FROM dynamic_field WHERE name = 'Zasoby'&quot;);
	</CodeUninstall>
    <BuildDate>2014-04-07 16:31:06</BuildDate>
    <BuildHost>development-host</BuildHost>
    <Filelist>
        <File Location="Kernel/Config/Files/ITRM.xml" Permission="644" Encode="Base64">77u/PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjxvdHJzX2NvbmZpZyB2ZXJzaW9uPSIxLjAiIGluaXQ9IkZyYW1ld29yayI+DQoJPENvbmZpZ0l0ZW0gTmFtZT0iRnJvbnRlbmQ6Ok1vZHVsZSMjI0FkbWluSVRSTSIgUmVxdWlyZWQ9IjEiIFZhbGlkPSIxIj4NCiAgICAgICAgPERlc2NyaXB0aW9uIFRyYW5zbGF0YWJsZT0iMSI+RnJvbnRlbmQgbW9kdWxlIHJlZ2lzdHJhdGlvbiBmb3IgdGhlIGFnZW50IGludGVyZmFjZS48L0Rlc2NyaXB0aW9uPg0KICAgICAgICA8R3JvdXA+SVRSTTwvR3JvdXA+DQogICAgICAgIDxTdWJHcm91cD5Gcm9udGVuZDo6QWRtaW46Ok1vZHVsZVJlZ2lzdHJhdGlvbjwvU3ViR3JvdXA+DQogICAgICAgIDxTZXR0aW5nPg0KICAgICAgICAgICAgPEZyb250ZW5kTW9kdWxlUmVnPg0KICAgICAgICAgICAgICAgIDxHcm91cD5hZG1pbjwvR3JvdXA+DQogICAgICAgICAgICAgICAgPERlc2NyaXB0aW9uPjwvRGVzY3JpcHRpb24+DQogICAgICAgICAgICAgICAgPFRpdGxlPjwvVGl0bGU+DQogICAgICAgICAgICAgICAgPE5hdkJhck5hbWU+SVRSTTwvTmF2QmFyTmFtZT4NCiAgICAgICAgICAgICAgICA8TmF2QmFyPg0KICAgICAgICAgICAgICAgICAgICA8VHlwZT5NZW51PC9UeXBlPg0KICAgICAgICAgICAgICAgICAgICA8RGVzY3JpcHRpb24gVHJhbnNsYXRhYmxlPSIxIj48L0Rlc2NyaXB0aW9uPg0KICAgICAgICAgICAgICAgICAgICA8QmxvY2s+SXRlbUFyZWE8L0Jsb2NrPg0KICAgICAgICAgICAgICAgICAgICA8TmFtZSBUcmFuc2xhdGFibGU9IjEiPklUUk08L05hbWU+DQogICAgICAgICAgICAgICAgICAgIDxMaW5rPkFjdGlvbj1BZG1pbklUUk08L0xpbms+DQogICAgICAgICAgICAgICAgICAgIDxMaW5rT3B0aW9uPjwvTGlua09wdGlvbj4NCiAgICAgICAgICAgICAgICAgICAgPE5hdkJhcj5PUEdLPC9OYXZCYXI+DQogICAgICAgICAgICAgICAgICAgIDxBY2Nlc3NLZXk+ejwvQWNjZXNzS2V5Pg0KICAgICAgICAgICAgICAgICAgICA8UHJpbz4xMDAwMDE8L1ByaW8+DQogICAgICAgICAgICAgICAgPC9OYXZCYXI+DQoJCQkJDQoJCQkJPE5hdkJhck1vZHVsZT4NCiAgICAgICAgICAgICAgICAgICAgPE1vZHVsZT5LZXJuZWw6Ok91dHB1dDo6SFRNTDo6TmF2QmFyTW9kdWxlQWRtaW5JVFJNPC9Nb2R1bGU+DQogICAgICAgICAgICAgICAgPC9OYXZCYXJNb2R1bGU+DQogICAgICAgICAgICAgICAgPExvYWRlcj4NCiAgICAgICAgICAgICAgICAgICAgPENTUz5Db3JlLkFnZW50LkFkbWluLmNzczwvQ1NTPg0KICAgICAgICAgICAgICAgICAgICA8Q1NTX0lFNz5Db3JlLkFnZW50LkFkbWluSUU3LmNzczwvQ1NTX0lFNz4NCiAgICAgICAgICAgICAgICAgICAgPEphdmFTY3JpcHQ+Q29yZS5BZ2VudC5BZG1pbi5TeXNDb25maWcuanM8L0phdmFTY3JpcHQ+DQogICAgICAgICAgICAgICAgPC9Mb2FkZXI+DQogICAgICAgICAgICA8L0Zyb250ZW5kTW9kdWxlUmVnPg0KICAgICAgICA8L1NldHRpbmc+DQogICAgPC9Db25maWdJdGVtPg0KCQ0KCTxDb25maWdJdGVtIE5hbWU9IkZyb250ZW5kOjpNb2R1bGUjIyNBZG1pbkluaXRJVFJNIiBSZXF1aXJlZD0iMSIgVmFsaWQ9IjEiPg0KICAgICAgICA8RGVzY3JpcHRpb24gVHJhbnNsYXRhYmxlPSIxIj5Gcm9udGVuZCBtb2R1bGUgcmVnaXN0cmF0aW9uIGZvciB0aGUgYWdlbnQgaW50ZXJmYWNlLjwvRGVzY3JpcHRpb24+DQogICAgICAgIDxHcm91cD5JVFJNPC9Hcm91cD4NCiAgICAgICAgPFN1Ykdyb3VwPkZyb250ZW5kOjpBZG1pbjo6TW9kdWxlUmVnaXN0cmF0aW9uPC9TdWJHcm91cD4NCiAgICAgICAgPFNldHRpbmc+DQogICAgICAgICAgICA8RnJvbnRlbmRNb2R1bGVSZWc+DQogICAgICAgICAgICAgICAgPEdyb3Vwcz5hZG1pbjwvR3JvdXBzPg0KICAgICAgICAgICAgICAgIDxEZXNjcmlwdGlvbj5JVFJNPC9EZXNjcmlwdGlvbj4NCiAgICAgICAgICAgICAgICA8VGl0bGU+SW5pdDwvVGl0bGU+DQogICAgICAgICAgICAgICAgPE5hdkJhck5hbWU+PC9OYXZCYXJOYW1lPg0KICAgICAgICAgICAgPC9Gcm9udGVuZE1vZHVsZVJlZz4NCiAgICAgICAgPC9TZXR0aW5nPg0KICAgIDwvQ29uZmlnSXRlbT4NCgkNCgk8Q29uZmlnSXRlbSBOYW1lPSJGcm9udGVuZDo6TW9kdWxlIyMjS29sZWpraVphc29ieSIgUmVxdWlyZWQ9IjEiIFZhbGlkPSIxIj4NCiAgICAgICAgPERlc2NyaXB0aW9uIFRyYW5zbGF0YWJsZT0iMSI+RnJvbnRlbmQgbW9kdWxlIHJlZ2lzdHJhdGlvbiBmb3IgdGhlIGFnZW50IGludGVyZmFjZS48L0Rlc2NyaXB0aW9uPg0KICAgICAgICA8R3JvdXA+SVRSTTwvR3JvdXA+DQogICAgICAgIDxTdWJHcm91cD5Gcm9udGVuZDo6QWRtaW46Ok1vZHVsZVJlZ2lzdHJhdGlvbjwvU3ViR3JvdXA+DQogICAgICAgIDxTZXR0aW5nPg0KICAgICAgICAgICAgPEZyb250ZW5kTW9kdWxlUmVnPg0KCQkJCTxHcm91cFJvPjwvR3JvdXBSbz4NCgkJCQk8R3JvdXA+YWRtaW48L0dyb3VwPgkJCQ0KICAgICAgICAgICAgICAgIDxEZXNjcmlwdGlvbiBUcmFuc2xhdGFibGU9IjEiPlBvbGFjeiBrb2xlamtpIHogemFzb2JhbWk8L0Rlc2NyaXB0aW9uPg0KICAgICAgICAgICAgICAgIDxUaXRsZSBUcmFuc2xhdGFibGU9IjEiPlphc29ieS1Lb2xlamtpPC9UaXRsZT4NCiAgICAgICAgICAgICAgICA8TmF2QmFyTmFtZT5JVFJNPC9OYXZCYXJOYW1lPg0KCQkJCTxMb2FkZXI+DQoJCQkJCTxDU1M+dGhpcmRwYXJ0eS9pdHJtLmNzczwvQ1NTPg0KICAgICAgICAgICAgICAgIDwvTG9hZGVyPg0KCQkJCTxOYXZCYXJNb2R1bGU+DQogICAgICAgICAgICAgICAgICAgIDxNb2R1bGU+S2VybmVsOjpPdXRwdXQ6OkhUTUw6Ok5hdkJhck1vZHVsZUFkbWluSVRSTTwvTW9kdWxlPg0KICAgICAgICAgICAgICAgICAgICA8TmFtZSBUcmFuc2xhdGFibGU9IjEiPktvbGVqa2ktWmFzb2J5PC9OYW1lPg0KICAgICAgICAgICAgICAgICAgICA8RGVzY3JpcHRpb24gVHJhbnNsYXRhYmxlPSIxIj5Qb2xhY3oga29sZWpraSB6IHphc29iYW1pPC9EZXNjcmlwdGlvbj4NCiAgICAgICAgICAgICAgICAgICAgPEJsb2NrPlptaWFueTwvQmxvY2s+DQogICAgICAgICAgICAgICAgICAgIDxQcmlvPjEwNTA8L1ByaW8+DQogICAgICAgICAgICAgICAgPC9OYXZCYXJNb2R1bGU+DQogICAgICAgICAgICA8L0Zyb250ZW5kTW9kdWxlUmVnPg0KICAgICAgICA8L1NldHRpbmc+DQogICAgPC9Db25maWdJdGVtPg0KCQ0KCTxDb25maWdJdGVtIE5hbWU9IkZyb250ZW5kOjpNb2R1bGUjIyNVenl0a293bmljeURvS29sZWpraSIgUmVxdWlyZWQ9IjEiIFZhbGlkPSIxIj4NCiAgICAgICAgPERlc2NyaXB0aW9uIFRyYW5zbGF0YWJsZT0iMSI+RnJvbnRlbmQgbW9kdWxlIHJlZ2lzdHJhdGlvbiBmb3IgdGhlIGFnZW50IGludGVyZmFjZS48L0Rlc2NyaXB0aW9uPg0KICAgICAgICA8R3JvdXA+SVRSTTwvR3JvdXA+DQogICAgICAgIDxTdWJHcm91cD5Gcm9udGVuZDo6QWRtaW46Ok1vZHVsZVJlZ2lzdHJhdGlvbjwvU3ViR3JvdXA+DQogICAgICAgIDxTZXR0aW5nPg0KICAgICAgICAgICAgPEZyb250ZW5kTW9kdWxlUmVnPg0KCQkJCTxHcm91cFJvPjwvR3JvdXBSbz4NCgkJCQk8R3JvdXA+YWRtaW48L0dyb3VwPgkJCQ0KICAgICAgICAgICAgICAgIDxEZXNjcmlwdGlvbiBUcmFuc2xhdGFibGU9IjEiPlBvbGFjeiB1enl0a293bmlrb3cgeiBrb2xlamthbWk8L0Rlc2NyaXB0aW9uPg0KICAgICAgICAgICAgICAgIDxUaXRsZSBUcmFuc2xhdGFibGU9IjEiPlV6eXRrb3duaWN5LUtvbGVqa2k8L1RpdGxlPg0KICAgICAgICAgICAgICAgIDxOYXZCYXJOYW1lPklUUk08L05hdkJhck5hbWU+DQoJCQkJPExvYWRlcj4NCgkJCQkJPEphdmFTY3JpcHQ+dGhpcmRwYXJ0eS9pdHJtL1V6eXRrb3duaWN5RG9Lb2xlamtpLmpzPC9KYXZhU2NyaXB0Pg0KCQkJCQk8Q1NTPnRoaXJkcGFydHkvaXRybS5jc3M8L0NTUz4NCiAgICAgICAgICAgICAgICA8L0xvYWRlcj4NCgkJCQk8TmF2QmFyTW9kdWxlPg0KICAgICAgICAgICAgICAgICAgICA8TW9kdWxlPktlcm5lbDo6T3V0cHV0OjpIVE1MOjpOYXZCYXJNb2R1bGVBZG1pbklUUk08L01vZHVsZT4NCiAgICAgICAgICAgICAgICAgICAgPE5hbWUgVHJhbnNsYXRhYmxlPSIxIj5Venl0a293bmljeS1Lb2xlamtpPC9OYW1lPg0KICAgICAgICAgICAgICAgICAgICA8RGVzY3JpcHRpb24gVHJhbnNsYXRhYmxlPSIxIj5Qb2xhY3ogdXp5dGtvd25pa293IHoga29sZWprYW1pPC9EZXNjcmlwdGlvbj4NCiAgICAgICAgICAgICAgICAgICAgPEJsb2NrPlptaWFueTwvQmxvY2s+DQogICAgICAgICAgICAgICAgICAgIDxQcmlvPjEwNTA8L1ByaW8+DQogICAgICAgICAgICAgICAgPC9OYXZCYXJNb2R1bGU+DQogICAgICAgICAgICA8L0Zyb250ZW5kTW9kdWxlUmVnPg0KICAgICAgICA8L1NldHRpbmc+DQogICAgPC9Db25maWdJdGVtPg0KCTxDb25maWdJdGVtIE5hbWU9IlRpY2tldDo6RnJvbnRlbmQ6Ok1lbnVNb2R1bGUjIyM0NDUtWmFzb2J5IiBSZXF1aXJlZD0iMSIgVmFsaWQ9IjEiPg0KICAgICAgICA8RGVzY3JpcHRpb24gVHJhbnNsYXRhYmxlPSIxIj5Qb2thenVqZSBsaW5rIHcgbWVudSBkbyB3eWNlbnkgemdsb3N6ZW5pYTwvRGVzY3JpcHRpb24+DQogICAgICAgIDxHcm91cD5JVFJNPC9Hcm91cD4NCiAgICAgICAgPFN1Ykdyb3VwPkZyb250ZW5kOjpBZ2VudDo6VGlja2V0OjpNZW51TW9kdWxlPC9TdWJHcm91cD4NCiAgICAgICAgPFNldHRpbmc+DQogICAgICAgICAgICA8SGFzaD4NCiAgICAgICAgICAgICAgICA8SXRlbSBLZXk9Ik1vZHVsZSI+S2VybmVsOjpPdXRwdXQ6OkhUTUw6OlRpY2tldE1lbnVHZW5lcmljPC9JdGVtPg0KICAgICAgICAgICAgICAgIDxJdGVtIEtleT0iTmFtZSIgVHJhbnNsYXRhYmxlPSIxIj5aYXNvYnk8L0l0ZW0+DQogICAgICAgICAgICAgICAgPEl0ZW0gS2V5PSJEZXNjcmlwdGlvbiIgVHJhbnNsYXRhYmxlPSIxIj5XeWNlbiB6Z2xvc3plbmllPC9JdGVtPg0KICAgICAgICAgICAgICAgIDxJdGVtIEtleT0iQWN0aW9uIj5BZ2VudFRpY2tldFphc29ieTwvSXRlbT4NCiAgICAgICAgICAgICAgICA8SXRlbSBLZXk9IkxpbmsiPkFjdGlvbj1BZ2VudFRpY2tldFphc29ieTtUaWNrZXRJRD0kUURhdGF7IlRpY2tldElEIn08L0l0ZW0+DQogICAgICAgICAgICAgICAgPEl0ZW0gS2V5PSJUYXJnZXQiPjwvSXRlbT4NCiAgICAgICAgICAgICAgICA8SXRlbSBLZXk9IlBvcHVwVHlwZSI+VGlja2V0QWN0aW9uPC9JdGVtPg0KICAgICAgICAgICAgPC9IYXNoPg0KICAgICAgICA8L1NldHRpbmc+DQogICAgPC9Db25maWdJdGVtPg0KCTxDb25maWdJdGVtIE5hbWU9IkZyb250ZW5kOjpNb2R1bGUjIyNBZ2VudFRpY2tldFphc29ieSIgUmVxdWlyZWQ9IjEiIFZhbGlkPSIxIj4NCiAgICAgICAgPERlc2NyaXB0aW9uIFRyYW5zbGF0YWJsZT0iMSI+RnJvbnRlbmQgbW9kdWxlIHJlZ2lzdHJhdGlvbiBmb3IgdGhlIGFnZW50IGludGVyZmFjZS48L0Rlc2NyaXB0aW9uPg0KICAgICAgICA8R3JvdXA+SVRSTTwvR3JvdXA+DQogICAgICAgIDxTdWJHcm91cD5Gcm9udGVuZDo6QWdlbnQ6Ok1vZHVsZVJlZ2lzdHJhdGlvbjwvU3ViR3JvdXA+DQogICAgICAgIDxTZXR0aW5nPg0KICAgICAgICAgICAgPEZyb250ZW5kTW9kdWxlUmVnPg0KICAgICAgICAgICAgICAgIDxHcm91cHM+YWRtaW48L0dyb3Vwcz4NCiAgICAgICAgICAgICAgICA8RGVzY3JpcHRpb24gVHJhbnNsYXRhYmxlPSIxIj5aYXNvYnkgemdsb3N6ZW5pYTwvRGVzY3JpcHRpb24+DQogICAgICAgICAgICAgICAgPFRpdGxlIFRyYW5zbGF0YWJsZT0iMSI+WmFzb2J5PC9UaXRsZT4NCiAgICAgICAgICAgICAgICA8TmF2QmFyTmFtZT5aYXNvYnk8L05hdkJhck5hbWU+DQoJCQkJPExvYWRlcj4NCiAgICAgICAgICAgICAgICAgICAgPEphdmFTY3JpcHQ+Q29yZS5BZ2VudC5UaWNrZXRBY3Rpb24uanM8L0phdmFTY3JpcHQ+DQogICAgICAgICAgICAgICAgPC9Mb2FkZXI+DQogICAgICAgICAgICA8L0Zyb250ZW5kTW9kdWxlUmVnPg0KICAgICAgICA8L1NldHRpbmc+DQogICAgPC9Db25maWdJdGVtPg0KCTxDb25maWdJdGVtIE5hbWU9IlRpY2tldDo6RnJvbnRlbmQ6OkFnZW50VGlja2V0WmFzb2J5IyMjUGVybWlzc2lvbiIgUmVxdWlyZWQ9IjEiIFZhbGlkPSIxIj4NCiAgICAgICAgPERlc2NyaXB0aW9uIFRyYW5zbGF0YWJsZT0iMSI+UmVxdWlyZWQgcGVybWlzc2lvbnMgdG8gdXNlIHRoZSB0aWNrZXQgcGVuZGluZyBzY3JlZW4gb2YgYSB6b29tZWQgdGlja2V0IGluIHRoZSBhZ2VudCBpbnRlcmZhY2UuPC9EZXNjcmlwdGlvbj4NCiAgICAgICAgPEdyb3VwPklUUk08L0dyb3VwPg0KICAgICAgICA8U3ViR3JvdXA+RnJvbnRlbmQ6OkFnZW50OjpUaWNrZXQ6OlZpZXdaYXNvYnk8L1N1Ykdyb3VwPg0KICAgICAgICA8U2V0dGluZz4NCiAgICAgICAgICAgIDxTdHJpbmcgUmVnZXg9IiI+cGVuZGluZzwvU3RyaW5nPg0KICAgICAgICA8L1NldHRpbmc+DQogICAgPC9Db25maWdJdGVtPg0KCTxDb25maWdJdGVtIE5hbWU9IlRpY2tldDo6RnJvbnRlbmQ6OkFnZW50VGlja2V0WmFzb2J5IyMjUmVxdWlyZWRMb2NrIiBSZXF1aXJlZD0iMSIgVmFsaWQ9IjEiPg0KICAgICAgICA8RGVzY3JpcHRpb24gVHJhbnNsYXRhYmxlPSIxIj5EZWZpbmVzIGlmIGEgdGlja2V0IGxvY2sgaXMgcmVxdWlyZWQgaW4gdGhlIHRpY2tldCBwZW5kaW5nIHNjcmVlbiBvZiBhIHpvb21lZCB0aWNrZXQgaW4gdGhlIGFnZW50IGludGVyZmFjZSAoaWYgdGhlIHRpY2tldCBpc24ndCBsb2NrZWQgeWV0LCB0aGUgdGlja2V0IGdldHMgbG9ja2VkIGFuZCB0aGUgY3VycmVudCBhZ2VudCB3aWxsIGJlIHNldCBhdXRvbWF0aWNhbGx5IGFzIGl0cyBvd25lcikuPC9EZXNjcmlwdGlvbj4NCiAgICAgICAgPEdyb3VwPklUUk08L0dyb3VwPg0KICAgICAgICA8U3ViR3JvdXA+RnJvbnRlbmQ6OkFnZW50OjpUaWNrZXQ6OlZpZXdaYXNvYnk8L1N1Ykdyb3VwPg0KICAgICAgICA8U2V0dGluZz4NCiAgICAgICAgICAgIDxPcHRpb24gU2VsZWN0ZWRJRD0iMCI+DQogICAgICAgICAgICAgICAgPEl0ZW0gS2V5PSIwIj5ObzwvSXRlbT4NCiAgICAgICAgICAgICAgICA8SXRlbSBLZXk9IjEiPlllczwvSXRlbT4NCiAgICAgICAgICAgIDwvT3B0aW9uPg0KICAgICAgICA8L1NldHRpbmc+DQogICAgPC9Db25maWdJdGVtPg0KCTxDb25maWdJdGVtIE5hbWU9IlRpY2tldDo6RnJvbnRlbmQ6OkFnZW50VGlja2V0WmFzb2J5IyMjT3duZXIiIFJlcXVpcmVkPSIxIiBWYWxpZD0iMSI+DQogICAgICAgIDxEZXNjcmlwdGlvbiBUcmFuc2xhdGFibGU9IjEiPlNldHMgdGhlIHRpY2tldCBvd25lciBpbiB0aGUgdGlja2V0IHBlbmRpbmcgc2NyZWVuIG9mIGEgem9vbWVkIHRpY2tldCBpbiB0aGUgYWdlbnQgaW50ZXJmYWNlLjwvRGVzY3JpcHRpb24+DQogICAgICAgIDxHcm91cD5JVFJNPC9Hcm91cD4NCiAgICAgICAgPFN1Ykdyb3VwPkZyb250ZW5kOjpBZ2VudDo6VGlja2V0OjpWaWV3WmFzb2J5PC9TdWJHcm91cD4NCiAgICAgICAgPFNldHRpbmc+DQogICAgICAgICAgICA8T3B0aW9uIFNlbGVjdGVkSUQ9IjAiPg0KICAgICAgICAgICAgICAgIDxJdGVtIEtleT0iMCI+Tm88L0l0ZW0+DQogICAgICAgICAgICAgICAgPEl0ZW0gS2V5PSIxIj5ZZXM8L0l0ZW0+DQogICAgICAgICAgICA8L09wdGlvbj4NCiAgICAgICAgPC9TZXR0aW5nPg0KICAgIDwvQ29uZmlnSXRlbT4NCgk8Q29uZmlnSXRlbSBOYW1lPSJUaWNrZXQ6OkZyb250ZW5kOjpBZ2VudFRpY2tldFphc29ieSMjI0R5bmFtaWNGaWVsZCIgUmVxdWlyZWQ9IjEiIFZhbGlkPSIxIj4NCiAgICAgICAgPERlc2NyaXB0aW9uIFRyYW5zbGF0YWJsZT0iMSI+RHluYW1pYyBmaWVsZHMgc2hvd24gaW4gdGhlIHRpY2tldCBwZW5kaW5nIHNjcmVlbiBvZiB0aGUgYWdlbnQgaW50ZXJmYWNlLiBQb3NzaWJsZSBzZXR0aW5nczogMCA9IERpc2FibGVkLCAxID0gRW5hYmxlZCwgMiA9IEVuYWJsZWQgYW5kIHJlcXVpcmVkLjwvRGVzY3JpcHRpb24+DQogICAgICAgIDxHcm91cD5JVFJNPC9Hcm91cD4NCiAgICAgICAgPFN1Ykdyb3VwPkZyb250ZW5kOjpBZ2VudDo6VGlja2V0OjpWaWV3WmFzb2J5PC9TdWJHcm91cD4NCiAgICAgICAgPFNldHRpbmc+DQogICAgICAgICAgICA8SGFzaD4NCiAgICAgICAgICAgICAgICA8SXRlbSBLZXk9Ilphc29ieSI+MjwvSXRlbT4NCiAgICAgICAgICAgIDwvSGFzaD4NCiAgICAgICAgPC9TZXR0aW5nPg0KICAgIDwvQ29uZmlnSXRlbT4NCgk8Q29uZmlnSXRlbSBOYW1lPSJUaWNrZXQ6OkV2ZW50TW9kdWxlUG9zdCMjI09rcmVzVXBkYXRlIiBSZXF1aXJlZD0iMSIgVmFsaWQ9IjEiPg0KICAgICAgICA8RGVzY3JpcHRpb24gVHJhbnNsYXRhYmxlPSIxIj5QcnplbGljemEgZG9zdGVwbmUgZGxhIG9rcmVzb3cgemFzb2J5PC9EZXNjcmlwdGlvbj4NCiAgICAgICAgPEdyb3VwPklUUk08L0dyb3VwPg0KICAgICAgICA8U3ViR3JvdXA+RXZlbnRNb2R1bGU8L1N1Ykdyb3VwPg0KICAgICAgICA8U2V0dGluZz4NCiAgICAgICAgICAgIDxIYXNoPg0KICAgICAgICAgICAgICAgIDxJdGVtIEtleT0iTW9kdWxlIj5LZXJuZWw6Ok1vZHVsZXM6Okl0cm1aZGFyemVuaWE8L0l0ZW0+DQogICAgICAgICAgICAgICAgPEl0ZW0gS2V5PSJFdmVudCI+Wm1pYW5hS2FsZW5kYXJ6YURsYUtvbGVqa2k8L0l0ZW0+DQogICAgICAgICAgICA8L0hhc2g+DQogICAgICAgIDwvU2V0dGluZz4NCiAgICA8L0NvbmZpZ0l0ZW0+DQoJPENvbmZpZ0l0ZW0gTmFtZT0iRnJvbnRlbmQ6Ok1vZHVsZSMjI0tvbGVqa293YW5pZVRpY2tldG93IiBSZXF1aXJlZD0iMSIgVmFsaWQ9IjEiPg0KICAgICAgICA8RGVzY3JpcHRpb24gVHJhbnNsYXRhYmxlPSIxIj5Gcm9udGVuZCBtb2R1bGUgcmVnaXN0cmF0aW9uIGZvciB0aGUgYWdlbnQgaW50ZXJmYWNlLjwvRGVzY3JpcHRpb24+DQogICAgICAgIDxHcm91cD5JVFJNPC9Hcm91cD4NCiAgICAgICAgPFN1Ykdyb3VwPkZyb250ZW5kOjpBZG1pbjo6TW9kdWxlUmVnaXN0cmF0aW9uPC9TdWJHcm91cD4NCiAgICAgICAgPFNldHRpbmc+DQogICAgICAgICAgICA8RnJvbnRlbmRNb2R1bGVSZWc+DQoJCQkJPEdyb3VwUm8+PC9Hcm91cFJvPg0KCQkJCTxHcm91cD5hZG1pbjwvR3JvdXA+CQkJDQogICAgICAgICAgICAgICAgPERlc2NyaXB0aW9uIFRyYW5zbGF0YWJsZT0iMSI+S29sZWprb3dhbmllIHRpY2tldG93PC9EZXNjcmlwdGlvbj4NCiAgICAgICAgICAgICAgICA8VGl0bGUgVHJhbnNsYXRhYmxlPSIxIj5Lb2xlamtvd2FuaWU8L1RpdGxlPg0KICAgICAgICAgICAgICAgIDxOYXZCYXJOYW1lPklUUk08L05hdkJhck5hbWU+DQoJCQkJPExvYWRlcj4NCgkJCQkJPEphdmFTY3JpcHQ+dGhpcmRwYXJ0eS9pdHJtL2pxdWVyeS11aS0xLjguMTYvdWkvanF1ZXJ5LnVpLmRpYWxvZy5qczwvSmF2YVNjcmlwdD4NCiAgICAgICAgICAgICAgICAgICAgPEphdmFTY3JpcHQ+dGhpcmRwYXJ0eS9pdHJtL2pxdWVyeS11aS0xLjguMTYvdWkvanF1ZXJ5LnVpLnNvcnRhYmxlLmpzPC9KYXZhU2NyaXB0Pg0KCQkJCQk8SmF2YVNjcmlwdD50aGlyZHBhcnR5L2l0cm0vS29sZWprb3dhbmllVGlja2V0b3cuanM8L0phdmFTY3JpcHQ+DQoJCQkJCTxDU1M+dGhpcmRwYXJ0eS9pdHJtLmNzczwvQ1NTPg0KICAgICAgICAgICAgICAgIDwvTG9hZGVyPg0KCQkJCTxOYXZCYXJNb2R1bGU+DQogICAgICAgICAgICAgICAgICAgIDxNb2R1bGU+S2VybmVsOjpPdXRwdXQ6OkhUTUw6Ok5hdkJhck1vZHVsZUFkbWluSVRSTTwvTW9kdWxlPg0KICAgICAgICAgICAgICAgICAgICA8TmFtZSBUcmFuc2xhdGFibGU9IjEiPktvbGVqa293YW5pZTwvTmFtZT4NCiAgICAgICAgICAgICAgICAgICAgPERlc2NyaXB0aW9uIFRyYW5zbGF0YWJsZT0iMSI+S29sZWprb3dhbmllIHRpY2tldG93PC9EZXNjcmlwdGlvbj4NCiAgICAgICAgICAgICAgICAgICAgPEJsb2NrPlptaWFueTwvQmxvY2s+DQogICAgICAgICAgICAgICAgICAgIDxQcmlvPjEwNTA8L1ByaW8+DQogICAgICAgICAgICAgICAgPC9OYXZCYXJNb2R1bGU+DQoJCQkJPE5hdkJhcj4NCiAgICAgICAgICAgICAgICAgICAgPERlc2NyaXB0aW9uIFRyYW5zbGF0YWJsZT0iMSI+SVRSTSBLb2xlamtvd2FuaWUgb3BpczwvRGVzY3JpcHRpb24+DQogICAgICAgICAgICAgICAgICAgIDxOYW1lIFRyYW5zbGF0YWJsZT0iMSI+SVRSTSBLb2xlamtvd2FuaWU8L05hbWU+DQogICAgICAgICAgICAgICAgICAgIDxMaW5rPkFjdGlvbj1Lb2xlamtvd2FuaWVUaWNrZXRvdzwvTGluaz4NCiAgICAgICAgICAgICAgICAgICAgPExpbmtPcHRpb24+PC9MaW5rT3B0aW9uPg0KICAgICAgICAgICAgICAgICAgICA8TmF2QmFyPlRpY2tldDwvTmF2QmFyPg0KICAgICAgICAgICAgICAgICAgICA8VHlwZT48L1R5cGU+DQogICAgICAgICAgICAgICAgICAgIDxCbG9jaz48L0Jsb2NrPg0KICAgICAgICAgICAgICAgICAgICA8QWNjZXNzS2V5PjwvQWNjZXNzS2V5Pg0KICAgICAgICAgICAgICAgICAgICA8UHJpbz45OTwvUHJpbz4NCiAgICAgICAgICAgICAgICA8L05hdkJhcj4NCiAgICAgICAgICAgIDwvRnJvbnRlbmRNb2R1bGVSZWc+DQogICAgICAgIDwvU2V0dGluZz4NCiAgICA8L0NvbmZpZ0l0ZW0+DQoJPENvbmZpZ0l0ZW0gTmFtZT0iVGlja2V0OjpGcm9udGVuZDo6QWdlbnRUaWNrZXRLb2xlamtvd2FuaWUjIyNTdGF0ZSIgUmVxdWlyZWQ9IjEiIFZhbGlkPSIxIj4NCiAgICAgICAgPERlc2NyaXB0aW9uIFRyYW5zbGF0YWJsZT0iMSI+RG9teXNsbnkgc3RhdHVzIGFrdHVhbG5pZSByZWFsaXpvd2FuZWdvIHRpY2tldGE8L0Rlc2NyaXB0aW9uPg0KICAgICAgICA8R3JvdXA+SVRSTTwvR3JvdXA+DQogICAgICAgIDxTdWJHcm91cD5Gcm9udGVuZDo6QWdlbnQ6OlRpY2tldDo6VGlja2V0UXVldWluZzwvU3ViR3JvdXA+DQogICAgICAgIDxWYWxpZGF0ZU1vZHVsZT5LZXJuZWw6OlN5c3RlbTo6U3lzQ29uZmlnOjpTdGF0ZVZhbGlkYXRlPC9WYWxpZGF0ZU1vZHVsZT4NCiAgICAgICAgPFNldHRpbmc+DQogICAgICAgICAgICA8U3RyaW5nIFJlZ2V4PSIiPm9wZW48L1N0cmluZz4NCiAgICAgICAgPC9TZXR0aW5nPg0KICAgIDwvQ29uZmlnSXRlbT4NCgk8Q29uZmlnSXRlbSBOYW1lPSJUaWNrZXQ6OkZyb250ZW5kOjpBZ2VudFRpY2tldEtvbGVqa293YW5pZSMjI1NlYXJjaFRpY2tldHNTdGF0ZXMiIFJlcXVpcmVkPSIxIiBWYWxpZD0iMSI+DQogICAgICAgIDxEZXNjcmlwdGlvbiBUcmFuc2xhdGFibGU9IjEiPlN0YXR1c3kgd3lzenVraXdhbnljaCBkbyBrb2xlamtvd2FuaWEgemdsb3N6ZW48L0Rlc2NyaXB0aW9uPg0KICAgICAgICA8R3JvdXA+SVRSTTwvR3JvdXA+DQogICAgICAgIDxTdWJHcm91cD5Gcm9udGVuZDo6QWdlbnQ6OlRpY2tldDo6VGlja2V0UXVldWluZzwvU3ViR3JvdXA+DQogICAgICAgIDxTZXR0aW5nPg0KICAgICAgICAgICAgPFN0cmluZyBSZWdleD0iIj5uZXcsIG9wZW48L1N0cmluZz4NCiAgICAgICAgPC9TZXR0aW5nPg0KICAgIDwvQ29uZmlnSXRlbT4NCjwvb3Ryc19jb25maWc+</File>
        <File Location="Kernel/System/Queue.pm" Permission="644" Encode="Base64">IyAtLQojIEtlcm5lbC9TeXN0ZW0vUXVldWUucG0gLSBsaWIgZm9yIHF1ZXVlIGZ1bmN0aW9ucwojIENvcHlyaWdodCAoQykgMjAwMS0yMDEzIE9UUlMgQUcsIGh0dHA6Ly9vdHJzLmNvbS8KIyAtLQojIFRoaXMgc29mdHdhcmUgY29tZXMgd2l0aCBBQlNPTFVURUxZIE5PIFdBUlJBTlRZLiBGb3IgZGV0YWlscywgc2VlCiMgdGhlIGVuY2xvc2VkIGZpbGUgQ09QWUlORyBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbiAoQUdQTCkuIElmIHlvdQojIGRpZCBub3QgcmVjZWl2ZSB0aGlzIGZpbGUsIHNlZSBodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvYWdwbC50eHQuCiMgLS0KCnBhY2thZ2UgS2VybmVsOjpTeXN0ZW06OlF1ZXVlOwoKdXNlIHN0cmljdDsKdXNlIHdhcm5pbmdzOwoKdXNlIEtlcm5lbDo6U3lzdGVtOjpDYWNoZUludGVybmFsOwp1c2UgS2VybmVsOjpTeXN0ZW06OkN1c3RvbWVyR3JvdXA7CnVzZSBLZXJuZWw6OlN5c3RlbTo6R3JvdXA7CnVzZSBLZXJuZWw6OlN5c3RlbTo6U3RhbmRhcmRSZXNwb25zZTsKdXNlIEtlcm5lbDo6U3lzdGVtOjpTeXNDb25maWc7CnVzZSBLZXJuZWw6OlN5c3RlbTo6VGltZTsKdXNlIEtlcm5lbDo6U3lzdGVtOjpWYWxpZDsKCnVzZSBEYXRhOjpEdW1wZXI7CnVzZSBLZXJuZWw6OlN5c3RlbTo6RXZlbnRIYW5kbGVyOwp1c2UgdmFycyBxdyhASVNBKTsKCj1oZWFkMSBOQU1FCgpLZXJuZWw6OlN5c3RlbTo6UXVldWUgLSBxdWV1ZSBsaWIKCj1oZWFkMSBTWU5PUFNJUwoKQWxsIHF1ZXVlIGZ1bmN0aW9ucy4gRS4gZy4gdG8gYWRkIHF1ZXVlIG9yIG90aGVyIGZ1bmN0aW9ucy4KCj1oZWFkMSBQVUJMSUMgSU5URVJGQUNFCgo9b3ZlciA0Cgo9Y3V0Cgo9aXRlbSBuZXcoKQoKY3JlYXRlIGFuIG9iamVjdAoKICAgIHVzZSBLZXJuZWw6OkNvbmZpZzsKICAgIHVzZSBLZXJuZWw6OlN5c3RlbTo6RW5jb2RlOwogICAgdXNlIEtlcm5lbDo6U3lzdGVtOjpMb2c7CiAgICB1c2UgS2VybmVsOjpTeXN0ZW06Ok1haW47CiAgICB1c2UgS2VybmVsOjpTeXN0ZW06OkRCOwogICAgdXNlIEtlcm5lbDo6U3lzdGVtOjpRdWV1ZTsKCiAgICBteSAkQ29uZmlnT2JqZWN0ID0gS2VybmVsOjpDb25maWctPm5ldygpOwogICAgbXkgJEVuY29kZU9iamVjdCA9IEtlcm5lbDo6U3lzdGVtOjpFbmNvZGUtPm5ldygKICAgICAgICBDb25maWdPYmplY3QgPT4gJENvbmZpZ09iamVjdCwKICAgICk7CiAgICBteSAkTG9nT2JqZWN0ID0gS2VybmVsOjpTeXN0ZW06OkxvZy0+bmV3KAogICAgICAgIENvbmZpZ09iamVjdCA9PiAkQ29uZmlnT2JqZWN0LAogICAgICAgIEVuY29kZU9iamVjdCA9PiAkRW5jb2RlT2JqZWN0LAogICAgKTsKICAgIG15ICRNYWluT2JqZWN0ID0gS2VybmVsOjpTeXN0ZW06Ok1haW4tPm5ldygKICAgICAgICBDb25maWdPYmplY3QgPT4gJENvbmZpZ09iamVjdCwKICAgICAgICBFbmNvZGVPYmplY3QgPT4gJEVuY29kZU9iamVjdCwKICAgICAgICBMb2dPYmplY3QgICAgPT4gJExvZ09iamVjdCwKICAgICk7CiAgICBteSAkREJPYmplY3QgPSBLZXJuZWw6OlN5c3RlbTo6REItPm5ldygKICAgICAgICBDb25maWdPYmplY3QgPT4gJENvbmZpZ09iamVjdCwKICAgICAgICBFbmNvZGVPYmplY3QgPT4gJEVuY29kZU9iamVjdCwKICAgICAgICBMb2dPYmplY3QgICAgPT4gJExvZ09iamVjdCwKICAgICAgICBNYWluT2JqZWN0ICAgPT4gJE1haW5PYmplY3QsCiAgICApOwogICAgbXkgJFF1ZXVlT2JqZWN0ID0gS2VybmVsOjpTeXN0ZW06OlF1ZXVlLT5uZXcoCiAgICAgICAgQ29uZmlnT2JqZWN0ICAgICAgICA9PiAkQ29uZmlnT2JqZWN0LAogICAgICAgIExvZ09iamVjdCAgICAgICAgICAgPT4gJExvZ09iamVjdCwKICAgICAgICBEQk9iamVjdCAgICAgICAgICAgID0+ICREQk9iamVjdCwKICAgICAgICBNYWluT2JqZWN0ICAgICAgICAgID0+ICRNYWluT2JqZWN0LAogICAgICAgIEVuY29kZU9iamVjdCAgICAgICAgPT4gJEVuY29kZU9iamVjdCwKICAgICAgICBHcm91cE9iamVjdCAgICAgICAgID0+ICRHcm91cE9iamVjdCwgIyBpZiBnaXZlbgogICAgICAgIEN1c3RvbWVyR3JvdXBPYmplY3QgPT4gJEN1c3RvbWVyR3JvdXBPYmplY3QsICMgaWYgZ2l2ZW4KICAgICk7Cgo9Y3V0CgpzdWIgbmV3IHsKICAgIG15ICggJFR5cGUsICVQYXJhbSApID0gQF87CgogICAgIyBhbGxvY2F0ZSBuZXcgaGFzaCBmb3Igb2JqZWN0CiAgICBteSAkU2VsZiA9IHt9OwogICAgYmxlc3MoICRTZWxmLCAkVHlwZSApOwoKICAgICRTZWxmLT57UXVldWVJRH0gPSAkUGFyYW17UXVldWVJRH0gfHwgJyc7CgogICAgIyBjaGVjayBuZWVkZWQgb2JqZWN0cwogICAgZm9yIChxdyhEQk9iamVjdCBDb25maWdPYmplY3QgTG9nT2JqZWN0IE1haW5PYmplY3QgRW5jb2RlT2JqZWN0KSkgewogICAgICAgICRTZWxmLT57JF99ID0gJFBhcmFteyRffSB8fCBkaWUgIkdvdCBubyAkXyEiOwogICAgfQogICAgJFNlbGYtPntWYWxpZE9iamVjdH0gICAgICAgICA9IEtlcm5lbDo6U3lzdGVtOjpWYWxpZC0+bmV3KCVQYXJhbSk7CiAgICAkU2VsZi0+e0NhY2hlSW50ZXJuYWxPYmplY3R9ID0gS2VybmVsOjpTeXN0ZW06OkNhY2hlSW50ZXJuYWwtPm5ldygKICAgICAgICAlUGFyYW0sCiAgICAgICAgVHlwZSA9PiAnUXVldWUnLAogICAgICAgIFRUTCAgPT4gNjAgKiA2MCAqIDI0ICogMjAsCiAgICApOwoKICAgICMgbGliIG9iamVjdAogICAgJFNlbGYtPntTdGFuZGFyZFJlc3BvbnNlT2JqZWN0fSA9IEtlcm5lbDo6U3lzdGVtOjpTdGFuZGFyZFJlc3BvbnNlLT5uZXcoJVBhcmFtKTsKICAgIGlmICggISRQYXJhbXtHcm91cE9iamVjdH0gKSB7CiAgICAgICAgJFNlbGYtPntHcm91cE9iamVjdH0gPSBLZXJuZWw6OlN5c3RlbTo6R3JvdXAtPm5ldyglUGFyYW0pOwogICAgfQogICAgZWxzZSB7CiAgICAgICAgJFNlbGYtPntHcm91cE9iamVjdH0gPSAkUGFyYW17R3JvdXBPYmplY3R9OwogICAgfQogICAgaWYgKCAhJFBhcmFte0N1c3RvbWVyR3JvdXBPYmplY3R9ICkgewogICAgICAgICRTZWxmLT57Q3VzdG9tZXJHcm91cE9iamVjdH0gPSBLZXJuZWw6OlN5c3RlbTo6Q3VzdG9tZXJHcm91cC0+bmV3KCVQYXJhbSk7CiAgICB9CiAgICBlbHNlIHsKICAgICAgICAkU2VsZi0+e0N1c3RvbWVyR3JvdXBPYmplY3R9ID0gJFBhcmFte0N1c3RvbWVyR3JvdXBPYmplY3R9OwogICAgfQoKICAgICMgbG9hZCBnZW5lcmF0b3IgcHJlZmVyZW5jZXMgbW9kdWxlCiAgICBteSAkR2VuZXJhdG9yTW9kdWxlID0gJFNlbGYtPntDb25maWdPYmplY3R9LT5HZXQoJ1F1ZXVlOjpQcmVmZXJlbmNlc01vZHVsZScpCiAgICAgICAgfHwgJ0tlcm5lbDo6U3lzdGVtOjpRdWV1ZTo6UHJlZmVyZW5jZXNEQic7CiAgICBpZiAoICRTZWxmLT57TWFpbk9iamVjdH0tPlJlcXVpcmUoJEdlbmVyYXRvck1vZHVsZSkgKSB7CiAgICAgICAgJFNlbGYtPntQcmVmZXJlbmNlc09iamVjdH0gPSAkR2VuZXJhdG9yTW9kdWxlLT5uZXcoCiAgICAgICAgICAgICVQYXJhbSwKICAgICAgICAgICAgQ2FjaGVJbnRlcm5hbE9iamVjdCA9PiAkU2VsZi0+e0NhY2hlSW50ZXJuYWxPYmplY3R9LAogICAgICAgICk7CiAgICB9CgogICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gIwogICAgIyAgZGVmYXVsdCBxdWV1ZSBzZXR0aW5ncyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIwogICAgIyAgdGhlc2Ugc2V0dGluZ3MgYXJlIHVzZWQgYnkgdGhlIENMSSB2ZXJzaW9uICAgICAgICAgIwogICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gIwogICAgJFNlbGYtPntRdWV1ZURlZmF1bHRzfSA9IHsKICAgICAgICBDYWxlbmRhciAgICAgICAgICAgID0+ICcnLAogICAgICAgIFVubG9ja1RpbWVvdXQgICAgICAgPT4gMCwKICAgICAgICBGaXJzdFJlc3BvbnNlVGltZSAgID0+IDAsCiAgICAgICAgRmlyc3RSZXNwb25zZU5vdGlmeSA9PiAwLAogICAgICAgIFVwZGF0ZVRpbWUgICAgICAgICAgPT4gMCwKICAgICAgICBVcGRhdGVOb3RpZnkgICAgICAgID0+IDAsCiAgICAgICAgU29sdXRpb25UaW1lICAgICAgICA9PiAwLAogICAgICAgIFNvbHV0aW9uTm90aWZ5ICAgICAgPT4gMCwKICAgICAgICBTeXN0ZW1BZGRyZXNzSUQgICAgID0+IDEsCiAgICAgICAgU2FsdXRhdGlvbklEICAgICAgICA9PiAxLAogICAgICAgIFNpZ25hdHVyZUlEICAgICAgICAgPT4gMSwKICAgICAgICBGb2xsb3dVcElEICAgICAgICAgID0+IDEsCiAgICAgICAgRm9sbG93VXBMb2NrICAgICAgICA9PiAwLAogICAgfTsKCQoJIyBpbml0IG9mIGV2ZW50IGhhbmRsZXIKICAgIHB1c2ggQElTQSwgJ0tlcm5lbDo6U3lzdGVtOjpFdmVudEhhbmRsZXInOwogICAgJFNlbGYtPkV2ZW50SGFuZGxlckluaXQoCiAgICAgICAgQ29uZmlnICAgICA9PiAnVGlja2V0OjpFdmVudE1vZHVsZVBvc3QnLAogICAgICAgIEJhc2VPYmplY3QgPT4gJ1F1ZXVlT2JqZWN0JywKICAgICAgICBPYmplY3RzICAgID0+IHsKICAgICAgICAgICAgJXskU2VsZn0sCiAgICAgICAgfSwKICAgICk7CgkKICAgIHJldHVybiAkU2VsZjsKfQoKPWl0ZW0gR2V0U3lzdGVtQWRkcmVzcygpCgpnZXQgYSBxdWV1ZSBzeXN0ZW0gZW1haWwgYWRkcmVzcyBhcyBoYXNoIChFbWFpbCwgUmVhbE5hbWUpCgogICAgbXkgJUFkZHJlc3MgPSAkUXVldWVPYmplY3QtPkdldFN5c3RlbUFkZHJlc3MoCiAgICAgICAgUXVldWVJRCA9PiAxMjMsCiAgICApOwoKPWN1dAoKc3ViIEdldFN5c3RlbUFkZHJlc3MgewogICAgbXkgKCAkU2VsZiwgJVBhcmFtICkgPSBAXzsKCiAgICBteSAlQWRkcmVzczsKICAgIG15ICRRdWV1ZUlEID0gJFBhcmFte1F1ZXVlSUR9IHx8ICRTZWxmLT57UXVldWVJRH07CgogICAgcmV0dXJuIGlmICEkU2VsZi0+e0RCT2JqZWN0fS0+UHJlcGFyZSgKICAgICAgICBTUUwgPT4gJ1NFTEVDVCBzYS52YWx1ZTAsIHNhLnZhbHVlMSBGUk9NIHN5c3RlbV9hZGRyZXNzIHNhLCBxdWV1ZSBzcSAnCiAgICAgICAgICAgIC4gJ1dIRVJFIHNxLmlkID0gPyBBTkQgc2EuaWQgPSBzcS5zeXN0ZW1fYWRkcmVzc19pZCcsCiAgICAgICAgQmluZCAgPT4gWyBcJFF1ZXVlSUQgXSwKICAgICAgICBMaW1pdCA9PiAxLAogICAgKTsKCiAgICB3aGlsZSAoIG15IEBSb3cgPSAkU2VsZi0+e0RCT2JqZWN0fS0+RmV0Y2hyb3dBcnJheSgpICkgewogICAgICAgICRBZGRyZXNze0VtYWlsfSAgICA9ICRSb3dbMF07CiAgICAgICAgJEFkZHJlc3N7UmVhbE5hbWV9ID0gJFJvd1sxXTsKICAgIH0KCiAgICAjIHByZXBhcmUgcmVhbG5hbWUgcXVvdGUKICAgIGlmICggJEFkZHJlc3N7UmVhbE5hbWV9ID1+IC8oLHxAfFwofFwpfDopLyAmJiAkQWRkcmVzc3tSZWFsTmFtZX0gIX4gL14oInwnKS8gKSB7CiAgICAgICAgJEFkZHJlc3N7UmVhbE5hbWV9ID1+IHMvIi9cIi9nOwogICAgICAgICRBZGRyZXNze1JlYWxOYW1lfSA9ICciJyAuICRBZGRyZXNze1JlYWxOYW1lfSAuICciJzsKICAgIH0KCiAgICByZXR1cm4gJUFkZHJlc3M7Cn0KCj1pdGVtIEdldFNpZ25hdHVyZSgpCgpnZXQgYSBxdWV1ZSBzaWduYXR1cmUKCiAgICBteSAkU2lnbmF0dXJlID0gJFF1ZXVlT2JqZWN0LT5HZXRTaWduYXR1cmUoUXVldWVJRCA9PiAxMjMpOwoKPWN1dAoKc3ViIEdldFNpZ25hdHVyZSB7CiAgICBteSAoICRTZWxmLCAlUGFyYW0gKSA9IEBfOwoKICAgICMgY2hlY2sgbmVlZGVkIHN0dWZmCiAgICBpZiAoICEkUGFyYW17UXVldWVJRH0gKSB7CiAgICAgICAgJFNlbGYtPntMb2dPYmplY3R9LT5Mb2coIFByaW9yaXR5ID0+ICdlcnJvcicsIE1lc3NhZ2UgPT4gJ05lZWQgUXVldWVJRCEnICk7CiAgICAgICAgcmV0dXJuOwogICAgfQoKICAgIHJldHVybiBpZiAhJFNlbGYtPntEQk9iamVjdH0tPlByZXBhcmUoCiAgICAgICAgU1FMID0+ICdTRUxFQ1QgdGV4dCBGUk9NIHNpZ25hdHVyZSBzaSwgcXVldWUgc3EgJwogICAgICAgICAgICAuICcgV0hFUkUgc3EuaWQgPSA/IEFORCBzcS5zaWduYXR1cmVfaWQgPSBzaS5pZCcsCiAgICAgICAgQmluZCAgPT4gWyBcJFBhcmFte1F1ZXVlSUR9IF0sCiAgICAgICAgTGltaXQgPT4gMSwKICAgICk7CgogICAgIyBmZXRjaCB0aGUgcmVzdWx0CiAgICBteSAkU3RyaW5nID0gJyc7CiAgICB3aGlsZSAoIG15IEBSb3cgPSAkU2VsZi0+e0RCT2JqZWN0fS0+RmV0Y2hyb3dBcnJheSgpICkgewogICAgICAgICRTdHJpbmcgPSAkUm93WzBdOwogICAgfQoKICAgIHJldHVybiAkU3RyaW5nOwp9CgojIGZvciBjb21hcHQhCnN1YiBTZXRRdWV1ZVN0YW5kYXJkUmVzcG9uc2UgewogICAgbXkgKCAkU2VsZiwgJVBhcmFtICkgPSBAXzsKCiAgICBpZiAoICEkUGFyYW17UmVzcG9uc2VJRH0gfHwgISRQYXJhbXtRdWV1ZUlEfSB8fCAhJFBhcmFte1VzZXJJRH0gKSB7CiAgICAgICAgJFNlbGYtPntMb2dPYmplY3R9LT5Mb2coCiAgICAgICAgICAgIFByaW9yaXR5ID0+ICdlcnJvcicsCiAgICAgICAgICAgIE1lc3NhZ2UgID0+ICdOZWVkIFJlc3BvbnNlSUQsIFF1ZXVlSUQgYW5kIFVzZXJJRCEnLAogICAgICAgICk7CiAgICAgICAgcmV0dXJuOwogICAgfQoKICAgICMgc3FsCiAgICByZXR1cm4gJFNlbGYtPntEQk9iamVjdH0tPkRvKAogICAgICAgIFNRTCA9PiAnSU5TRVJUIElOVE8gcXVldWVfc3RhbmRhcmRfcmVzcG9uc2UgJwogICAgICAgICAgICAuICcocXVldWVfaWQsIHN0YW5kYXJkX3Jlc3BvbnNlX2lkLCBjcmVhdGVfdGltZSwgY3JlYXRlX2J5LCBjaGFuZ2VfdGltZSwgY2hhbmdlX2J5KScKICAgICAgICAgICAgLiAnIFZBTFVFUyAoID8sID8sIGN1cnJlbnRfdGltZXN0YW1wLCA/LCBjdXJyZW50X3RpbWVzdGFtcCwgPyknLAogICAgICAgIEJpbmQgPT4gWyBcJFBhcmFte1F1ZXVlSUR9LCBcJFBhcmFte1Jlc3BvbnNlSUR9LCBcJFBhcmFte1VzZXJJRH0sIFwkUGFyYW17VXNlcklEfSBdLAogICAgKTsKfQoKPWl0ZW0gR2V0U3RhbmRhcmRSZXNwb25zZXMoKQoKZ2V0IHN0ZCByZXNwb25zZXMgb2YgYSBxdWV1ZQoKICAgIG15ICVSZXNwb25zZXMgPSAkUXVldWVPYmplY3QtPkdldFN0YW5kYXJkUmVzcG9uc2VzKCBRdWV1ZUlEID0+IDEyMyApOwoKICAgIG15ICVRdWV1ZXMgPSAkUXVldWVPYmplY3QtPkdldFN0YW5kYXJkUmVzcG9uc2VzKCBTdGFuZGFyZFJlc3BvbnNlSUQgPT4gMTIzICk7Cgo9Y3V0CgpzdWIgR2V0U3RhbmRhcmRSZXNwb25zZXMgewogICAgbXkgKCAkU2VsZiwgJVBhcmFtICkgPSBAXzsKCiAgICAjIGNoZWNrIG5lZWRlZCBzdHVmZgogICAgaWYgKCAhJFBhcmFte1F1ZXVlSUR9ICYmICEkUGFyYW17U3RhbmRhcmRSZXNwb25zZUlEfSApIHsKICAgICAgICAkU2VsZi0+e0xvZ09iamVjdH0tPkxvZygKICAgICAgICAgICAgUHJpb3JpdHkgPT4gJ2Vycm9yJywKICAgICAgICAgICAgTWVzc2FnZSAgPT4gJ0dvdCBubyBTdGFuZGFyZFJlc3BvbnNlSUQgb3IgUXVldWVJRCEnLAogICAgICAgICk7CiAgICAgICAgcmV0dXJuOwogICAgfQoKICAgIGlmICggJFBhcmFte1F1ZXVlSUR9ICkgewoKICAgICAgICAjIGNoZWNrIGlmIHRoaXMgcmVzdWx0IGlzIHByZXNlbnQKICAgICAgICByZXR1cm4gJXsgJFNlbGYtPnsiU3RhbmRhcmRSZXNwb25zZXM6OiRQYXJhbXtRdWV1ZUlEfSJ9IH0KICAgICAgICAgICAgaWYgJFNlbGYtPnsiU3RhbmRhcmRSZXNwb25zZXM6OiRQYXJhbXtRdWV1ZUlEfSJ9OwoKICAgICAgICAjIGdldCBzdGQuIHJlc3BvbnNlcwogICAgICAgIG15ICRTUUwgPSAiU0VMRUNUIHNyLmlkLCBzci5uYW1lICIKICAgICAgICAgICAgLiAiIEZST00gc3RhbmRhcmRfcmVzcG9uc2Ugc3IsIHF1ZXVlX3N0YW5kYXJkX3Jlc3BvbnNlIHFzciBXSEVSRSAiCiAgICAgICAgICAgIC4gIiBxc3IucXVldWVfaWQgSU4gKCIKICAgICAgICAgICAgLiAkU2VsZi0+e0RCT2JqZWN0fS0+UXVvdGUoICRQYXJhbXtRdWV1ZUlEfSwgJ0ludGVnZXInICkKICAgICAgICAgICAgLiAiKSBBTkQgIgogICAgICAgICAgICAuICIgcXNyLnN0YW5kYXJkX3Jlc3BvbnNlX2lkID0gc3IuaWQgQU5EICIKICAgICAgICAgICAgLiAiIHNyLnZhbGlkX2lkIElOICggJHtcKGpvaW4gJywgJywgJFNlbGYtPntWYWxpZE9iamVjdH0tPlZhbGlkSURzR2V0KCkpfSApIgogICAgICAgICAgICAuICIgT1JERVIgQlkgc3IubmFtZSI7CgogICAgICAgIHJldHVybiBpZiAhJFNlbGYtPntEQk9iamVjdH0tPlByZXBhcmUoIFNRTCA9PiAkU1FMICk7CgogICAgICAgICMgZmV0Y2ggdGhlIHJlc3VsdAogICAgICAgIG15ICVTdGFuZGFyZFJlc3BvbnNlczsKICAgICAgICB3aGlsZSAoIG15IEBSb3cgPSAkU2VsZi0+e0RCT2JqZWN0fS0+RmV0Y2hyb3dBcnJheSgpICkgewogICAgICAgICAgICAkU3RhbmRhcmRSZXNwb25zZXN7ICRSb3dbMF0gfSA9ICRSb3dbMV07CiAgICAgICAgfQoKICAgICAgICAjIHN0b3JlIHN0ZCByZXNwb25zZXMKICAgICAgICAkU2VsZi0+eyJTdGFuZGFyZFJlc3BvbnNlczo6JFBhcmFte1F1ZXVlSUR9In0gPSBcJVN0YW5kYXJkUmVzcG9uc2VzOwoKICAgICAgICByZXR1cm4gJVN0YW5kYXJkUmVzcG9uc2VzOwogICAgfQoKICAgIGVsc2UgewoKICAgICAgICAjIGNoZWNrIGlmIHRoaXMgcmVzdWx0IGlzIHByZXNlbnQKICAgICAgICByZXR1cm4gJXsgJFNlbGYtPnsiUXVldWVzOjokUGFyYW17U3RhbmRhcmRSZXNwb25zZUlEfSJ9IH0KICAgICAgICAgICAgaWYgJFNlbGYtPnsiUXVldWVzOjokUGFyYW17U3RhbmRhcmRSZXNwb25zZUlEfSJ9OwoKICAgICAgICAjIGdldCBxdWV1ZXMKICAgICAgICBteSAkU1FMID0gIlNFTEVDVCBxLmlkLCBxLm5hbWUgIgogICAgICAgICAgICAuICIgRlJPTSBxdWV1ZSBxLCBxdWV1ZV9zdGFuZGFyZF9yZXNwb25zZSBxc3IgV0hFUkUgIgogICAgICAgICAgICAuICIgcXNyLnN0YW5kYXJkX3Jlc3BvbnNlX2lkIElOICgiCiAgICAgICAgICAgIC4gJFNlbGYtPntEQk9iamVjdH0tPlF1b3RlKCAkUGFyYW17U3RhbmRhcmRSZXNwb25zZUlEfSwgJ0ludGVnZXInICkKICAgICAgICAgICAgLiAiKSBBTkQgIgogICAgICAgICAgICAuICIgcXNyLnF1ZXVlX2lkID0gcS5pZCBBTkQgIgogICAgICAgICAgICAuICIgcS52YWxpZF9pZCBJTiAoICR7XChqb2luICcsICcsICRTZWxmLT57VmFsaWRPYmplY3R9LT5WYWxpZElEc0dldCgpKX0gKSIKICAgICAgICAgICAgLiAiIE9SREVSIEJZIHEubmFtZSI7CgogICAgICAgIHJldHVybiBpZiAhJFNlbGYtPntEQk9iamVjdH0tPlByZXBhcmUoIFNRTCA9PiAkU1FMICk7CgogICAgICAgICMgZmV0Y2ggdGhlIHJlc3VsdAogICAgICAgIG15ICVRdWV1ZXM7CiAgICAgICAgd2hpbGUgKCBteSBAUm93ID0gJFNlbGYtPntEQk9iamVjdH0tPkZldGNocm93QXJyYXkoKSApIHsKICAgICAgICAgICAgJFF1ZXVlc3sgJFJvd1swXSB9ID0gJFJvd1sxXTsKICAgICAgICB9CgogICAgICAgICMgc3RvcmUgcXVldWVzCiAgICAgICAgJFNlbGYtPnsiUXVldWVzOjokUGFyYW17U3RhbmRhcmRSZXNwb25zZUlEfSJ9ID0gXCVRdWV1ZXM7CgogICAgICAgIHJldHVybiAlUXVldWVzOwogICAgfQp9Cgo9aXRlbSBHZXRBbGxRdWV1ZXMoKQoKZ2V0IGFsbCB2YWxpZCBzeXN0ZW0gcXVldWVzCgogICAgbXkgJVF1ZXVlcyA9ICRRdWV1ZU9iamVjdC0+R2V0QWxsUXVldWVzKCk7CgpnZXQgYWxsIHN5c3RlbSBxdWV1ZXMgb2YgYSB1c2VyIHdpdGggcGVybWlzc2lvbiB0eXBlIChlLiBnLiBybywgbW92ZV9pbnRvLCBydywgLi4uKQoKICAgIG15ICVRdWV1ZXMgPSAkUXVldWVPYmplY3QtPkdldEFsbFF1ZXVlcyggVXNlcklEID0+IDEyMywgVHlwZSA9PiAncm8nICk7Cgo9Y3V0CgpzdWIgR2V0QWxsUXVldWVzIHsKICAgIG15ICggJFNlbGYsICVQYXJhbSApID0gQF87CgogICAgbXkgJFR5cGUgPSAkUGFyYW17VHlwZX0gfHwgJ3JvJzsKCiAgICAjIGZldGNoIGFsbCBxdWV1ZXMKICAgIG15ICRDYWNoZUtleTsKICAgIGlmICggJFBhcmFte1VzZXJJRH0gKSB7CgogICAgICAgICMgZ2V0IGdyb3VwIGlkcwogICAgICAgIG15IEBHcm91cElEcyA9ICRTZWxmLT57R3JvdXBPYmplY3R9LT5Hcm91cE1lbWJlckxpc3QoCiAgICAgICAgICAgIFVzZXJJRCA9PiAkUGFyYW17VXNlcklEfSwKICAgICAgICAgICAgVHlwZSAgID0+ICRUeXBlLAogICAgICAgICAgICBSZXN1bHQgPT4gJ0lEJywKICAgICAgICApOwoKICAgICAgICByZXR1cm4gaWYgIUBHcm91cElEczsKCiAgICAgICAgbXkgJEdyb3VwU3RyaW5nID0gam9pbiAnLCAnLCBzb3J0IEBHcm91cElEczsKICAgICAgICAkQ2FjaGVLZXkgPSAiR2V0QWxsUXVldWVzOjpVc2VySUQ6OiR7VHlwZX06OiR7R3JvdXBTdHJpbmd9OjokUGFyYW17VXNlcklEfSI7CgogICAgICAgICMgY2hlY2sgY2FjaGUKICAgICAgICBteSAkQ2FjaGUgPSAkU2VsZi0+e0NhY2hlSW50ZXJuYWxPYmplY3R9LT5HZXQoCiAgICAgICAgICAgIEtleSA9PiAkQ2FjaGVLZXksCiAgICAgICAgKTsKICAgICAgICByZXR1cm4gJXskQ2FjaGV9IGlmICRDYWNoZTsKCiAgICAgICAgcmV0dXJuIGlmICEkU2VsZi0+e0RCT2JqZWN0fS0+UHJlcGFyZSgKICAgICAgICAgICAgU1FMID0+ICJTRUxFQ1QgaWQsIG5hbWUgRlJPTSBxdWV1ZSBXSEVSRSAiCiAgICAgICAgICAgICAgICAuICIgZ3JvdXBfaWQgSU4gKCAkR3JvdXBTdHJpbmcgKSBBTkQgIgogICAgICAgICAgICAgICAgLiAiIHZhbGlkX2lkIElOICggJHtcKGpvaW4gJywgJywgJFNlbGYtPntWYWxpZE9iamVjdH0tPlZhbGlkSURzR2V0KCkpfSApIiwKICAgICAgICApOwogICAgfQogICAgZWxzaWYgKCAkUGFyYW17Q3VzdG9tZXJVc2VySUR9ICkgewoKICAgICAgICAjIGdldCBncm91cCBpZHMKICAgICAgICBteSBAR3JvdXBJRHMgPSAkU2VsZi0+e0N1c3RvbWVyR3JvdXBPYmplY3R9LT5Hcm91cE1lbWJlckxpc3QoCiAgICAgICAgICAgIFVzZXJJRCA9PiAkUGFyYW17Q3VzdG9tZXJVc2VySUR9LAogICAgICAgICAgICBUeXBlICAgPT4gJFR5cGUsCiAgICAgICAgICAgIFJlc3VsdCA9PiAnSUQnLAogICAgICAgICk7CgogICAgICAgIHJldHVybiBpZiAhQEdyb3VwSURzOwoKICAgICAgICBteSAkR3JvdXBTdHJpbmcgPSBqb2luICcsICcsIHNvcnQgQEdyb3VwSURzOwogICAgICAgICRDYWNoZUtleQogICAgICAgICAgICA9ICJHZXRBbGxRdWV1ZXM6OkN1c3RvbWVyVXNlcklEOjoke1R5cGV9Ojoke0dyb3VwU3RyaW5nfTo6JFBhcmFte0N1c3RvbWVyVXNlcklEfSI7CgogICAgICAgICMgY2hlY2sgY2FjaGUKICAgICAgICBteSAkQ2FjaGUgPSAkU2VsZi0+e0NhY2hlSW50ZXJuYWxPYmplY3R9LT5HZXQoCiAgICAgICAgICAgIEtleSA9PiAkQ2FjaGVLZXksCiAgICAgICAgKTsKICAgICAgICByZXR1cm4gJXskQ2FjaGV9IGlmICRDYWNoZTsKCiAgICAgICAgcmV0dXJuIGlmICEkU2VsZi0+e0RCT2JqZWN0fS0+UHJlcGFyZSgKICAgICAgICAgICAgU1FMID0+ICJTRUxFQ1QgaWQsIG5hbWUgRlJPTSBxdWV1ZSBXSEVSRSAiCiAgICAgICAgICAgICAgICAuICIgZ3JvdXBfaWQgSU4gKCAkR3JvdXBTdHJpbmcgKSBBTkQgIgogICAgICAgICAgICAgICAgLiAiIHZhbGlkX2lkIElOICggJHtcKGpvaW4gJywgJywgJFNlbGYtPntWYWxpZE9iamVjdH0tPlZhbGlkSURzR2V0KCkpfSApIiwKICAgICAgICApOwogICAgfQogICAgZWxzZSB7CgogICAgICAgICRDYWNoZUtleSA9ICdHZXRBbGxRdWV1ZXMnOwoKICAgICAgICAjIGNoZWNrIGNhY2hlCiAgICAgICAgbXkgJENhY2hlID0gJFNlbGYtPntDYWNoZUludGVybmFsT2JqZWN0fS0+R2V0KAogICAgICAgICAgICBLZXkgPT4gJENhY2hlS2V5LAogICAgICAgICk7CiAgICAgICAgcmV0dXJuICV7JENhY2hlfSBpZiAkQ2FjaGU7CgogICAgICAgIHJldHVybiBpZiAhJFNlbGYtPntEQk9iamVjdH0tPlByZXBhcmUoCiAgICAgICAgICAgIFNRTCA9PiAiU0VMRUNUIGlkLCBuYW1lIEZST00gcXVldWUgV0hFUkUgdmFsaWRfaWQgSU4gIgogICAgICAgICAgICAgICAgLiAiKCAke1woam9pbiAnLCAnLCAkU2VsZi0+e1ZhbGlkT2JqZWN0fS0+VmFsaWRJRHNHZXQoKSl9ICkiLAogICAgICAgICk7CiAgICB9CgogICAgbXkgJU1vdmVRdWV1ZXM7CiAgICB3aGlsZSAoIG15IEBSb3cgPSAkU2VsZi0+e0RCT2JqZWN0fS0+RmV0Y2hyb3dBcnJheSgpICkgewogICAgICAgICRNb3ZlUXVldWVzeyAkUm93WzBdIH0gPSAkUm93WzFdOwogICAgfQoKICAgICMgc2V0IGNhY2hlCiAgICAkU2VsZi0+e0NhY2hlSW50ZXJuYWxPYmplY3R9LT5TZXQoCiAgICAgICAgS2V5ICAgPT4gJENhY2hlS2V5LAogICAgICAgIFZhbHVlID0+IFwlTW92ZVF1ZXVlcywKICAgICk7CgogICAgcmV0dXJuICVNb3ZlUXVldWVzOwp9Cgo9aXRlbSBHZXRBbGxDdXN0b21RdWV1ZXMoKQoKZ2V0IGFsbCBjdXN0b20gcXVldWVzIG9mIG9uZSB1c2VyCgogICAgbXkgQFF1ZXVlcyA9ICRRdWV1ZU9iamVjdC0+R2V0QWxsQ3VzdG9tUXVldWVzKCBVc2VySUQgPT4gMTIzICk7Cgo9Y3V0CgpzdWIgR2V0QWxsQ3VzdG9tUXVldWVzIHsKICAgIG15ICggJFNlbGYsICVQYXJhbSApID0gQF87CgogICAgIyBjaGVjayBuZWVkZWQgc3R1ZmYKICAgIGlmICggISRQYXJhbXtVc2VySUR9ICkgewogICAgICAgICRTZWxmLT57TG9nT2JqZWN0fS0+TG9nKCBQcmlvcml0eSA9PiAnZXJyb3InLCBNZXNzYWdlID0+ICdOZWVkIFVzZXJJRCEnICk7CiAgICAgICAgcmV0dXJuOwogICAgfQoKICAgICMgY2hlY2sgY2FjaGUKICAgIG15ICRDYWNoZUtleSA9ICdHZXRBbGxDdXN0b21RdWV1ZXM6OicgLiAkUGFyYW17VXNlcklEfTsKICAgIG15ICRDYWNoZSA9ICRTZWxmLT57Q2FjaGVJbnRlcm5hbE9iamVjdH0tPkdldCggS2V5ID0+ICRDYWNoZUtleSApOwogICAgcmV0dXJuIEB7JENhY2hlfSBpZiAkQ2FjaGU7CgogICAgIyBzZWFyY2ggYWxsIGN1c3RvbSBxdWV1ZXMKICAgIHJldHVybiBpZiAhJFNlbGYtPntEQk9iamVjdH0tPlByZXBhcmUoCiAgICAgICAgU1FMICA9PiAnU0VMRUNUIHF1ZXVlX2lkIEZST00gcGVyc29uYWxfcXVldWVzIFdIRVJFIHVzZXJfaWQgPSA/JywKICAgICAgICBCaW5kID0+IFsgXCRQYXJhbXtVc2VySUR9IF0sCiAgICApOwoKICAgICMgZmV0Y2ggdGhlIHJlc3VsdAogICAgbXkgQFF1ZXVlSURzOwogICAgd2hpbGUgKCBteSBAUm93ID0gJFNlbGYtPntEQk9iamVjdH0tPkZldGNocm93QXJyYXkoKSApIHsKICAgICAgICBwdXNoIEBRdWV1ZUlEcywgJFJvd1swXTsKICAgIH0KCiAgICAjIHNldCBjYWNoZQogICAgJFNlbGYtPntDYWNoZUludGVybmFsT2JqZWN0fS0+U2V0KAogICAgICAgIEtleSAgID0+ICRDYWNoZUtleSwKICAgICAgICBWYWx1ZSA9PiBcQFF1ZXVlSURzLAogICAgKTsKCiAgICByZXR1cm4gQFF1ZXVlSURzOwp9Cgo9aXRlbSBRdWV1ZUxvb2t1cCgpCgpnZXQgaWQgb3IgbmFtZSBmb3IgcXVldWUKCiAgICBteSAkUXVldWUgPSAkUXVldWVPYmplY3QtPlF1ZXVlTG9va3VwKCBRdWV1ZUlEID0+ICRRdWV1ZUlEICk7CgogICAgbXkgJFF1ZXVlSUQgPSAkUXVldWVPYmplY3QtPlF1ZXVlTG9va3VwKCBRdWV1ZSA9PiAkUXVldWUgKTsKCj1jdXQKCnN1YiBRdWV1ZUxvb2t1cCB7CiAgICBteSAoICRTZWxmLCAlUGFyYW0gKSA9IEBfOwoKICAgICMgY2hlY2sgbmVlZGVkIHN0dWZmCiAgICBpZiAoICEkUGFyYW17UXVldWV9ICYmICEkUGFyYW17UXVldWVJRH0gKSB7CiAgICAgICAgJFNlbGYtPntMb2dPYmplY3R9LT5Mb2coIFByaW9yaXR5ID0+ICdlcnJvcicsIE1lc3NhZ2UgPT4gJ0dvdCBubyBRdWV1ZSBvciBRdWV1ZUlEIScgKTsKICAgICAgICByZXR1cm47CiAgICB9CgogICAgIyBnZXQgKGFscmVhZHkgY2FjaGVkKSBxdWV1ZSBkYXRhCiAgICBteSAlUXVldWVMaXN0ID0gJFNlbGYtPlF1ZXVlTGlzdCgKICAgICAgICBWYWxpZCA9PiAwLAogICAgKTsKCiAgICBteSAkS2V5OwogICAgbXkgJFZhbHVlOwogICAgbXkgJFJldHVybkRhdGE7CiAgICBpZiAoICRQYXJhbXtRdWV1ZUlEfSApIHsKICAgICAgICAkS2V5ICAgICAgICA9ICdRdWV1ZUlEJzsKICAgICAgICAkVmFsdWUgICAgICA9ICRQYXJhbXtRdWV1ZUlEfTsKICAgICAgICAkUmV0dXJuRGF0YSA9ICRRdWV1ZUxpc3R7ICRQYXJhbXtRdWV1ZUlEfSB9OwogICAgfQogICAgZWxzZSB7CiAgICAgICAgJEtleSAgID0gJ1F1ZXVlJzsKICAgICAgICAkVmFsdWUgPSAkUGFyYW17UXVldWV9OwogICAgICAgIG15ICVRdWV1ZUxpc3RSZXZlcnNlID0gcmV2ZXJzZSAlUXVldWVMaXN0OwogICAgICAgICRSZXR1cm5EYXRhID0gJFF1ZXVlTGlzdFJldmVyc2V7ICRQYXJhbXtRdWV1ZX0gfTsKICAgIH0KCiAgICAjIGNoZWNrIGlmIGRhdGEgZXhpc3RzCiAgICBpZiAoICEkUmV0dXJuRGF0YSApIHsKICAgICAgICAkU2VsZi0+e0xvZ09iamVjdH0tPkxvZygKICAgICAgICAgICAgUHJpb3JpdHkgPT4gJ2Vycm9yJywKICAgICAgICAgICAgTWVzc2FnZSAgPT4gIkZvdW5kIG5vICRLZXkgZm9yICRWYWx1ZSEiLAogICAgICAgICk7CiAgICAgICAgcmV0dXJuOwogICAgfQoKICAgIHJldHVybiAkUmV0dXJuRGF0YTsKfQoKPWl0ZW0gR2V0Rm9sbG93VXBPcHRpb24oKQoKZ2V0IEZvbGxvd1VwT3B0aW9uIGZvciB0aGUgZ2l2ZW4gUXVldWVJRAoKICAgIG15ICRGb2xsb3dVcE9wdGlvbiA9ICRRdWV1ZU9iamVjdC0+R2V0Rm9sbG93VXBPcHRpb24oIFF1ZXVlSUQgPT4gJFF1ZXVlSUQgKTsKCnJldHVybnMgYW55IG9mICdwb3NzaWJsZScsICdyZWplY3QnLCAnbmV3IHRpY2tldCcuCgo9Y3V0CgpzdWIgR2V0Rm9sbG93VXBPcHRpb24gewogICAgbXkgKCAkU2VsZiwgJVBhcmFtICkgPSBAXzsKCiAgICAjIGNoZWNrIG5lZWRlZCBzdHVmZgogICAgaWYgKCAhJFBhcmFte1F1ZXVlSUR9ICkgewogICAgICAgICRTZWxmLT57TG9nT2JqZWN0fS0+TG9nKCBQcmlvcml0eSA9PiAnZXJyb3InLCBNZXNzYWdlID0+ICdOZWVkIFF1ZXVlSUQhJyApOwogICAgICAgIHJldHVybjsKICAgIH0KCiAgICAjIGZldGNoIHF1ZXVlcyBkYXRhCiAgICByZXR1cm4gaWYgISRTZWxmLT57REJPYmplY3R9LT5QcmVwYXJlKAogICAgICAgIFNRTCA9PiAnU0VMRUNUIHNmLm5hbWUgRlJPTSBmb2xsb3dfdXBfcG9zc2libGUgc2YsIHF1ZXVlIHNxICcKICAgICAgICAgICAgLiAnIFdIRVJFIHNxLmZvbGxvd191cF9pZCA9IHNmLmlkIEFORCBzcS5pZCA9ID8nLAogICAgICAgIEJpbmQgID0+IFsgXCRQYXJhbXtRdWV1ZUlEfSBdLAogICAgICAgIExpbWl0ID0+IDEsCiAgICApOwoKICAgIG15ICRSZXR1cm4gPSAnJzsKICAgIHdoaWxlICggbXkgQFJvdyA9ICRTZWxmLT57REJPYmplY3R9LT5GZXRjaHJvd0FycmF5KCkgKSB7CiAgICAgICAgJFJldHVybiA9ICRSb3dbMF07CiAgICB9CgogICAgcmV0dXJuICRSZXR1cm47Cn0KCj1pdGVtIEdldEZvbGxvd1VwTG9ja09wdGlvbigpCgpnZXQgRm9sbG93VXBMb2NrT3B0aW9uIGZvciB0aGUgZ2l2ZW4gUXVldWVJRAoKICAgIG15ICRGb2xsb3dVcExvY2tPcHRpb24gPSAkUXVldWVPYmplY3QtPkdldEZvbGxvd1VwTG9ja09wdGlvbiggUXVldWVJRCA9PiAkUXVldWVJRCApOwoKcmV0dXJucyAnMScgaWYgdGlja2V0IHNob3VsZCBiZSBsb2NrZWQgYWZ0ZXIgYSBmb2xsb3cgdXAsICcwJyBpZiBub3QuCgo9Y3V0CgpzdWIgR2V0Rm9sbG93VXBMb2NrT3B0aW9uIHsKICAgIG15ICggJFNlbGYsICVQYXJhbSApID0gQF87CgogICAgIyBjaGVjayBuZWVkZWQgc3R1ZmYKICAgIGlmICggISRQYXJhbXtRdWV1ZUlEfSApIHsKICAgICAgICAkU2VsZi0+e0xvZ09iamVjdH0tPkxvZyggUHJpb3JpdHkgPT4gJ2Vycm9yJywgTWVzc2FnZSA9PiAnTmVlZCBRdWV1ZUlEIScgKTsKICAgICAgICByZXR1cm47CiAgICB9CgogICAgIyBnZXQgKGFscmVhZHkgY2FjaGVkKSBxdWV1ZSBkYXRhCiAgICBteSAlUXVldWUgPSAkU2VsZi0+UXVldWVHZXQoCiAgICAgICAgSUQgPT4gJFBhcmFte1F1ZXVlSUR9LAogICAgKTsKCiAgICByZXR1cm4gaWYgISVRdWV1ZTsKICAgIHJldHVybiAkUXVldWV7Rm9sbG93VXBMb2NrfTsKfQoKPWl0ZW0gR2V0UXVldWVHcm91cElEKCkKCmdldCBHcm91cElEIGRlZmluZWQgZm9yIHRoZSBnaXZlbiBRdWV1ZUlELgoKICAgIG15ICRHcm91cElEID0gJFF1ZXVlT2JqZWN0LT5HZXRRdWV1ZUdyb3VwSUQoIFF1ZXVlSUQgPT4gJFF1ZXVlSUQgKTsKCj1jdXQKCnN1YiBHZXRRdWV1ZUdyb3VwSUQgewogICAgbXkgKCAkU2VsZiwgJVBhcmFtICkgPSBAXzsKCiAgICAjIGNoZWNrIG5lZWRlZCBzdHVmZgogICAgaWYgKCAhJFBhcmFte1F1ZXVlSUR9ICkgewogICAgICAgICRTZWxmLT57TG9nT2JqZWN0fS0+TG9nKCBQcmlvcml0eSA9PiAnZXJyb3InLCBNZXNzYWdlID0+ICdOZWVkIFF1ZXVlSUQhJyApOwogICAgICAgIHJldHVybjsKICAgIH0KCiAgICAjIGdldCAoYWxyZWFkeSBjYWNoZWQpIHF1ZXVlIGRhdGEKICAgIG15ICVRdWV1ZSA9ICRTZWxmLT5RdWV1ZUdldCgKICAgICAgICBJRCA9PiAkUGFyYW17UXVldWVJRH0sCiAgICApOwoKICAgIHJldHVybiBpZiAhJVF1ZXVlOwogICAgcmV0dXJuICRRdWV1ZXtHcm91cElEfTsKfQoKPWl0ZW0gUXVldWVBZGQoKQoKYWRkIHF1ZXVlIHdpdGggYXR0cmlidXRlcwoKICAgICRRdWV1ZU9iamVjdC0+UXVldWVBZGQoCiAgICAgICAgTmFtZSAgICAgICAgICAgICAgICA9PiAnU29tZTo6UXVldWUnLAogICAgICAgIFZhbGlkSUQgICAgICAgICAgICAgPT4gMSwKICAgICAgICBHcm91cElEICAgICAgICAgICAgID0+IDEsCiAgICAgICAgQ2FsZW5kYXIgICAgICAgICAgICA9PiAnQ2FsZW5kYXIxJywgIyAob3B0aW9uYWwpCiAgICAgICAgRmlyc3RSZXNwb25zZVRpbWUgICA9PiAxMjAsICAgICAgICAgIyAob3B0aW9uYWwpCiAgICAgICAgRmlyc3RSZXNwb25zZU5vdGlmeSA9PiA2MCwgICAgICAgICAgIyAob3B0aW9uYWwsIG5vdGlmeSBhZ2VudCBpZiBmaXJzdCByZXNwb25zZSBlc2NhbGF0aW9uIGlzIDYwJSByZWFjaGVkKQogICAgICAgIFVwZGF0ZVRpbWUgICAgICAgICAgPT4gMTgwLCAgICAgICAgICMgKG9wdGlvbmFsKQogICAgICAgIFVwZGF0ZU5vdGlmeSAgICAgICAgPT4gODAsICAgICAgICAgICMgKG9wdGlvbmFsLCBub3RpZnkgYWdlbnQgaWYgdXBkYXRlIGVzY2FsYXRpb24gaXMgODAlIHJlYWNoZWQpCiAgICAgICAgU29sdXRpb25UaW1lICAgICAgICA9PiA1ODAsICAgICAgICAgIyAob3B0aW9uYWwpCiAgICAgICAgU29sdXRpb25Ob3RpZnkgICAgICA9PiA4MCwgICAgICAgICAgIyAob3B0aW9uYWwsIG5vdGlmeSBhZ2VudCBpZiBzb2x1dGlvbiBlc2NhbGF0aW9uIGlzIDgwJSByZWFjaGVkKQogICAgICAgIFVubG9ja1RpbWVvdXQgICAgICAgPT4gNDgwLCAgICAgICAgICMgKG9wdGlvbmFsKQogICAgICAgIEZvbGxvd1VwSUQgICAgICAgICAgPT4gMywgICAgICAgICAgICMgcG9zc2libGUgKDEpLCByZWplY3QgKDIpIG9yIG5ldyB0aWNrZXQgKDMpIChvcHRpb25hbCwgZGVmYXVsdCAwKQogICAgICAgIEZvbGxvd1VwTG9jayAgICAgICAgPT4gMCwgICAgICAgICAgICMgeWVzICgxKSBvciBubyAoMCkgKG9wdGlvbmFsLCBkZWZhdWx0IDApCiAgICAgICAgRGVmYXVsdFNpZ25LZXkgICAgICA9PiAna2V5IG5hbWUnLCAgIyAob3B0aW9uYWwpCiAgICAgICAgU3lzdGVtQWRkcmVzc0lEICAgICA9PiAxLAogICAgICAgIFNhbHV0YXRpb25JRCAgICAgICAgPT4gMSwKICAgICAgICBTaWduYXR1cmVJRCAgICAgICAgID0+IDEsCiAgICAgICAgQ29tbWVudCAgICAgICAgICAgICA9PiAnU29tZSBjb21tZW50JywKICAgICAgICBVc2VySUQgICAgICAgICAgICAgID0+IDEyMywKICAgICk7Cgo9Y3V0CgpzdWIgUXVldWVBZGQgewogICAgbXkgKCAkU2VsZiwgJVBhcmFtICkgPSBAXzsKCiAgICAjIGNoZWNrIGlmIHRoaXMgcmVxdWVzdCBpcyBmcm9tIHdlYiBhbmQgbm90IGZyb20gY29tbWFuZCBsaW5lCiAgICBpZiAoICEkUGFyYW17Tm9EZWZhdWx0VmFsdWVzfSApIHsKICAgICAgICBmb3IgKAogICAgICAgICAgICBxdyhVbmxvY2tUaW1lb3V0IEZpcnN0UmVzcG9uc2VUaW1lIEZpcnN0UmVzcG9uc2VOb3RpZnkgVXBkYXRlVGltZSBVcGRhdGVOb3RpZnkgU29sdXRpb25UaW1lIFNvbHV0aW9uTm90aWZ5CiAgICAgICAgICAgIEZvbGxvd1VwTG9jayBTeXN0ZW1BZGRyZXNzSUQgU2FsdXRhdGlvbklEIFNpZ25hdHVyZUlECiAgICAgICAgICAgIEZvbGxvd1VwSUQgRm9sbG93VXBMb2NrIERlZmF1bHRTaWduS2V5IENhbGVuZGFyKQogICAgICAgICAgICApCiAgICAgICAgewoKICAgICAgICAgICAgIyBJIGFkZGVkIGRlZmF1bHQgdmFsdWVzIGluIHRoZSBMb2FkIFJvdXRpbmUKICAgICAgICAgICAgaWYgKCAhJFBhcmFteyRffSApIHsKICAgICAgICAgICAgICAgICRQYXJhbXskX30gPSAkU2VsZi0+e1F1ZXVlRGVmYXVsdHN9LT57JF99IHx8IDA7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9CgogICAgZm9yIChxdyhOYW1lIEdyb3VwSUQgU3lzdGVtQWRkcmVzc0lEIFNhbHV0YXRpb25JRCBTaWduYXR1cmVJRCBWYWxpZElEIFVzZXJJRCBGb2xsb3dVcElEKSkgewogICAgICAgIGlmICggISRQYXJhbXskX30gKSB7CiAgICAgICAgICAgICRTZWxmLT57TG9nT2JqZWN0fS0+TG9nKCBQcmlvcml0eSA9PiAnZXJyb3InLCBNZXNzYWdlID0+ICJOZWVkICRfISIgKTsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgIH0KCiAgICAjIGNsZWFudXAgcXVldWUgbmFtZQogICAgJFBhcmFte05hbWV9ID1+IHMvKFxufFxyKS8vZzsKICAgICRQYXJhbXtOYW1lfSA9fiBzL1xzJC8vZzsKCiAgICAjIGNoZWNrIHF1ZXVlIG5hbWUKICAgIGlmICggJFBhcmFte05hbWV9ID1+IC86OiQvaSApIHsKICAgICAgICAkU2VsZi0+e0xvZ09iamVjdH0tPkxvZygKICAgICAgICAgICAgUHJpb3JpdHkgPT4gJ2Vycm9yJywKICAgICAgICAgICAgTWVzc2FnZSAgPT4gIkludmFsaWQgUXVldWUgbmFtZSAnJFBhcmFte05hbWV9JyEiLAogICAgICAgICk7CiAgICAgICAgcmV0dXJuOwogICAgfQoKICAgIHJldHVybiBpZiAhJFNlbGYtPntEQk9iamVjdH0tPkRvKAogICAgICAgIFNRTCA9PiAnSU5TRVJUIElOVE8gcXVldWUgKG5hbWUsIGdyb3VwX2lkLCB1bmxvY2tfdGltZW91dCwgc3lzdGVtX2FkZHJlc3NfaWQsICcKICAgICAgICAgICAgLiAnIGNhbGVuZGFyX25hbWUsIGRlZmF1bHRfc2lnbl9rZXksIHNhbHV0YXRpb25faWQsIHNpZ25hdHVyZV9pZCwgJwogICAgICAgICAgICAuICcgZmlyc3RfcmVzcG9uc2VfdGltZSwgZmlyc3RfcmVzcG9uc2Vfbm90aWZ5LCB1cGRhdGVfdGltZSwgJwogICAgICAgICAgICAuICcgdXBkYXRlX25vdGlmeSwgc29sdXRpb25fdGltZSwgc29sdXRpb25fbm90aWZ5LCBmb2xsb3dfdXBfaWQsICcKICAgICAgICAgICAgLiAnIGZvbGxvd191cF9sb2NrLCB2YWxpZF9pZCwgY29tbWVudHMsIGNyZWF0ZV90aW1lLCBjcmVhdGVfYnksICcKICAgICAgICAgICAgLiAnIGNoYW5nZV90aW1lLCBjaGFuZ2VfYnkpIFZBTFVFUyAnCiAgICAgICAgICAgIC4gJyAoPywgPywgPywgPywgPywgPywgPywgPywgPywgPywgPywgPywgPywgPywgPywgPywgPywgJwogICAgICAgICAgICAuICcgPywgY3VycmVudF90aW1lc3RhbXAsID8sIGN1cnJlbnRfdGltZXN0YW1wLCA/KScsCiAgICAgICAgQmluZCA9PiBbCiAgICAgICAgICAgIFwkUGFyYW17TmFtZX0sIFwkUGFyYW17R3JvdXBJRH0sIFwkUGFyYW17VW5sb2NrVGltZW91dH0sIFwkUGFyYW17U3lzdGVtQWRkcmVzc0lEfSwKICAgICAgICAgICAgXCRQYXJhbXtDYWxlbmRhcn0sIFwkUGFyYW17RGVmYXVsdFNpZ25LZXl9LCBcJFBhcmFte1NhbHV0YXRpb25JRH0sIFwkUGFyYW17U2lnbmF0dXJlSUR9LAogICAgICAgICAgICBcJFBhcmFte0ZpcnN0UmVzcG9uc2VUaW1lfSwgXCRQYXJhbXtGaXJzdFJlc3BvbnNlTm90aWZ5fSwgXCRQYXJhbXtVcGRhdGVUaW1lfSwKICAgICAgICAgICAgXCRQYXJhbXtVcGRhdGVOb3RpZnl9LCAgICAgIFwkUGFyYW17U29sdXRpb25UaW1lfSwgICAgICAgIFwkUGFyYW17U29sdXRpb25Ob3RpZnl9LAogICAgICAgICAgICBcJFBhcmFte0ZvbGxvd1VwSUR9LCAgICAgICAgXCRQYXJhbXtGb2xsb3dVcExvY2t9LCAgICAgICAgXCRQYXJhbXtWYWxpZElEfSwKICAgICAgICAgICAgXCRQYXJhbXtDb21tZW50fSwgICAgICAgICAgIFwkUGFyYW17VXNlcklEfSwgICAgICAgICAgICAgIFwkUGFyYW17VXNlcklEfSwKICAgICAgICBdLAogICAgKTsKCiAgICAjIGdldCBuZXcgaWQKICAgIHJldHVybiBpZiAhJFNlbGYtPntEQk9iamVjdH0tPlByZXBhcmUoCiAgICAgICAgU1FMICAgPT4gJ1NFTEVDVCBpZCBGUk9NIHF1ZXVlIFdIRVJFIG5hbWUgPSA/JywKICAgICAgICBCaW5kICA9PiBbIFwkUGFyYW17TmFtZX0gXSwKICAgICAgICBMaW1pdCA9PiAxLAogICAgKTsKCiAgICAjIGZldGNoIHRoZSByZXN1bHQKICAgIG15ICRRdWV1ZUlEID0gJyc7CiAgICB3aGlsZSAoIG15IEBSb3cgPSAkU2VsZi0+e0RCT2JqZWN0fS0+RmV0Y2hyb3dBcnJheSgpICkgewogICAgICAgICRRdWV1ZUlEID0gJFJvd1swXTsKICAgIH0KCiAgICAjIHJlc2V0IGNhY2hlCiAgICAkU2VsZi0+e0NhY2hlSW50ZXJuYWxPYmplY3R9LT5DbGVhblVwKCk7CgogICAgbXkgJFN0YW5kYXJkUmVzcG9uc2UyUXVldWVCeUNyZWF0aW5nCiAgICAgICAgPSAkU2VsZi0+e0NvbmZpZ09iamVjdH0tPkdldCgnU3RhbmRhcmRSZXNwb25zZTJRdWV1ZUJ5Q3JlYXRpbmcnKTsKCiAgICAjIGFkZCBkZWZhdWx0IHJlc3BvbnNlcyAoaWYgbmVlZGVkKSwgYWRkIHJlc3BvbnNlIGJ5IG5hbWUKICAgIGlmICgKICAgICAgICAkU3RhbmRhcmRSZXNwb25zZTJRdWV1ZUJ5Q3JlYXRpbmcKICAgICAgICAmJiByZWYgJFN0YW5kYXJkUmVzcG9uc2UyUXVldWVCeUNyZWF0aW5nIGVxICdBUlJBWScKICAgICAgICAmJiBAeyRTdGFuZGFyZFJlc3BvbnNlMlF1ZXVlQnlDcmVhdGluZ30KICAgICAgICApCiAgICB7CgogICAgICAgIFNSOgogICAgICAgIGZvciBteSAkU1IgKCBAeyRTdGFuZGFyZFJlc3BvbnNlMlF1ZXVlQnlDcmVhdGluZ30gKSB7CgogICAgICAgICAgICBteSAkU3RhbmRhcmRSZXNwb25zZUlEID0gJFNlbGYtPntTdGFuZGFyZFJlc3BvbnNlT2JqZWN0fS0+U3RhbmRhcmRSZXNwb25zZUxvb2t1cCgKICAgICAgICAgICAgICAgIFN0YW5kYXJkUmVzcG9uc2UgPT4gJFNSLAogICAgICAgICAgICApOwoKICAgICAgICAgICAgbmV4dCBTUiBpZiAhJFN0YW5kYXJkUmVzcG9uc2VJRDsKCiAgICAgICAgICAgICRTZWxmLT5TZXRRdWV1ZVN0YW5kYXJkUmVzcG9uc2UoCiAgICAgICAgICAgICAgICBRdWV1ZUlEICAgID0+ICRRdWV1ZUlELAogICAgICAgICAgICAgICAgUmVzcG9uc2VJRCA9PiAkU3RhbmRhcmRSZXNwb25zZUlELAogICAgICAgICAgICAgICAgVXNlcklEICAgICA9PiAkUGFyYW17VXNlcklEfSwKICAgICAgICAgICAgKTsKICAgICAgICB9CiAgICB9CgogICAgIyBnZXQgc3RhbmRhcmQgcmVzcG9uc2UgaWQKICAgIG15ICRTdGFuZGFyZFJlc3BvbnNlSUQyUXVldWVCeUNyZWF0aW5nCiAgICAgICAgPSAkU2VsZi0+e0NvbmZpZ09iamVjdH0tPkdldCgnU3RhbmRhcmRSZXNwb25zZUlEMlF1ZXVlQnlDcmVhdGluZycpOwoKICAgIHJldHVybiAkUXVldWVJRCBpZiAhJFN0YW5kYXJkUmVzcG9uc2VJRDJRdWV1ZUJ5Q3JlYXRpbmc7CiAgICByZXR1cm4gJFF1ZXVlSUQgaWYgcmVmICRTdGFuZGFyZFJlc3BvbnNlSUQyUXVldWVCeUNyZWF0aW5nIG5lICdBUlJBWSc7CiAgICByZXR1cm4gJFF1ZXVlSUQgaWYgIUB7JFN0YW5kYXJkUmVzcG9uc2VJRDJRdWV1ZUJ5Q3JlYXRpbmd9OwoKICAgICMgYWRkIHJlc3BvbnNlIGJ5IGlkCiAgICBmb3IgbXkgJFJlc3BvbnNlSUQgKCBAeyRTdGFuZGFyZFJlc3BvbnNlSUQyUXVldWVCeUNyZWF0aW5nfSApIHsKCiAgICAgICAgJFNlbGYtPlNldFF1ZXVlU3RhbmRhcmRSZXNwb25zZSgKICAgICAgICAgICAgUXVldWVJRCAgICA9PiAkUXVldWVJRCwKICAgICAgICAgICAgUmVzcG9uc2VJRCA9PiAkUmVzcG9uc2VJRCwKICAgICAgICAgICAgVXNlcklEICAgICA9PiAkUGFyYW17VXNlcklEfSwKICAgICAgICApOwogICAgfQoKICAgIHJldHVybiAkUXVldWVJRDsKfQoKPWl0ZW0gUXVldWVHZXQoKQoKZ2V0IHF1ZXVlIGF0dHJpYnV0ZXMKCiAgICBteSAlUXVldWUgPSAkUXVldWVPYmplY3QtPlF1ZXVlR2V0KAogICAgICAgIElEICAgID0+IDEyMywKICAgICk7CgogICAgbXkgJVF1ZXVlID0gJFF1ZXVlT2JqZWN0LT5RdWV1ZUdldCgKICAgICAgICBOYW1lICA9PiAnU29tZTo6UXVldWUnLAogICAgKTsKCj1jdXQKCnN1YiBRdWV1ZUdldCB7CiAgICBteSAoICRTZWxmLCAlUGFyYW0gKSA9IEBfOwoKICAgICMgY2hlY2sgbmVlZGVkIHN0dWZmCiAgICBpZiAoICEkUGFyYW17SUR9ICYmICEkUGFyYW17TmFtZX0gKSB7CiAgICAgICAgJFNlbGYtPntMb2dPYmplY3R9LT5Mb2coIFByaW9yaXR5ID0+ICdlcnJvcicsIE1lc3NhZ2UgPT4gJ05lZWQgSUQgb3IgTmFtZSEnICk7CiAgICAgICAgcmV0dXJuOwogICAgfQoKICAgICMgY2hlY2sgcnVudGltZSBjYWNoZQogICAgbXkgJENhY2hlS2V5OwogICAgbXkgJEtleTsKICAgIG15ICRWYWx1ZTsKICAgIGlmICggJFBhcmFte0lEfSApIHsKICAgICAgICAkQ2FjaGVLZXkgPSAnUXVldWVHZXRJRDo6JyAuICRQYXJhbXtJRH07CiAgICAgICAgJEtleSAgICAgID0gJ0lEJzsKICAgICAgICAkVmFsdWUgICAgPSAkUGFyYW17SUR9OwogICAgfQogICAgZWxzZSB7CiAgICAgICAgJENhY2hlS2V5ID0gJ1F1ZXVlR2V0TmFtZTo6JyAuICRQYXJhbXtOYW1lfTsKICAgICAgICAkS2V5ICAgICAgPSAnTmFtZSc7CiAgICAgICAgJFZhbHVlICAgID0gJFBhcmFte05hbWV9OwogICAgfQoKICAgICMgY2hlY2sgY2FjaGUKICAgIG15ICRDYWNoZSA9ICRTZWxmLT57Q2FjaGVJbnRlcm5hbE9iamVjdH0tPkdldCggS2V5ID0+ICRDYWNoZUtleSApOwogICAgcmV0dXJuICV7JENhY2hlfSBpZiAkQ2FjaGU7CgogICAgIyBzcWwKICAgIG15IEBCaW5kOwogICAgbXkgJFNRTCA9ICdTRUxFQ1QgcS5uYW1lLCBxLmdyb3VwX2lkLCBxLnVubG9ja190aW1lb3V0LCAnCiAgICAgICAgLiAncS5zeXN0ZW1fYWRkcmVzc19pZCwgcS5zYWx1dGF0aW9uX2lkLCBxLnNpZ25hdHVyZV9pZCwgcS5jb21tZW50cywgcS52YWxpZF9pZCwgJwogICAgICAgIC4gJ3EuZmlyc3RfcmVzcG9uc2VfdGltZSwgcS5maXJzdF9yZXNwb25zZV9ub3RpZnksICcKICAgICAgICAuICdxLnVwZGF0ZV90aW1lLCBxLnVwZGF0ZV9ub3RpZnksIHEuc29sdXRpb25fdGltZSwgcS5zb2x1dGlvbl9ub3RpZnksICcKICAgICAgICAuICdxLmZvbGxvd191cF9pZCwgcS5mb2xsb3dfdXBfbG9jaywgc2EudmFsdWUwLCBzYS52YWx1ZTEsIHEuaWQsICcKICAgICAgICAuICdxLmRlZmF1bHRfc2lnbl9rZXksIHEuY2FsZW5kYXJfbmFtZSwgcS5jcmVhdGVfdGltZSwgcS5jaGFuZ2VfdGltZSBGUk9NIHF1ZXVlIHEsICcKICAgICAgICAuICdzeXN0ZW1fYWRkcmVzcyBzYSBXSEVSRSBxLnN5c3RlbV9hZGRyZXNzX2lkID0gc2EuaWQgQU5EICc7CgogICAgaWYgKCAkUGFyYW17SUR9ICkgewogICAgICAgICRTUUwgLj0gJ3EuaWQgPSA/JzsKICAgICAgICBwdXNoIEBCaW5kLCBcJFBhcmFte0lEfTsKICAgIH0KICAgIGVsc2UgewogICAgICAgICRTUUwgLj0gJ3EubmFtZSA9ID8nOwogICAgICAgIHB1c2ggQEJpbmQsIFwkUGFyYW17TmFtZX07CiAgICB9CgogICAgcmV0dXJuIGlmICEkU2VsZi0+e0RCT2JqZWN0fS0+UHJlcGFyZSgKICAgICAgICBTUUwgICA9PiAkU1FMLAogICAgICAgIEJpbmQgID0+IFxAQmluZCwKICAgICAgICBMaW1pdCA9PiAxLAogICAgKTsKCiAgICAjIGZldGNoIHRoZSByZXN1bHQKICAgIG15ICVEYXRhOwogICAgd2hpbGUgKCBteSBARGF0YSA9ICRTZWxmLT57REJPYmplY3R9LT5GZXRjaHJvd0FycmF5KCkgKSB7CiAgICAgICAgJURhdGEgPSAoCiAgICAgICAgICAgIFF1ZXVlSUQgICAgICAgICAgICAgPT4gJERhdGFbMThdLAogICAgICAgICAgICBOYW1lICAgICAgICAgICAgICAgID0+ICREYXRhWzBdLAogICAgICAgICAgICBHcm91cElEICAgICAgICAgICAgID0+ICREYXRhWzFdLAogICAgICAgICAgICBVbmxvY2tUaW1lb3V0ICAgICAgID0+ICREYXRhWzJdLAogICAgICAgICAgICBGaXJzdFJlc3BvbnNlVGltZSAgID0+ICREYXRhWzhdLAogICAgICAgICAgICBGaXJzdFJlc3BvbnNlTm90aWZ5ID0+ICREYXRhWzldLAogICAgICAgICAgICBVcGRhdGVUaW1lICAgICAgICAgID0+ICREYXRhWzEwXSwKICAgICAgICAgICAgVXBkYXRlTm90aWZ5ICAgICAgICA9PiAkRGF0YVsxMV0sCiAgICAgICAgICAgIFNvbHV0aW9uVGltZSAgICAgICAgPT4gJERhdGFbMTJdLAogICAgICAgICAgICBTb2x1dGlvbk5vdGlmeSAgICAgID0+ICREYXRhWzEzXSwKICAgICAgICAgICAgRm9sbG93VXBJRCAgICAgICAgICA9PiAkRGF0YVsxNF0sCiAgICAgICAgICAgIEZvbGxvd1VwTG9jayAgICAgICAgPT4gJERhdGFbMTVdLAogICAgICAgICAgICBTeXN0ZW1BZGRyZXNzSUQgICAgID0+ICREYXRhWzNdLAogICAgICAgICAgICBTYWx1dGF0aW9uSUQgICAgICAgID0+ICREYXRhWzRdLAogICAgICAgICAgICBTaWduYXR1cmVJRCAgICAgICAgID0+ICREYXRhWzVdLAogICAgICAgICAgICBDb21tZW50ICAgICAgICAgICAgID0+ICREYXRhWzZdLAogICAgICAgICAgICBWYWxpZElEICAgICAgICAgICAgID0+ICREYXRhWzddLAogICAgICAgICAgICBFbWFpbCAgICAgICAgICAgICAgID0+ICREYXRhWzE2XSwKICAgICAgICAgICAgUmVhbE5hbWUgICAgICAgICAgICA9PiAkRGF0YVsxN10sCiAgICAgICAgICAgIERlZmF1bHRTaWduS2V5ICAgICAgPT4gJERhdGFbMTldLAogICAgICAgICAgICBDYWxlbmRhciAgICAgICAgICAgID0+ICREYXRhWzIwXSB8fCAnJywKICAgICAgICAgICAgQ3JlYXRlVGltZSAgICAgICAgICA9PiAkRGF0YVsyMV0sCiAgICAgICAgICAgIENoYW5nZVRpbWUgICAgICAgICAgPT4gJERhdGFbMjJdLAogICAgICAgICk7CiAgICB9CgogICAgIyBjaGVjayBpZiBkYXRhIGV4aXN0cwogICAgaWYgKCAhJURhdGEgKSB7CiAgICAgICAgJFNlbGYtPntMb2dPYmplY3R9LT5Mb2coCiAgICAgICAgICAgIFByaW9yaXR5ID0+ICdlcnJvcicsCiAgICAgICAgICAgIE1lc3NhZ2UgID0+ICJGb3VuZCBubyAkS2V5IGZvciAkVmFsdWUhIiwKICAgICAgICApOwogICAgICAgIHJldHVybjsKICAgIH0KCiAgICAjIGdldCBxdWV1ZSBwcmVmZXJlbmNlcwogICAgbXkgJVByZWZlcmVuY2VzID0gJFNlbGYtPlF1ZXVlUHJlZmVyZW5jZXNHZXQoIFF1ZXVlSUQgPT4gJERhdGF7UXVldWVJRH0gKTsKCiAgICAjIG1lcmdlIGhhc2gKICAgIGlmICglUHJlZmVyZW5jZXMpIHsKICAgICAgICAlRGF0YSA9ICggJURhdGEsICVQcmVmZXJlbmNlcyApOwogICAgfQoKICAgICMgc2V0IGNhY2hlCiAgICAkU2VsZi0+e0NhY2hlSW50ZXJuYWxPYmplY3R9LT5TZXQoIEtleSA9PiAkQ2FjaGVLZXksIFZhbHVlID0+IFwlRGF0YSApOwoKICAgIHJldHVybiAlRGF0YTsKfQoKPWl0ZW0gUXVldWVVcGRhdGUoKQoKdXBkYXRlIHF1ZXVlIGF0dHJpYnV0ZXMKCiAgICAkUXVldWVPYmplY3QtPlF1ZXVlVXBkYXRlKAogICAgICAgIFF1ZXVlSUQgICAgICAgICAgICAgPT4gMTIzLAogICAgICAgIE5hbWUgICAgICAgICAgICAgICAgPT4gJ1NvbWU6OlF1ZXVlJywKICAgICAgICBWYWxpZElEICAgICAgICAgICAgID0+IDEsCiAgICAgICAgR3JvdXBJRCAgICAgICAgICAgICA9PiAxLAogICAgICAgIENhbGVuZGFyICAgICAgICAgICAgPT4gJzEnLCAjIChvcHRpb25hbCkgZGVmYXVsdCAnJwogICAgICAgIEZpcnN0UmVzcG9uc2VUaW1lICAgPT4gMTIwLCAjIChvcHRpb25hbCkKICAgICAgICBGaXJzdFJlc3BvbnNlTm90aWZ5ID0+IDYwLCAgIyAob3B0aW9uYWwsIG5vdGlmeSBhZ2VudCBpZiBmaXJzdCByZXNwb25zZSBlc2NhbGF0aW9uIGlzIDYwJSByZWFjaGVkKQogICAgICAgIFVwZGF0ZVRpbWUgICAgICAgICAgPT4gMTgwLCAjIChvcHRpb25hbCkKICAgICAgICBVcGRhdGVOb3RpZnkgICAgICAgID0+IDgwLCAgIyAob3B0aW9uYWwsIG5vdGlmeSBhZ2VudCBpZiB1cGRhdGUgZXNjYWxhdGlvbiBpcyA4MCUgcmVhY2hlZCkKICAgICAgICBTb2x1dGlvblRpbWUgICAgICAgID0+IDU4MCwgIyAob3B0aW9uYWwpCiAgICAgICAgU29sdXRpb25Ob3RpZnkgICAgICA9PiA4MCwgICMgKG9wdGlvbmFsLCBub3RpZnkgYWdlbnQgaWYgc29sdXRpb24gZXNjYWxhdGlvbiBpcyA4MCUgcmVhY2hlZCkKICAgICAgICBTeXN0ZW1BZGRyZXNzSUQgICAgID0+IDEsCiAgICAgICAgU2FsdXRhdGlvbklEICAgICAgICA9PiAxLAogICAgICAgIFNpZ25hdHVyZUlEICAgICAgICAgPT4gMSwKICAgICAgICBVc2VySUQgICAgICAgICAgICAgID0+IDEyMywKICAgICAgICBGb2xsb3dVcElEICAgICAgICAgID0+IDEsCiAgICAgICAgQ29tbWVudCAgICAgICAgICAgICA9PiAnU29tZSBDb21tZW50MicsCiAgICAgICAgRGVmYXVsdFNpZ25LZXkgICAgICA9PiAnJwogICAgICAgIFVubG9ja1RpbWVPdXQgICAgICAgPT4gJycKICAgICAgICBGb2xsb3dVcExvY2sgICAgICAgID0+IDEsCiAgICAgICAgUGFyZW50UXVldWVJRCAgICAgICA9PiAnJywKICAgICAgICBDaGVja1N5c0NvbmZpZyAgICAgID0+IDAsICAgIyAob3B0aW9uYWwpIGRlZmF1bHQgMQogICAgKTsKCj1jdXQKCnN1YiBRdWV1ZVVwZGF0ZSB7CiAgICBteSAoICRTZWxmLCAlUGFyYW0gKSA9IEBfOwoKICAgICMgY2hlY2sgbmVlZGVkIHN0dWZmCiAgICBmb3IgKAogICAgICAgIHF3KFF1ZXVlSUQgTmFtZSBWYWxpZElEIEdyb3VwSUQgU3lzdGVtQWRkcmVzc0lEIFNhbHV0YXRpb25JRCBTaWduYXR1cmVJRCBVc2VySUQgRm9sbG93VXBJRCkKICAgICAgICApCiAgICB7CiAgICAgICAgaWYgKCAhJFBhcmFteyRffSApIHsKICAgICAgICAgICAgJFNlbGYtPntMb2dPYmplY3R9LT5Mb2coIFByaW9yaXR5ID0+ICdlcnJvcicsIE1lc3NhZ2UgPT4gIk5lZWQgJF8hIiApOwogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgfQoKICAgICMgY2hlY2sgQ2hlY2tTeXNDb25maWcgcGFyYW0KICAgIGlmICggIWRlZmluZWQgJFBhcmFte0NoZWNrU3lzQ29uZmlnfSApIHsKICAgICAgICAkUGFyYW17Q2hlY2tTeXNDb25maWd9ID0gMTsKICAgIH0KCiAgICAjIEZvbGxvd1VwTG9jayAwIHwgMQogICAgJFBhcmFte0ZvbGxvd1VwTG9ja30gPSAkUGFyYW17Rm9sbG93VXBMb2NrfSB8fCAwOwoKICAgICMgRGVmYXVsdFNpZ25LZXkgICAnJyB8fCAnc3RyaW5nJwogICAgJFBhcmFte0RlZmF1bHRTaWduS2V5fSA9ICRQYXJhbXtEZWZhdWx0U2lnbktleX0gfHwgJyc7CgogICAgIyBDYWxlbmRhciBzdHJpbmcgICcnLCAnMScsICcyJywgJzMnLCAnNCcsICc1JyAgZGVmYXVsdCAnJwogICAgJFBhcmFte0NhbGVuZGFyfSB8fD0gJyc7CgkKCW15ICVRdWV1ZU9sZCA9ICRTZWxmLT5RdWV1ZUdldCggSUQgPT4gJFBhcmFte1F1ZXVlSUR9ICk7CglpZiggKCAkUGFyYW17Q2FsZW5kYXJ9IGVxICcnIGFuZCAkUXVldWVPbGR7J0NhbGVuZGFyJ30gbmUgJycgKSBvciAkUXVldWVPbGR7J0NhbGVuZGFyJ30gIT0gJFBhcmFte0NhbGVuZGFyfSApIHsKCQkkU2VsZi0+RXZlbnRIYW5kbGVyKAoJCQlFdmVudCA9PiAnWm1pYW5hS2FsZW5kYXJ6YURsYUtvbGVqa2knLAoJCQlEYXRhICA9PiB7CgkJCQlRdWV1ZUlEID0+ICRQYXJhbXtRdWV1ZUlEfSwKCQkJCU9sZENhbGVuZGFySUQgPT4gJFF1ZXVlT2xkeydDYWxlbmRhcid9LAoJCQkJTmV3Q2FsZW5kYXJJRCA9PiAkUGFyYW17Q2FsZW5kYXJ9LAoJCQl9LAoJCQlVc2VySUQgPT4gJFBhcmFte1VzZXJJRH0sCgkJCSVQYXJhbSwKCQkpOwoJfQoJCiAgICAjIGNvbnRlbnQgLT4gdGltZSBpbiBzZWNvbmRzCiAgICBmb3IgbXkgJFRpbWUgKHF3KCBVbmxvY2tUaW1lb3V0IEZpcnN0UmVzcG9uc2VUaW1lIFVwZGF0ZVRpbWUgU29sdXRpb25UaW1lICkpIHsKCiAgICAgICAgJFBhcmFteyRUaW1lfSA9ICRQYXJhbXskVGltZX0gfHwgMDsKCiAgICAgICAgaWYgKCAkUGFyYW17JFRpbWV9ICF+IG17XlxkKyR9c214ICkgewogICAgICAgICAgICAkU2VsZi0+e0xvZ09iamVjdH0tPkxvZyggUHJpb3JpdHkgPT4gJ2Vycm9yJywgTWVzc2FnZSA9PiAiJFRpbWUgaXMgbm90IG51bWVyaWMhIiApOwogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgfQoKICAgICMgY29udGVudCBpbnRlZ2VyIGZyb20gMCAtIDk5CiAgICBmb3IgbXkgJE5vdGlmeSAocXcoRmlyc3RSZXNwb25zZU5vdGlmeSAgVXBkYXRlTm90aWZ5ICBTb2x1dGlvbk5vdGlmeSkpIHsKCiAgICAgICAgJFBhcmFteyROb3RpZnl9ID0gJFBhcmFteyROb3RpZnl9IHx8IDA7CgogICAgICAgIGlmICggJFBhcmFteyROb3RpZnl9ICF+IG17XlxkezEsMn19c214ICkgewogICAgICAgICAgICAkU2VsZi0+e0xvZ09iamVjdH0tPkxvZygKICAgICAgICAgICAgICAgIFByaW9yaXR5ID0+ICdlcnJvcicsCiAgICAgICAgICAgICAgICBNZXNzYWdlICA9PiAiJE5vdGlmeSBtdXN0IGJlIGFuIGludGVnZXIgaW4gdGhlIHJhbmdlIGZyb20gMCB0byA5OSEiLAogICAgICAgICAgICApOwogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgfQoKICAgICMgY2xlYW51cCBxdWV1ZSBuYW1lCiAgICAkUGFyYW17TmFtZX0gPX4gcy8oXG58XHIpLy9nOwogICAgJFBhcmFte05hbWV9ID1+IHMvXHMkLy9nOwoKICAgICMgY2hlY2sgcXVldWUgbmFtZQogICAgaWYgKCAkUGFyYW17TmFtZX0gPX4gLzo6JC9pICkgewogICAgICAgICRTZWxmLT57TG9nT2JqZWN0fS0+TG9nKAogICAgICAgICAgICBQcmlvcml0eSA9PiAnZXJyb3InLAogICAgICAgICAgICBNZXNzYWdlICA9PiAiSW52YWxpZCBRdWV1ZSBuYW1lICckUGFyYW17TmFtZX0nISIsCiAgICAgICAgKTsKICAgICAgICByZXR1cm47CiAgICB9CgogICAgIyBjaGVjayBpZiBxdWV1ZSBuYW1lIGV4aXN0cwogICAgbXkgJUFsbFF1ZXVlID0gJFNlbGYtPlF1ZXVlTGlzdCggVmFsaWQgPT4gMCApOwogICAgbXkgJU9sZFF1ZXVlID0gJFNlbGYtPlF1ZXVlR2V0KCBJRCA9PiAkUGFyYW17UXVldWVJRH0gKTsKCiAgICBmb3IgKCBzb3J0IGtleXMgJUFsbFF1ZXVlICkgewogICAgICAgIGlmICggJEFsbFF1ZXVleyRffSA9fiAvXlxRJFBhcmFte05hbWV9XEUkL2kgJiYgJF8gIT0gJFBhcmFte1F1ZXVlSUR9ICkgewogICAgICAgICAgICAkU2VsZi0+e0xvZ09iamVjdH0tPkxvZygKICAgICAgICAgICAgICAgIFByaW9yaXR5ID0+ICdlcnJvcicsCiAgICAgICAgICAgICAgICBNZXNzYWdlICA9PiAiUXVldWUgJyRQYXJhbXtOYW1lfScgZXhpc3RzISBDYW4ndCB1cGRhdGVkIHF1ZXVlICckT2xkUXVldWV7TmFtZX0nLiIsCiAgICAgICAgICAgICk7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICB9CgogICAgIyBzcWwKICAgIHJldHVybiBpZiAhJFNlbGYtPntEQk9iamVjdH0tPkRvKAogICAgICAgIFNRTCA9PiAnVVBEQVRFIHF1ZXVlIFNFVCBuYW1lID0gPywgY29tbWVudHMgPSA/LCBncm91cF9pZCA9ID8sICcKICAgICAgICAgICAgLiAnIHVubG9ja190aW1lb3V0ID0gPywgZmlyc3RfcmVzcG9uc2VfdGltZSA9ID8sIGZpcnN0X3Jlc3BvbnNlX25vdGlmeSA9ID8sICcKICAgICAgICAgICAgLiAnIHVwZGF0ZV90aW1lID0gPywgdXBkYXRlX25vdGlmeSA9ID8sIHNvbHV0aW9uX3RpbWUgPSA/LCAnCiAgICAgICAgICAgIC4gJyBzb2x1dGlvbl9ub3RpZnkgPSA/LCBmb2xsb3dfdXBfaWQgPSA/LCBmb2xsb3dfdXBfbG9jayA9ID8sICcKICAgICAgICAgICAgLiAnIHN5c3RlbV9hZGRyZXNzX2lkID0gPywgY2FsZW5kYXJfbmFtZSA9ID8sIGRlZmF1bHRfc2lnbl9rZXkgPSA/LCAnCiAgICAgICAgICAgIC4gJyBzYWx1dGF0aW9uX2lkID0gPywgc2lnbmF0dXJlX2lkID0gPywgJwogICAgICAgICAgICAuICcgdmFsaWRfaWQgPSA/LCBjaGFuZ2VfdGltZSA9IGN1cnJlbnRfdGltZXN0YW1wLCBjaGFuZ2VfYnkgPSA/ICcKICAgICAgICAgICAgLiAnIFdIRVJFIGlkID0gPycsCiAgICAgICAgQmluZCA9PiBbCiAgICAgICAgICAgIFwkUGFyYW17TmFtZX0sIFwkUGFyYW17Q29tbWVudH0sIFwkUGFyYW17R3JvdXBJRH0sIFwkUGFyYW17VW5sb2NrVGltZW91dH0sCiAgICAgICAgICAgIFwkUGFyYW17Rmlyc3RSZXNwb25zZVRpbWV9LCBcJFBhcmFte0ZpcnN0UmVzcG9uc2VOb3RpZnl9LCBcJFBhcmFte1VwZGF0ZVRpbWV9LAogICAgICAgICAgICBcJFBhcmFte1VwZGF0ZU5vdGlmeX0sICAgICAgXCRQYXJhbXtTb2x1dGlvblRpbWV9LCAgICAgICAgXCRQYXJhbXtTb2x1dGlvbk5vdGlmeX0sCiAgICAgICAgICAgIFwkUGFyYW17Rm9sbG93VXBJRH0sICAgICAgICBcJFBhcmFte0ZvbGxvd1VwTG9ja30sICAgICAgICBcJFBhcmFte1N5c3RlbUFkZHJlc3NJRH0sCiAgICAgICAgICAgIFwkUGFyYW17Q2FsZW5kYXJ9LCAgICAgICAgICBcJFBhcmFte0RlZmF1bHRTaWduS2V5fSwgICAgICBcJFBhcmFte1NhbHV0YXRpb25JRH0sCiAgICAgICAgICAgIFwkUGFyYW17U2lnbmF0dXJlSUR9LCAgICAgICBcJFBhcmFte1ZhbGlkSUR9LCAgICAgICAgICAgICBcJFBhcmFte1VzZXJJRH0sCiAgICAgICAgICAgIFwkUGFyYW17UXVldWVJRH0sCiAgICAgICAgXSwKICAgICk7CgogICAgIyByZXNldCBjYWNoZQogICAgJFNlbGYtPntDYWNoZUludGVybmFsT2JqZWN0fS0+Q2xlYW5VcCgpOwoKICAgICMgdXBkYXRlZCBhbGwgc3ViIHF1ZXVlIG5hbWVzCiAgICBteSBAUGFyZW50UXVldWUgPSBzcGxpdCggLzo6LywgJE9sZFF1ZXVle05hbWV9ICk7CgogICAgZm9yIG15ICRRdWV1ZUlEICggc29ydCBrZXlzICVBbGxRdWV1ZSApIHsKCiAgICAgICAgbXkgQFN1YlF1ZXVlID0gc3BsaXQoIC86Oi8sICRBbGxRdWV1ZXskUXVldWVJRH0gKTsKCiAgICAgICAgaWYgKCAkI1N1YlF1ZXVlID4gJCNQYXJlbnRRdWV1ZSApIHsKCiAgICAgICAgICAgIGlmICggJEFsbFF1ZXVleyRRdWV1ZUlEfSA9fiAvXlxRJE9sZFF1ZXVle05hbWV9OjpcRS9pICkgewoKICAgICAgICAgICAgICAgIG15ICROZXdRdWV1ZU5hbWUgPSAkQWxsUXVldWV7JFF1ZXVlSUR9OwogICAgICAgICAgICAgICAgJE5ld1F1ZXVlTmFtZSA9fiBzL1xRJE9sZFF1ZXVle05hbWV9XEUvJFBhcmFte05hbWV9LzsKCiAgICAgICAgICAgICAgICByZXR1cm4gaWYgISRTZWxmLT57REJPYmplY3R9LT5EbygKICAgICAgICAgICAgICAgICAgICBTUUwgPT4gJ1VQREFURSBxdWV1ZSBTRVQgbmFtZSA9ID8sIGNoYW5nZV90aW1lID0gY3VycmVudF90aW1lc3RhbXAsICcKICAgICAgICAgICAgICAgICAgICAgICAgLiAnIGNoYW5nZV9ieSA9ID8gV0hFUkUgaWQgPSA/JywKICAgICAgICAgICAgICAgICAgICBCaW5kID0+IFsgXCROZXdRdWV1ZU5hbWUsIFwkUGFyYW17VXNlcklEfSwgXCRRdWV1ZUlEIF0sCiAgICAgICAgICAgICAgICApOwoKICAgICAgICAgICAgICAgICMgcmVzZXQgY2FjaGUKICAgICAgICAgICAgICAgICRTZWxmLT57Q2FjaGVJbnRlcm5hbE9iamVjdH0tPkNsZWFuVXAoKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KCiAgICAjIGNoZWNrIGFsbCBzeXNjb25maWcgb3B0aW9ucwogICAgcmV0dXJuIDEgaWYgISRQYXJhbXtDaGVja1N5c0NvbmZpZ307CgogICAgIyBjcmVhdGUgYSB0aW1lIG9iamVjdCBsb2NhbGx5LCBuZWVkZWQgZm9yIHRoZSBsb2NhbCBTeXNDb25maWdPYmplY3QKICAgIG15ICRUaW1lT2JqZWN0ID0gS2VybmVsOjpTeXN0ZW06OlRpbWUtPm5ldyggJXskU2VsZn0gKTsKCiAgICAjIGNyZWF0ZSBhIHN5c2NvbmZpZyBvYmplY3QgbG9jYWxseSBmb3IgcGVyZm9ybWFuY2UgcmVhc29ucwogICAgbXkgJFN5c0NvbmZpZ09iamVjdCA9IEtlcm5lbDo6U3lzdGVtOjpTeXNDb25maWctPm5ldygKICAgICAgICAleyRTZWxmfSwKICAgICAgICBUaW1lT2JqZWN0ID0+ICRUaW1lT2JqZWN0LAogICAgKTsKCiAgICAjIGNoZWNrIGFsbCBzeXNjb25maWcgb3B0aW9ucyBhbmQgY29ycmVjdCB0aGVtIGF1dG9tYXRpY2FsbHkgaWYgbmVjY2Vzc2FyeQogICAgJFN5c0NvbmZpZ09iamVjdC0+Q29uZmlnSXRlbUNoZWNrQWxsKCk7CgogICAgcmV0dXJuIDE7Cn0KCj1pdGVtIFF1ZXVlTGlzdCgpCgpnZXQgYWxsIHF1ZXVlcwoKICAgIG15ICVRdWV1ZXMgPSAkUXVldWVPYmplY3QtPlF1ZXVlTGlzdCgpOwoKICAgIG15ICVRdWV1ZXMgPSAkUXVldWVPYmplY3QtPlF1ZXVlTGlzdCggVmFsaWQgPT4gMSApOwoKPWN1dAoKc3ViIFF1ZXVlTGlzdCB7CiAgICBteSAoICRTZWxmLCAlUGFyYW0gKSA9IEBfOwoKICAgICMgc2V0IHZhbGlkIG9wdGlvbgogICAgbXkgJFZhbGlkID0gJFBhcmFte1ZhbGlkfTsKICAgIGlmICggIWRlZmluZWQgJFZhbGlkIHx8ICRWYWxpZCApIHsKICAgICAgICAkVmFsaWQgPSAxOwogICAgfQogICAgZWxzZSB7CiAgICAgICAgJFZhbGlkID0gMDsKICAgIH0KCiAgICAjIGNoZWNrIGNhY2hlCiAgICBteSAkQ2FjaGVLZXkgPSAnUXVldWVMaXN0OjonIC4gJFZhbGlkOwogICAgbXkgJENhY2hlICAgID0gJFNlbGYtPntDYWNoZUludGVybmFsT2JqZWN0fS0+R2V0KAogICAgICAgIEtleSA9PiAkQ2FjaGVLZXksCiAgICApOwogICAgcmV0dXJuICV7JENhY2hlfSBpZiAkQ2FjaGU7CgogICAgIyBzcWwgcXVlcnkKICAgIGlmICgkVmFsaWQpIHsKICAgICAgICByZXR1cm4gaWYgISRTZWxmLT57REJPYmplY3R9LT5QcmVwYXJlKAogICAgICAgICAgICBTUUwgPT4gIlNFTEVDVCBpZCwgbmFtZSBGUk9NIHF1ZXVlIFdIRVJFIHZhbGlkX2lkIElOICIKICAgICAgICAgICAgICAgIC4gIiggJHtcKGpvaW4gJywgJywgJFNlbGYtPntWYWxpZE9iamVjdH0tPlZhbGlkSURzR2V0KCkpfSApIiwKICAgICAgICApOwogICAgfQogICAgZWxzZSB7CiAgICAgICAgcmV0dXJuIGlmICEkU2VsZi0+e0RCT2JqZWN0fS0+UHJlcGFyZSgKICAgICAgICAgICAgU1FMID0+ICdTRUxFQ1QgaWQsIG5hbWUgRlJPTSBxdWV1ZScsCiAgICAgICAgKTsKICAgIH0KCiAgICAjIGZldGNoIHRoZSByZXN1bHQKICAgIG15ICVRdWV1ZXM7CiAgICB3aGlsZSAoIG15IEBSb3cgPSAkU2VsZi0+e0RCT2JqZWN0fS0+RmV0Y2hyb3dBcnJheSgpICkgewogICAgICAgICRRdWV1ZXN7ICRSb3dbMF0gfSA9ICRSb3dbMV07CiAgICB9CgogICAgIyBzZXQgY2FjaGUKICAgICRTZWxmLT57Q2FjaGVJbnRlcm5hbE9iamVjdH0tPlNldCgKICAgICAgICBLZXkgICA9PiAkQ2FjaGVLZXksCiAgICAgICAgVmFsdWUgPT4gXCVRdWV1ZXMsCiAgICApOwoKICAgIHJldHVybiAlUXVldWVzOwp9Cgo9aXRlbSBRdWV1ZVByZWZlcmVuY2VzU2V0KCkKCnNldCBxdWV1ZSBwcmVmZXJlbmNlcwoKICAgICRRdWV1ZU9iamVjdC0+UXVldWVQcmVmZXJlbmNlc1NldCgKICAgICAgICBRdWV1ZUlEID0+IDEyMywKICAgICAgICBLZXkgICAgID0+ICdVc2VyQ29tbWVudCcsCiAgICAgICAgVmFsdWUgICA9PiAnc29tZSBjb21tZW50JywKICAgICAgICBVc2VySUQgID0+IDEyMywKICAgICk7Cgo9Y3V0CgpzdWIgUXVldWVQcmVmZXJlbmNlc1NldCB7CiAgICBteSAoICRTZWxmLCAlUGFyYW0gKSA9IEBfOwoKICAgICMgZGVsZXRlIGNhY2hlCiAgICBteSAkTmFtZSA9ICRTZWxmLT5RdWV1ZUxvb2t1cCggUXVldWVJRCA9PiAkUGFyYW17UXVldWVJRH0gKTsKICAgIG15IEBDYWNoZUtleXMgPSAoCiAgICAgICAgJ1F1ZXVlR2V0SUQ6OicgLiAkUGFyYW17UXVldWVJRH0sCiAgICAgICAgJ1F1ZXVlR2V0TmFtZTo6JyAuICROYW1lLAogICAgKTsKICAgIGZvciBteSAkQ2FjaGVLZXkgKEBDYWNoZUtleXMpIHsKICAgICAgICAkU2VsZi0+e0NhY2hlSW50ZXJuYWxPYmplY3R9LT5EZWxldGUoIEtleSA9PiAkQ2FjaGVLZXkgKTsKICAgIH0KCiAgICByZXR1cm4gJFNlbGYtPntQcmVmZXJlbmNlc09iamVjdH0tPlF1ZXVlUHJlZmVyZW5jZXNTZXQoJVBhcmFtKTsKfQoKPWl0ZW0gUXVldWVQcmVmZXJlbmNlc0dldCgpCgpnZXQgcXVldWUgcHJlZmVyZW5jZXMKCiAgICBteSAlUHJlZmVyZW5jZXMgPSAkUXVldWVPYmplY3QtPlF1ZXVlUHJlZmVyZW5jZXNHZXQoCiAgICAgICAgUXVldWVJRCA9PiAxMjMsCiAgICAgICAgVXNlcklEICA9PiAxMjMsCiAgICApOwoKPWN1dAoKc3ViIFF1ZXVlUHJlZmVyZW5jZXNHZXQgewogICAgbXkgKCAkU2VsZiwgJVBhcmFtICkgPSBAXzsKCiAgICByZXR1cm4gJFNlbGYtPntQcmVmZXJlbmNlc09iamVjdH0tPlF1ZXVlUHJlZmVyZW5jZXNHZXQoJVBhcmFtKTsKfQoKMTsKCj1iYWNrCgo9aGVhZDEgVEVSTVMgQU5EIENPTkRJVElPTlMKClRoaXMgc29mdHdhcmUgaXMgcGFydCBvZiB0aGUgT1RSUyBwcm9qZWN0IChMPGh0dHA6Ly9vdHJzLm9yZy8+KS4KClRoaXMgc29mdHdhcmUgY29tZXMgd2l0aCBBQlNPTFVURUxZIE5PIFdBUlJBTlRZLiBGb3IgZGV0YWlscywgc2VlCnRoZSBlbmNsb3NlZCBmaWxlIENPUFlJTkcgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24gKEFHUEwpLiBJZiB5b3UKZGlkIG5vdCByZWNlaXZlIHRoaXMgZmlsZSwgc2VlIEw8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzL2FncGwudHh0Pi4KCj1jdXQK</File>
        <File Location="Kernel/Modules/AdminInitITRM.pm" Permission="644" Encode="Base64">IyAtLQ0KIyBLZXJuZWwvTW9kdWxlcy9BZG1pbkluaXRJVFJNLnBtIC0gaW5pdCBhIG5ldyBzZXR1cA0KIyBDb3B5cmlnaHQgKEMpIDIwMDEtMjAxMCBPVFJTIEFHLCBodHRwOi8vb3Rycy5vcmcvDQojIC0tDQojICRJZDogQWRtaW5Jbml0SVRSTS5wbSx2IDEuMTcgMjAxMC8wOS8wMiAxMjoyMDo0NyBtYXJ0aW4gRXhwICQNCiMgLS0NCiMgVGhpcyBzb2Z0d2FyZSBjb21lcyB3aXRoIEFCU09MVVRFTFkgTk8gV0FSUkFOVFkuIEZvciBkZXRhaWxzLCBzZWUNCiMgdGhlIGVuY2xvc2VkIGZpbGUgQ09QWUlORyBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbiAoQUdQTCkuIElmIHlvdQ0KIyBkaWQgbm90IHJlY2VpdmUgdGhpcyBmaWxlLCBzZWUgaHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzL2FncGwudHh0Lg0KIyAtLQ0KDQpwYWNrYWdlIEtlcm5lbDo6TW9kdWxlczo6QWRtaW5Jbml0SVRSTTsNCg0KdXNlIHN0cmljdDsNCnVzZSB3YXJuaW5nczsNCg0KdXNlIEtlcm5lbDo6U3lzdGVtOjpTeXNDb25maWc7DQoNCnVzZSB2YXJzIHF3KCRWRVJTSU9OKTsNCiRWRVJTSU9OID0gcXcoJFJldmlzaW9uOiAxLjE3ICQpIFsxXTsNCg0Kc3ViIG5ldyB7DQogICAgbXkgKCAkVHlwZSwgJVBhcmFtICkgPSBAXzsNCg0KICAgICMgYWxsb2NhdGUgbmV3IGhhc2ggZm9yIG9iamVjdA0KICAgIG15ICRTZWxmID0geyVQYXJhbX07DQogICAgYmxlc3MoICRTZWxmLCAkVHlwZSApOw0KDQogICAgIyBjaGVjayBhbGwgbmVlZGVkIG9iamVjdHMNCiAgICBmb3IgKHF3KFBhcmFtT2JqZWN0IERCT2JqZWN0IExheW91dE9iamVjdCBDb25maWdPYmplY3QgTG9nT2JqZWN0KSkgew0KICAgICAgICBpZiAoICEkU2VsZi0+eyRffSApIHsNCiAgICAgICAgICAgICRTZWxmLT57TGF5b3V0T2JqZWN0fS0+RmF0YWxFcnJvciggTWVzc2FnZSA9PiAiR290IG5vICRfISIgKTsNCiAgICAgICAgfQ0KICAgIH0NCg0KICAgICRTZWxmLT57U3lzQ29uZmlnT2JqZWN0fSA9IEtlcm5lbDo6U3lzdGVtOjpTeXNDb25maWctPm5ldyglUGFyYW0pOw0KDQogICAgcmV0dXJuICRTZWxmOw0KfQ0KDQpzdWIgUnVuIHsNCiAgICBteSAoICRTZWxmLCAlUGFyYW0gKSA9IEBfOw0KDQogICAgIyByZXR1cm4gZG8gYWRtaW4gc2NyZWVuDQogICAgaWYgKCAkU2VsZi0+e1N1YmFjdGlvbn0gZXEgJ0RvbmUnICkgew0KICAgICAgICByZXR1cm4gJFNlbGYtPntMYXlvdXRPYmplY3R9LT5SZWRpcmVjdCggT1AgPT4gJ0FjdGlvbj1BZG1pbklUUk0nICk7DQogICAgfQ0KDQogICAgIyB3cml0ZSBkZWZhdWx0IGZpbGUNCiAgICBpZiAoICEkU2VsZi0+e1N5c0NvbmZpZ09iamVjdH0tPldyaXRlRGVmYXVsdCgpICkgew0KICAgICAgICByZXR1cm4gJFNlbGYtPntMYXlvdXRPYmplY3R9LT5FcnJvclNjcmVlbigpOw0KICAgIH0NCg0KICAgICMgY3JlYXRlIGNvbmZpZyBvYmplY3QNCiAgICAkU2VsZi0+e0NvbmZpZ09iamVjdH0gPSBLZXJuZWw6OkNvbmZpZy0+bmV3KCAleyRTZWxmfSApOw0KDQogICAgIyBpbnN0YWxsIGluY2x1ZGVkIHBhY2thZ2VzDQogICAgaWYgKCAkU2VsZi0+e01haW5PYmplY3R9LT5SZXF1aXJlKCdLZXJuZWw6OlN5c3RlbTo6UGFja2FnZScpICkgew0KICAgICAgICBteSAkUGFja2FnZU9iamVjdCA9IEtlcm5lbDo6U3lzdGVtOjpQYWNrYWdlLT5uZXcoICV7JFNlbGZ9ICk7DQogICAgICAgIGlmICgkUGFja2FnZU9iamVjdCkgew0KICAgICAgICAgICAgJFBhY2thZ2VPYmplY3QtPlBhY2thZ2VJbnN0YWxsRGVmYXVsdEZpbGVzKCk7DQogICAgICAgIH0NCiAgICB9DQoNCiAgICByZXR1cm4gJFNlbGYtPntMYXlvdXRPYmplY3R9LT5SZWRpcmVjdCggT1AgPT4gJ1N1YmFjdGlvbj1Eb25lJyApOw0KfQ0KDQoxOw0K</File>
        <File Location="Kernel/Modules/AdminITRM.pm" Permission="644" Encode="Base64">IyAtLQ0KIyBLZXJuZWwvTW9kdWxlcy9BZG1pbklUUk0ucG0gLSBwcm92aWRlcyBBZG1pbklUUk0gbWFpbiBwYWdlDQojIENvcHlyaWdodCAoQykgMjAwMS0yMDA5IE9UUlMgQUcsIGh0dHA6Ly9vdHJzLm9yZy8NCiMgLS0NCiMgJElkOiBBZG1pbklUUk0ucG0sdiAxLjE4IDIwMDkvMDIvMTYgMTE6MjA6NTIgdHIgRXhwICQNCiMgLS0NCiMgVGhpcyBzb2Z0d2FyZSBjb21lcyB3aXRoIEFCU09MVVRFTFkgTk8gV0FSUkFOVFkuIEZvciBkZXRhaWxzLCBzZWUNCiMgdGhlIGVuY2xvc2VkIGZpbGUgQ09QWUlORyBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbiAoQUdQTCkuIElmIHlvdQ0KIyBkaWQgbm90IHJlY2VpdmUgdGhpcyBmaWxlLCBzZWUgaHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzL2FncGwudHh0Lg0KIyAtLQ0KDQpwYWNrYWdlIEtlcm5lbDo6TW9kdWxlczo6QWRtaW5JVFJNOw0KDQp1c2Ugc3RyaWN0Ow0KdXNlIHdhcm5pbmdzOw0KDQp1c2UgdmFycyBxdygkVkVSU0lPTik7DQokVkVSU0lPTiA9IHF3KCRSZXZpc2lvbjogMS4xOCAkKSBbMV07DQoNCnN1YiBuZXcgew0KICAgIG15ICggJFR5cGUsICVQYXJhbSApID0gQF87DQoNCiAgICAjIGFsbG9jYXRlIG5ldyBoYXNoIGZvciBvYmplY3QNCiAgICBteSAkU2VsZiA9IHslUGFyYW19Ow0KICAgIGJsZXNzKCAkU2VsZiwgJFR5cGUgKTsNCg0KICAgICMgY2hlY2sgbmVlZGVkIG9iamVjdHMNCiAgICBmb3IgKHF3KFBhcmFtT2JqZWN0IERCT2JqZWN0IExheW91dE9iamVjdCBMb2dPYmplY3QgQ29uZmlnT2JqZWN0KSkgew0KICAgICAgICBpZiAoICEkU2VsZi0+eyRffSApIHsNCiAgICAgICAgICAgICRTZWxmLT57TGF5b3V0T2JqZWN0fS0+RmF0YWxFcnJvciggTWVzc2FnZSA9PiAiR290IG5vICRfISIgKTsNCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIHJldHVybiAkU2VsZjsNCn0NCg0Kc3ViIFJ1biB7DQogICAgbXkgKCAkU2VsZiwgJVBhcmFtICkgPSBAXzsNCg0KICAgICMgYnVpbGQgb3V0cHV0DQogICAgbXkgJE91dHB1dCA9ICRTZWxmLT57TGF5b3V0T2JqZWN0fS0+SGVhZGVyKCk7DQogICAgJE91dHB1dCAuPSAkU2VsZi0+e0xheW91dE9iamVjdH0tPk5hdmlnYXRpb25CYXIoKTsNCiAgICAkT3V0cHV0IC49ICRTZWxmLT57TGF5b3V0T2JqZWN0fS0+Rm9vdGVyKCk7DQoNCiAgICByZXR1cm4gJE91dHB1dDsNCn0NCg0KMTsNCg==</File>
        <File Location="Kernel/Modules/AgentTicketZasoby.pm" Permission="644" Encode="Base64">IyAtLQojIEtlcm5lbC9Nb2R1bGVzL0FnZW50VGlja2V0Q2xvc2UucG0gLSBjbG9zZSBhIHRpY2tldAojIENvcHlyaWdodCAoQykgMjAwMS0yMDEzIE9UUlMgQUcsIGh0dHA6Ly9vdHJzLmNvbS8KIyAtLQojIFRoaXMgc29mdHdhcmUgY29tZXMgd2l0aCBBQlNPTFVURUxZIE5PIFdBUlJBTlRZLiBGb3IgZGV0YWlscywgc2VlCiMgdGhlIGVuY2xvc2VkIGZpbGUgQ09QWUlORyBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbiAoQUdQTCkuIElmIHlvdQojIGRpZCBub3QgcmVjZWl2ZSB0aGlzIGZpbGUsIHNlZSBodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvYWdwbC50eHQuCiMgLS0KCnBhY2thZ2UgS2VybmVsOjpNb2R1bGVzOjpBZ2VudFRpY2tldFphc29ieTsKCnVzZSBzdHJpY3Q7CnVzZSB3YXJuaW5nczsKCnVzZSBiYXNlIHF3KCBLZXJuZWw6Ok1vZHVsZXM6OkFnZW50VGlja2V0QWN0aW9uQ29tbW9uICk7CgoxOwo=</File>
        <File Location="Kernel/Modules/KolejkiZasoby.pm" Permission="644" Encode="Base64">IyAtLQ0KIyBLZXJuZWwvTW9kdWxlcy9Lb2xlamtpWmFzb2J5LnBtIC0gdG8gYWRkL3VwZGF0ZS9kZWxldGUgcXVldWVzDQojIENvcHlyaWdodCAoQykgMjAwMS0yMDExIE9UUlMgQUcsIGh0dHA6Ly9vdHJzLm9yZy8NCiMgLS0NCiMgJElkOiBLb2xlamtpWmFzb2J5LnBtLHYgMS44MiAyMDExLzA5LzA4IDIwOjUxOjMzIGVuIEV4cCAkDQojIC0tDQojIFRoaXMgc29mdHdhcmUgY29tZXMgd2l0aCBBQlNPTFVURUxZIE5PIFdBUlJBTlRZLiBGb3IgZGV0YWlscywgc2VlDQojIHRoZSBlbmNsb3NlZCBmaWxlIENPUFlJTkcgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24gKEFHUEwpLiBJZiB5b3UNCiMgZGlkIG5vdCByZWNlaXZlIHRoaXMgZmlsZSwgc2VlIGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy9hZ3BsLnR4dC4NCiMgLS0NCg0KcGFja2FnZSBLZXJuZWw6Ok1vZHVsZXM6OktvbGVqa2laYXNvYnk7DQoNCnVzZSBzdHJpY3Q7DQp1c2Ugd2FybmluZ3M7DQoNCnVzZSBLZXJuZWw6OlN5c3RlbTo6Q3J5cHQ7DQp1c2UgS2VybmVsOjpTeXN0ZW06OlZhbGlkOw0KdXNlIEtlcm5lbDo6U3lzdGVtOjpTYWx1dGF0aW9uOw0KdXNlIEtlcm5lbDo6U3lzdGVtOjpTaWduYXR1cmU7DQp1c2UgS2VybmVsOjpTeXN0ZW06OlN5c3RlbUFkZHJlc3M7DQp1c2UgS2VybmVsOjpTeXN0ZW06OkV2ZW50SGFuZGxlcjsNCg0KIyBkYW1pYW5zICMNCnVzZSBLZXJuZWw6OlN5c3RlbTo6RHluYW1pY0ZpZWxkOw0KdXNlIEtlcm5lbDo6U3lzdGVtOjpEeW5hbWljRmllbGRWYWx1ZTsNCnVzZSBLZXJuZWw6OlN5c3RlbTo6VXNlcjsNCg0KdXNlIFRpbWU6OlBpZWNlOw0KDQp1c2UgRGF0YTo6RHVtcGVyOw0KDQp1c2UgdmFycyBxdyhASVNBKTsNCg0KIyBkYW1pYW5zICMNCnVzZSB2YXJzIHF3KCRWRVJTSU9OKTsNCiRWRVJTSU9OID0gcXcoJFJldmlzaW9uOiAxLjgyICQpIFsxXTsNCg0Kc3ViIG5ldyB7DQogICAgbXkgKCAkVHlwZSwgJVBhcmFtICkgPSBAXzsNCgkjIEBJU0EgPSgpOw0KICAgICMgYWxsb2NhdGUgbmV3IGhhc2ggZm9yIG9iamVjdA0KICAgIG15ICRTZWxmID0geyVQYXJhbX07DQogICAgYmxlc3MoICRTZWxmLCAkVHlwZSApOw0KDQogICAgIyBjaGVjayBhbGwgbmVlZGVkIG9iamVjdHMNCiAgICBmb3IgbXkgJE5lZWRlZCAoDQogICAgICAgIHF3KFBhcmFtT2JqZWN0IERCT2JqZWN0IFF1ZXVlT2JqZWN0IExheW91dE9iamVjdCBDb25maWdPYmplY3QgTG9nT2JqZWN0IE1haW5PYmplY3QgRW5jb2RlT2JqZWN0KQ0KICAgICAgICApDQogICAgew0KICAgICAgICBpZiAoICEkU2VsZi0+eyROZWVkZWR9ICkgew0KICAgICAgICAgICAgJFNlbGYtPntMYXlvdXRPYmplY3R9LT5GYXRhbEVycm9yKCBNZXNzYWdlID0+ICJHb3Qgbm8gJE5lZWRlZCEiICk7DQogICAgICAgIH0NCiAgICB9DQogICAgJFNlbGYtPntWYWxpZE9iamVjdH0gICAgICAgICA9IEtlcm5lbDo6U3lzdGVtOjpWYWxpZC0+bmV3KCVQYXJhbSk7DQogICAgJFNlbGYtPntTYWx1dGF0aW9uT2JqZWN0fSAgICA9IEtlcm5lbDo6U3lzdGVtOjpTYWx1dGF0aW9uLT5uZXcoJVBhcmFtKTsNCiAgICAkU2VsZi0+e1NpZ25hdHVyZU9iamVjdH0gICAgID0gS2VybmVsOjpTeXN0ZW06OlNpZ25hdHVyZS0+bmV3KCVQYXJhbSk7DQogICAgJFNlbGYtPntTeXN0ZW1BZGRyZXNzT2JqZWN0fSA9IEtlcm5lbDo6U3lzdGVtOjpTeXN0ZW1BZGRyZXNzLT5uZXcoJVBhcmFtKTsNCiAgICAkU2VsZi0+e0dyb3VwT2JqZWN0fSAgICAgICAgID0gS2VybmVsOjpTeXN0ZW06Okdyb3VwLT5uZXcoJVBhcmFtKTsNCg0KCSMgZGFtaWFucyAjDQogICAgJFNlbGYtPntEeW5hbWljRmllbGRWYWx1ZU9iamVjdH0gPSBLZXJuZWw6OlN5c3RlbTo6RHluYW1pY0ZpZWxkVmFsdWUtPm5ldyglUGFyYW0pOw0KICAgICRTZWxmLT57RHluYW1pY0ZpZWxkT2JqZWN0fSA9IEtlcm5lbDo6U3lzdGVtOjpEeW5hbWljRmllbGQtPm5ldyglUGFyYW0pOw0KICAgICRTZWxmLT57VXNlck9iamVjdH0gPSBLZXJuZWw6OlN5c3RlbTo6VXNlci0+bmV3KCVQYXJhbSk7DQoJIyBkYW1pYW5zICMNCgkNCgkjIGluaXQgb2YgZXZlbnQgaGFuZGxlcg0KICAgIHB1c2ggQElTQSwgJ0tlcm5lbDo6U3lzdGVtOjpFdmVudEhhbmRsZXInOw0KICAgICRTZWxmLT5FdmVudEhhbmRsZXJJbml0KA0KICAgICAgICBDb25maWcgICAgID0+ICdUaWNrZXQ6OkV2ZW50TW9kdWxlUG9zdCcsDQogICAgICAgIEJhc2VPYmplY3QgPT4gJ1F1ZXVlT2JqZWN0JywNCiAgICAgICAgT2JqZWN0cyAgICA9PiB7DQogICAgICAgICAgICAleyRTZWxmfSwNCiAgICAgICAgfSwNCiAgICApOw0KCQ0KICAgIHJldHVybiAkU2VsZjsNCn0NCg0Kc3ViIFJ1biB7DQogICAgbXkgKCAkU2VsZiwgJVBhcmFtICkgPSBAXzsNCg0KICAgIG15ICRRdWV1ZUlEID0gJFNlbGYtPntQYXJhbU9iamVjdH0tPkdldFBhcmFtKCBQYXJhbSA9PiAnUXVldWVJRCcgKSB8fCAnJzsNCgkNCiAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAjDQogICAgIyBjaGFuZ2UNCiAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAjDQogICAgaWYgKCAkU2VsZi0+e1N1YmFjdGlvbn0gZXEgJ0NoYW5nZScgKSB7DQoJCQkJDQoJCSRTZWxmLT5fRWRpdCgNCgkJCUFjdGlvbiA9PiAnQ2hhbmdlJywNCgkJCVF1ZXVlSUQgPT4gJFF1ZXVlSUQsDQoJCQklUGFyYW0sDQogICAgICAgICk7DQoJCQkNCgkJbXkgJE91dHB1dCA9ICRTZWxmLT57TGF5b3V0T2JqZWN0fS0+SGVhZGVyKCk7DQoJCSRPdXRwdXQgLj0gJFNlbGYtPntMYXlvdXRPYmplY3R9LT5OYXZpZ2F0aW9uQmFyKCk7DQoJCQ0KCQkNCgkJJE91dHB1dCAuPSAkU2VsZi0+e0xheW91dE9iamVjdH0tPk91dHB1dCgNCiAgICAgICAgICAgIFRlbXBsYXRlRmlsZSA9PiAnS29sZWpraVphc29ieScsDQogICAgICAgICAgICBEYXRhICAgICAgICAgPT4gXCVQYXJhbSwNCiAgICAgICAgKTsNCiAgICAgICAgJE91dHB1dCAuPSAkU2VsZi0+e0xheW91dE9iamVjdH0tPkZvb3RlcigpOw0KICAgICAgICByZXR1cm4gJE91dHB1dDsNCiAgICB9IA0KCSMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICMNCiAgICAjIFJ1bk1vZHVsZQ0KICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICMNCgllbHNpZiAoICRTZWxmLT57U3ViYWN0aW9ufSBlcSAnUnVuTW9kdWxlJyApIHsgDQoJCSRTZWxmLT5fRWRpdCgNCgkJCUFjdGlvbiA9PiAnUnVuTW9kdWxlJywNCgkJCVF1ZXVlSUQgPT4gJFF1ZXVlSUQsDQoJCQklUGFyYW0sDQogICAgICAgICk7DQoJCQkNCgkJbXkgJHJlZGlyZWN0X2xpbmsgPSdBY3Rpb249S29sZWpraVphc29ieTtTdWJhY3Rpb249Q2hhbmdlO1F1ZXVlSUQ9Jy4kUXVldWVJRDsNCgkJDQoJCXJldHVybiAkU2VsZi0+e0xheW91dE9iamVjdH0tPlJlZGlyZWN0KCBPUCA9PiAkcmVkaXJlY3RfbGluaywgKTsNCgl9DQoJIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gIw0KICAgICMgVXBkYXRhUmVzb3VyY2VzDQogICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gIw0KCWVsc2lmICggJFNlbGYtPntTdWJhY3Rpb259IGVxICdVcGRhdGFSZXNvdXJjZXMnICkgeyANCgkJJFNlbGYtPl9FZGl0KA0KCQkJQWN0aW9uID0+ICdVcGRhdGFSZXNvdXJjZXMnLA0KCQkJUXVldWVJRCA9PiAkUXVldWVJRCwNCgkJCSVQYXJhbSwNCiAgICAgICAgKTsNCgkJCQ0KCQlteSAkcmVkaXJlY3RfbGluayA9J0FjdGlvbj1Lb2xlamtpWmFzb2J5O1N1YmFjdGlvbj1DaGFuZ2U7UXVldWVJRD0nLiRRdWV1ZUlEOw0KCQkNCgkJcmV0dXJuICRTZWxmLT57TGF5b3V0T2JqZWN0fS0+UmVkaXJlY3QoIE9QID0+ICRyZWRpcmVjdF9saW5rLCApOw0KCX0NCgkjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAjDQogICAgIyBBZGRPa3Jlcw0KICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICMNCgllbHNpZiAoICRTZWxmLT57U3ViYWN0aW9ufSBlcSAnRG9kYWpPa3JlcycgKSB7IA0KCQkkU2VsZi0+X0VkaXQoDQoJCQlBY3Rpb24gPT4gJ0RvZGFqT2tyZXMnLA0KCQkJUXVldWVJRCA9PiAkUXVldWVJRCwNCgkJCSVQYXJhbSwNCiAgICAgICAgKTsNCgkJCQ0KCQlteSAkcmVkaXJlY3RfbGluayA9J0FjdGlvbj1Lb2xlamtpWmFzb2J5O1N1YmFjdGlvbj1DaGFuZ2U7UXVldWVJRD0nLiRRdWV1ZUlEOw0KCQkNCgkJcmV0dXJuICRTZWxmLT57TGF5b3V0T2JqZWN0fS0+UmVkaXJlY3QoIE9QID0+ICRyZWRpcmVjdF9saW5rLCApOw0KCX0NCiAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAjDQogICAgIyBvdmVydmlldw0KICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICMNCiAgICBlbHNlIHsNCiAgICAgICAgJFNlbGYtPl9PdmVydmlldygpOw0KICAgICAgICBteSAkT3V0cHV0ID0gJFNlbGYtPntMYXlvdXRPYmplY3R9LT5IZWFkZXIoKTsNCiAgICAgICAgJE91dHB1dCAuPSAkU2VsZi0+e0xheW91dE9iamVjdH0tPk5hdmlnYXRpb25CYXIoKTsNCiAgICAgICAgJE91dHB1dCAuPSAkU2VsZi0+e0xheW91dE9iamVjdH0tPk91dHB1dCgNCiAgICAgICAgICAgIFRlbXBsYXRlRmlsZSA9PiAnS29sZWpraVphc29ieScsDQogICAgICAgICAgICBEYXRhICAgICAgICAgPT4gXCVQYXJhbSwNCiAgICAgICAgKTsNCiAgICAgICAgJE91dHB1dCAuPSAkU2VsZi0+e0xheW91dE9iamVjdH0tPkZvb3RlcigpOw0KICAgICAgICByZXR1cm4gJE91dHB1dDsNCiAgICB9DQp9DQoNCnN1YiBfRWRpdCB7DQogICAgbXkgKCAkU2VsZiwgJVBhcmFtICkgPSBAXzsNCgkNCgkkU2VsZi0+e0xheW91dE9iamVjdH0tPkJsb2NrKA0KICAgICAgICBOYW1lID0+ICdPdmVydmlldycsDQogICAgICAgIERhdGEgPT4gXCVQYXJhbSwNCiAgICApOw0KICAgICR7U2VsZn0tPntMYXlvdXRPYmplY3R9LT5CbG9jayggTmFtZSA9PiAnQWN0aW9uTGlzdCcgKTsNCiAgICAke1NlbGZ9LT57TGF5b3V0T2JqZWN0fS0+QmxvY2soIE5hbWUgPT4gJ0FjdGlvbkFkZCcgKTsNCgkNCglpZiAoICRQYXJhbXtBY3Rpb259IGVxICdDaGFuZ2UnICkgew0KCQlteSAlRGF0YSA9ICgpOw0KCQklRGF0YSA9ICRTZWxmLT57UXVldWVPYmplY3R9LT5RdWV1ZUdldCggSUQgPT4gJFBhcmFteydRdWV1ZUlEJ30gKTsNCgkJDQoJCW15ICVRdWV1ZSA9ICRTZWxmLT57UXVldWVPYmplY3R9LT5RdWV1ZUdldCgNCgkJCUlEICAgID0+ICRQYXJhbXsnUXVldWVJRCd9LA0KCQkpOw0KCQkNCgkJDQoJCSNjaGVjayBwcnplYmllZzsNCgkJJFNlbGYtPntEQk9iamVjdH0tPlByZXBhcmUoDQoJCQlTUUwgICAgPT4gIlNFTEVDVCBpZCBGUk9NIGl0cm1fa29sZWprYV9jeWtsIFdIRVJFIGtvbGVqa2EgPSAnIi4kUGFyYW17J1F1ZXVlSUQnfS4iJyIsDQoJCSk7DQoJCQ0KCQlteSAkaXNfY3lrbCA9IDA7DQoJCXdoaWxlIChteSBAUm93ID0gJFNlbGYtPntEQk9iamVjdH0tPkZldGNocm93QXJyYXkoKSkgew0KCQkJJGlzX2N5a2wrKzsNCgkJfQ0KCQkNCgkJaWYoJGlzX2N5a2wpew0KCQkJJFNlbGYtPntMYXlvdXRPYmplY3R9LT5CbG9jaygNCgkJCQlOYW1lID0+ICdPdmVydmlld0FkZCcsDQoJCQkJRGF0YSA9PiB7DQoJCQkJCSVQYXJhbSwNCgkJCQkJJURhdGEsDQoJCQkJfSwNCgkJCSk7DQoJCQkNCgkJCW15ICRPa3Jlc3lMaXN0ID0gJFNlbGYtPntEQk9iamVjdH0tPlNlbGVjdEFsbCgNCgkJCQlTUUwgICAgPT4gCSJTRUxFQ1Qgb2suaWQsIG9rLm9kLCBvay5kbywga2MuemFzb2J5LCBrYy56YXNvYnlfbWF4IEZST00gaXRybV9rb2xlamthX2N5a2wga2MNCgkJCQkJCQlJTk5FUiBKT0lOIGl0cm1fb2tyZXMgb2sgT04gb2suaWQgPSBrYy5va3Jlcw0KCQkJCQkJCVdIRVJFIGtjLmtvbGVqa2EgPSIuJFBhcmFteydRdWV1ZUlEJ30uIiIsDQoJCQkpOw0KCQkJDQoJCQlteSAkbnVtZXI9MDsNCgkJCWZvciBteSAkT2tyZXMgKCBAJE9rcmVzeUxpc3QgKSB7DQoJCQkJDQoJCQkJbXkgJU9rcmVzT2IgPSAoDQoJCQkJImlkIiA9PiBAJE9rcmVzWzBdLA0KCQkJCSJvZCIgPT4gQCRPa3Jlc1sxXSwNCgkJCQkiZG8iID0+IEAkT2tyZXNbMl0sDQoJCQkJInphc29ieSIgPT4gQCRPa3Jlc1szXSwNCgkJCQkiemFzb2J5bWF4IiA9PiBAJE9rcmVzWzRdLA0KCQkJCSJudW1lciIgPT4gJG51bWVyLA0KCQkJCSk7DQoJCQkJDQoJCQkJJFNlbGYtPntMYXlvdXRPYmplY3R9LT5CbG9jaygNCgkJCQkJTmFtZSA9PiAnT3ZlcnZpZXdDeWtsZVJlc3VsdFJvdycsDQoJCQkJCURhdGEgPT4gew0KCQkJCQkJJURhdGEsDQoJCQkJCQklT2tyZXNPYiwNCgkJCQkJfSwNCgkJCQkpOw0KCQkJCSRudW1lcisrOw0KCQkJfQ0KCQkJDQoJCQkkU2VsZi0+e0xheW91dE9iamVjdH0tPkJsb2NrKA0KCQkJCU5hbWUgPT4gJ092ZXJ2aWV3bExpY3piYU9rcmVzb3cnLA0KCQkJCURhdGEgPT4gew0KCQkJCQklRGF0YSwNCgkJCQkJTGN6aWJhT2tyZXNvdyA9PiAkbnVtZXIsDQoJCQkJfSwNCgkJCSk7DQoJCQlpZighJFF1ZXVleydDYWxlbmRhcid9KSB7DQoJCQkJJFNlbGYtPntMYXlvdXRPYmplY3R9LT5CbG9jaygNCgkJCQkJTmFtZSA9PiAnT3ZlcnZpZXdLb211bmlrYXQnLA0KCQkJCQlEYXRhID0+IFwlUGFyYW0sDQoJCQkJKTsNCgkJCX0gZWxzZSB7DQoJCQkJJFNlbGYtPntMYXlvdXRPYmplY3R9LT5CbG9jaygNCgkJCQkJTmFtZSA9PiAnT3ZlcnZpZXdCdXR0b25Eb2RhaicsDQoJCQkJCURhdGEgPT4gXCVQYXJhbSwNCgkJCQkpOw0KCQkJfQ0KCQkJDQoJCX0gZWxzZSB7DQoJCQ0KCQkJaWYoISRRdWV1ZXsnQ2FsZW5kYXInfSkgew0KCQkJCSRTZWxmLT57TGF5b3V0T2JqZWN0fS0+QmxvY2soDQoJCQkJCU5hbWUgPT4gJ092ZXJ2aWV3S29tdW5pa2F0JywNCgkJCQkJRGF0YSA9PiBcJVBhcmFtLA0KCQkJCSk7DQoJCQl9IGVsc2Ugew0KCQkJCSRTZWxmLT57TGF5b3V0T2JqZWN0fS0+QmxvY2soDQoJCQkJCU5hbWUgPT4gJ092ZXJ2aWV3VXBkYXRlJywNCgkJCQkJRGF0YSA9PiB7DQoJCQkJCQklUGFyYW0sDQoJCQkJCQklRGF0YSwNCgkJCQkJfSwNCgkJCQkpOw0KCQkJfQ0KCQl9DQoJCQ0KCQkNCgl9IGVsc2lmICggJFBhcmFte0FjdGlvbn0gZXEgJ1J1bk1vZHVsZScgKSB7DQoJDQoJCW15ICRRdWV1ZUlEID0gJFNlbGYtPntQYXJhbU9iamVjdH0tPkdldFBhcmFtKCBQYXJhbSA9PiAnUXVldWVJRCcgKSB8fCAnJzsNCgkJbXkgJGxpY3piYV9va3Jlc293ID0gMDsNCgkJbXkgJGR6aWVuX3BvY3phdGt1ID0gJFNlbGYtPntQYXJhbU9iamVjdH0tPkdldFBhcmFtKCBQYXJhbSA9PiAnRGF0YVN0YXJ0dScgKSB8fCAwOw0KCQlteSAkbmF6d2EgPSAiY3lrbF9xdWV1ZV8iLiRRdWV1ZUlEOw0KCQkkU2VsZi0+e0RCT2JqZWN0fS0+RG8oDQoJCQlTUUwgID0+ICJJTlNFUlQgSU5UTyBpdHJtX2N5a2wgKG5hendhLCBsaWN6YmFfb2tyZXNvdywgZHppZW5fcG9jemF0a3UpIFZBTFVFUyAoPywgPywgPykiLA0KCQkJQmluZCA9PiBbIFwkbmF6d2EsIFwkbGljemJhX29rcmVzb3csIFwkZHppZW5fcG9jemF0a3UgXSwNCgkJKTsNCgkJDQoJCW15ICRpZF9jeWtsdSA9ICRTZWxmLT57REJPYmplY3R9LT5TZWxlY3RBbGwoDQoJCQlTUUwgICAgPT4gIlNFTEVDVCBpZCBGUk9NIGl0cm1fY3lrbCBXSEVSRSBuYXp3YT0gJ2N5a2xfcXVldWVfIi4kUXVldWVJRC4iJyIsDQoJCSk7DQoJCW15ICRpZF9jPScnOw0KCQlmb3IgbXkgJFJvdzIgKCBAJGlkX2N5a2x1ICkgew0KCQkJJGlkX2MgPSBAJFJvdzJbMF07CQkJCQkNCgkJfQ0KCQkNCgkJZm9yIG15ICRDb3VudCAoIDAgLi4gMTEgKSB7DQoJCQlteSAoICRTZWMsICRNaW4sICRIb3VyLCAkREFZLCAkTU9OVEgsICRZRUFSLCAkV2Vla0RheSApID0gJFNlbGYtPntUaW1lT2JqZWN0fS0+U3lzdGVtVGltZTJEYXRlKA0KCQkJCVN5c3RlbVRpbWUgPT4gJFNlbGYtPntUaW1lT2JqZWN0fS0+U3lzdGVtVGltZSgpLA0KCQkJKTsNCgkJCSRNT05USCArPSAkQ291bnQ7CQkJDQoJCQlpZiAoICRNT05USCA+IDEyICkgew0KCQkJCSRNT05USCAtPSAxMjsNCgkJCQkkWUVBUiArPSAxOw0KCQkJfQ0KCQkJDQoJCQlteSAkb2QgPSAkWUVBUi4nLScuJE1PTlRILictJy4kZHppZW5fcG9jemF0a3U7DQoJCQlteSAkZG87DQoJCQkNCgkJCWlmKCAkZHppZW5fcG9jemF0a3UtMSA9PSAwICkgew0KCQkJCW15ICRsYXN0ZGF5ID0gUE9TSVg6Om1rdGltZSgwLDAsMCwwLCRNT05USC0xKzEsJFlFQVItMTkwMCwwLDAsLTEpOw0KCQkJCUBfID0gbG9jYWx0aW1lKCRsYXN0ZGF5KTsNCgkJCQkkZG8gPSAkWUVBUi4nLScuJE1PTlRILictJy4kX1szXTsNCgkJCX0gZWxzZSB7DQoJCQkJbXkgJG1pZXNpYWNfa29uY2EgPSAkTU9OVEgrMTsNCgkJCQlpZiAoICRtaWVzaWFjX2tvbmNhID4gMTIgKSB7DQoJCQkJCSRtaWVzaWFjX2tvbmNhIC09IDEyOw0KCQkJCQkkWUVBUiArPSAxOw0KCQkJCX0NCgkJCQkkZG8gPSAkWUVBUi4nLScuJG1pZXNpYWNfa29uY2EuJy0nLigkZHppZW5fcG9jemF0a3UtMSk7DQoJCQl9DQoJCQkNCgkJCW15ICRrb2xlam5vc2MgPSAxOw0KCQkJJFNlbGYtPntEQk9iamVjdH0tPkRvKA0KCQkJCVNRTCAgPT4gIklOU0VSVCBJTlRPIGl0cm1fb2tyZXMgKGlkX2N5a2x1LCBvZCwgZG8sIGtvbGVqbm9zYykgVkFMVUVTICg/LCA/LCA/LCA/KSIsDQoJCQkJQmluZCA9PiBbIFwkaWRfYywgXCRvZCwgXCRkbywgXCRrb2xlam5vc2MgXSwNCgkJCSk7CQkJCQ0KCQkJDQoJCQlteSAkaWRfb2tyZXN1ID0gJFNlbGYtPntEQk9iamVjdH0tPlNlbGVjdEFsbCgNCgkJCQlTUUwgICAgPT4gIlNFTEVDVCBpZCBGUk9NIGl0cm1fb2tyZXMgV0hFUkUgaWRfY3lrbHUgPSAiLiRpZF9jLiIiLA0KCQkJKTsNCgkJCQ0KCQkJbXkgJGlkX289Jyc7DQoJCQlmb3IgbXkgJFJvdzMgKCBAJGlkX29rcmVzdSApIHsNCgkJCQkkaWRfbyA9IEAkUm93M1swXTsJCQkJCQ0KCQkJfQ0KCQkJDQoJCQlteSAkemFzYnlfbWF4ID0gKCAkU2VsZi0+X09ibGljekN6YXMoDQoJCQkJUXVldWVJRCA9PiAkUGFyYW17J1F1ZXVlSUQnfSwNCgkJCQlPa3Jlc1BvY3phdGVrID0+ICRvZCwNCgkJCQlPa3Jlc0tvbmllYyA9PiAkZG8sDQoJCQkJJVBhcmFtLA0KCQkJKSAvIDM2MDAgKTsNCgkJCQ0KCQkJJFNlbGYtPntEQk9iamVjdH0tPkRvKA0KCQkJCVNRTCAgPT4gIklOU0VSVCBJTlRPIGl0cm1fa29sZWprYV9jeWtsIChjeWtsLCBva3Jlcywga29sZWprYSwgemFzb2J5X21heCkgVkFMVUVTICg/LCA/LCA/LCA/KSIsDQoJCQkJQmluZCA9PiBbIFwkaWRfYywgXCRpZF9vLCBcJFF1ZXVlSUQsIFwkemFzYnlfbWF4IF0sDQoJCQkpOw0KCQl9DQoJfSBlbHNpZiAoICRQYXJhbXtBY3Rpb259IGVxICdVcGRhdGFSZXNvdXJjZXMnICkgew0KCQkNCgkJbXkgJFF1ZXVlSUQgPSAkUGFyYW17J1F1ZXVlSUQnfSB8fCAnJzsNCgkJJFNlbGYtPl9VcGRhdGVSZXNvdXJjZXMoDQoJCQlRdWV1ZUlEID0+ICRRdWV1ZUlEDQoJCSk7DQoJfSAgZWxzaWYgKCAkUGFyYW17QWN0aW9ufSBlcSAnRG9kYWpPa3JlcycgKSB7DQoJCQ0KCQlteSAkT3N0YXRuaU9rcmVzID0gJFNlbGYtPntEQk9iamVjdH0tPlNlbGVjdEFsbCgNCgkJCVNRTCAgICA9PiAJIlNFTEVDVCBvay5vZCwga2MuY3lrbCBGUk9NIGl0cm1fa29sZWprYV9jeWtsIGtjDQoJCQkJCQlJTk5FUiBKT0lOIGl0cm1fb2tyZXMgb2sgT04gb2suaWQgPSBrYy5va3Jlcw0KCQkJCQkJV0hFUkUga2Mua29sZWprYSA9ICIuJFBhcmFteydRdWV1ZUlEJ30uIiBPUkRFUiBCWSBvay5pZCBERVNDIExJTUlUIDAsMTsiLA0KCQkpOw0KCQkNCgkJbXkgJHBvY3phdGVrX29rcmVzdTsNCgkJbXkgJGN5a2xfb2tyZXN1Ow0KCQlmb3IgbXkgJE9rcmVzICggQCRPc3RhdG5pT2tyZXMgKSB7DQoJCQkkcG9jemF0ZWtfb2tyZXN1ID0gQCRPa3Jlc1swXTsNCgkJCSRjeWtsX29rcmVzdSA9IEAkT2tyZXNbMV07DQoJCX0NCgkJDQoJCW15ICRTeXN0ZW1UaW1lID0gJFNlbGYtPntUaW1lT2JqZWN0fS0+VGltZVN0YW1wMlN5c3RlbVRpbWUoDQoJCQlTdHJpbmcgPT4gJHBvY3phdGVrX29rcmVzdS4nIDAwOjAwOjAwJywNCgkJKTsNCgkJDQoJCW15ICgkU2VjLCAkTWluLCAkSG91ciwgJERBWSwgJE1PTlRILCAkWUVBUiwgJFdlZWtEYXkpID0gJFNlbGYtPntUaW1lT2JqZWN0fS0+U3lzdGVtVGltZTJEYXRlKA0KCQkJU3lzdGVtVGltZSA9PiAkU3lzdGVtVGltZSwNCgkJKTsNCgkJJE1PTlRIICs9IDE7CQkJDQoJCWlmICggJE1PTlRIID4gMTIgKSB7DQoJCQkkTU9OVEggLT0gMTI7DQoJCQkkWUVBUiArPSAxOw0KCQl9DQoJCQ0KCQlteSAkb2QgPSAkWUVBUi4nLScuJE1PTlRILictJy4kREFZOw0KCQlteSAkZG87DQoJCQ0KCQlpZigkREFZLTEgPT0gMCkgew0KCQkJbXkgJGxhc3RkYXkgPSBQT1NJWDo6bWt0aW1lKDAsMCwwLDAsJE1PTlRILTErMSwkWUVBUi0xOTAwLDAsMCwtMSk7DQoJCQlAXyA9IGxvY2FsdGltZSgkbGFzdGRheSk7DQoJCQkkZG8gPSAkWUVBUi4nLScuJE1PTlRILictJy4kX1szXTsNCgkJfSBlbHNlIHsNCgkJCW15ICRtaWVzaWFjX2tvbmNhID0gJE1PTlRIKzE7DQoJCQlpZiAoICRtaWVzaWFjX2tvbmNhID4gMTIgKSB7DQoJCQkJJG1pZXNpYWNfa29uY2EgLT0gMTI7DQoJCQkJJFlFQVIgKz0gMTsNCgkJCX0NCgkJCSRkbyA9ICRZRUFSLictJy4kbWllc2lhY19rb25jYS4nLScuKCREQVktMSk7DQoJCX0NCgkJDQoJCW15ICRrb2xlam5vc2MgPSAxOw0KCQkkU2VsZi0+e0RCT2JqZWN0fS0+RG8oDQoJCQlTUUwgID0+ICJJTlNFUlQgSU5UTyBpdHJtX29rcmVzIChpZF9jeWtsdSwgb2QsIGRvLCBrb2xlam5vc2MpIFZBTFVFUyAoPywgPywgPywgPykiLA0KCQkJQmluZCA9PiBbIFwkY3lrbF9va3Jlc3UsIFwkb2QsIFwkZG8sIFwka29sZWpub3NjIF0sDQoJCSk7DQoJCQ0KCQlteSAkaWRfb2tyZXN1ID0gJFNlbGYtPntEQk9iamVjdH0tPlNlbGVjdEFsbCgNCgkJCVNRTCAgICA9PiAiU0VMRUNUIGlkIEZST00gaXRybV9va3JlcyBXSEVSRSBpZF9jeWtsdSA9ICIuJGN5a2xfb2tyZXN1LiIiLA0KCQkpOw0KCQkNCgkJbXkgJGlkX289Jyc7DQoJCWZvciBteSAkUm93MyAoIEAkaWRfb2tyZXN1ICkgew0KCQkJJGlkX28gPSBAJFJvdzNbMF07CQkJCQkNCgkJfQ0KCQkNCgkJbXkgJHphc2J5X21heCA9ICgkU2VsZi0+X09ibGljekN6YXMoDQoJCQlRdWV1ZUlEID0+ICRQYXJhbXsnUXVldWVJRCd9LA0KCQkJT2tyZXNQb2N6YXRlayA9PiAkb2QsDQoJCQlPa3Jlc0tvbmllYyA9PiAkZG8sDQoJCQklUGFyYW0sDQoJCSkgLyAzNjAwKTsNCgkJJFNlbGYtPntEQk9iamVjdH0tPkRvKA0KCQkJU1FMICA9PiAiSU5TRVJUIElOVE8gaXRybV9rb2xlamthX2N5a2wgKGN5a2wsIG9rcmVzLCBrb2xlamthLCB6YXNvYnlfbWF4KSBWQUxVRVMgKD8sID8sID8sID8pIiwNCgkJCUJpbmQgPT4gWyBcJGN5a2xfb2tyZXN1LCBcJGlkX28sIFwkUGFyYW17J1F1ZXVlSUQnfSwgXCR6YXNieV9tYXggXSwNCgkJKTsNCgkJCQ0KCX0NCgkNCglyZXR1cm4gMTsNCn0NCnN1YiBfVXBkYXRlUmVzb3VyY2VzIHsNCglteSAoICRTZWxmLCAlUGFyYW0gKSA9IEBfOw0KCW15ICRpZF9jeWtsdSA9ICRTZWxmLT57REJPYmplY3R9LT5TZWxlY3RBbGwoDQoJCVNRTCAgICA9PiAiU0VMRUNUIGlkIEZST00gaXRybV9jeWtsIFdIRVJFIG5hendhPSAnY3lrbF9xdWV1ZV8iLiRQYXJhbXsnUXVldWVJRCd9LiInIiwNCgkpOw0KCW15ICRpZF9jPScnOw0KCWZvciBteSAkUm93MiAoIEAkaWRfY3lrbHUgKSB7DQoJCSRpZF9jID0gQCRSb3cyWzBdOwkJCQkJCQkJDQoJfQ0KCW15ICRva3Jlc3lfcXVlcnkgPSAkU2VsZi0+e0RCT2JqZWN0fS0+U2VsZWN0QWxsKA0KCQlTUUwgICAgPT4gIlNFTEVDVCBpZCxvZCxkbyBGUk9NIGl0cm1fb2tyZXMgV0hFUkUgaWRfY3lrbHU9ICIuJGlkX2MuIiIsDQoJKTsNCglmb3IgbXkgJG9rcmVzeV9yb3cgKCBAJG9rcmVzeV9xdWVyeSApIHsNCgkJbXkgJGlkX28gPSBAJG9rcmVzeV9yb3dbMF07CQ0KCQlteSAkb2QgPSBAJG9rcmVzeV9yb3dbMV07CQ0KCQlteSAkZG8gPSBAJG9rcmVzeV9yb3dbMl07CQ0KCQ0KCQlteSAkemFzYnlfbWF4ID0gKCAkU2VsZi0+X09ibGljekN6YXMoDQoJCQlRdWV1ZUlEID0+ICRQYXJhbXsnUXVldWVJRCd9LA0KCQkJT2tyZXNQb2N6YXRlayA9PiAkb2QsDQoJCQlPa3Jlc0tvbmllYyA9PiAkZG8sDQoJCQklUGFyYW0sDQoJCSkgLyAzNjAwICk7DQoJCQ0KCQkkU2VsZi0+e0RCT2JqZWN0fS0+RG8oDQoJCQlTUUwgID0+ICJVUERBVEUgaXRybV9rb2xlamthX2N5a2wgc2V0IHphc29ieV9tYXg9PyBXSEVSRSBva3Jlcz0/IiwNCgkJCUJpbmQgPT4gWyBcJHphc2J5X21heCwgXCRpZF9vIF0sDQoJCSk7DQoJfQ0KfQ0Kc3ViIF9PdmVydmlldyB7DQogICAgbXkgKCAkU2VsZiwgJVBhcmFtICkgPSBAXzsNCg0KICAgICRTZWxmLT57TGF5b3V0T2JqZWN0fS0+QmxvY2soDQogICAgICAgIE5hbWUgPT4gJ092ZXJ2aWV3JywNCiAgICAgICAgRGF0YSA9PiBcJVBhcmFtLA0KICAgICk7DQogICAgJHtTZWxmfS0+e0xheW91dE9iamVjdH0tPkJsb2NrKCBOYW1lID0+ICdBY3Rpb25MaXN0JyApOw0KICAgICR7U2VsZn0tPntMYXlvdXRPYmplY3R9LT5CbG9jayggTmFtZSA9PiAnQWN0aW9uQWRkJyApOw0KDQogICAgJFNlbGYtPntMYXlvdXRPYmplY3R9LT5CbG9jaygNCiAgICAgICAgTmFtZSA9PiAnT3ZlcnZpZXdSZXN1bHQnLA0KICAgICAgICBEYXRhID0+IFwlUGFyYW0sDQogICAgKTsNCiAgICBteSAlTGlzdCA9ICRTZWxmLT57UXVldWVPYmplY3R9LT5RdWV1ZUxpc3QoIFZhbGlkID0+IDAgKTsNCg0KICAgIGlmICglTGlzdCkgew0KDQogICAgICAgICMgZ2V0IHZhbGlkIGxpc3QNCiAgICAgICAgbXkgJVZhbGlkTGlzdCA9ICRTZWxmLT57VmFsaWRPYmplY3R9LT5WYWxpZExpc3QoKTsNCiAgICAgICAgZm9yIG15ICRRdWV1ZUlEICggc29ydCB7ICRMaXN0eyRhfSBjbXAgJExpc3R7JGJ9IH0ga2V5cyAlTGlzdCApIHsNCgkJCSMgZGFtaWFucyAjDQogICAgICAgICAgICBteSAlRGF0YSA9ICRTZWxmLT57UXVldWVPYmplY3R9LT5RdWV1ZUdldCggSUQgPT4gJFF1ZXVlSUQsICk7DQogICAgICAgICAgICAkRGF0YXtHcm91cE5hbWV9ID0gJFNlbGYtPntHcm91cE9iamVjdH0tPkdyb3VwTG9va3VwKCBHcm91cElEID0+ICREYXRhe0dyb3VwSUR9ICk7DQogICAgICAgICAgICANCgkJCSRTZWxmLT57TGF5b3V0T2JqZWN0fS0+QmxvY2soDQogICAgICAgICAgICAgICAgTmFtZSA9PiAnT3ZlcnZpZXdSZXN1bHRSb3cnLA0KICAgICAgICAgICAgICAgIERhdGEgPT4gew0KICAgICAgICAgICAgICAgICAgICBWYWxpZCA9PiAkVmFsaWRMaXN0eyAkRGF0YXtWYWxpZElEfSB9LA0KICAgICAgICAgICAgICAgICAgICAlRGF0YSwNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgKTsNCiAgICAgICAgfQ0KICAgIH0NCiAgICBlbHNlIHsNCiAgICAgICAgJFNlbGYtPntMYXlvdXRPYmplY3R9LT5CbG9jaygNCiAgICAgICAgICAgIE5hbWUgPT4gJ05vRGF0YUZvdW5kTXNnJywNCiAgICAgICAgICAgIERhdGEgPT4ge30sDQogICAgICAgICk7DQogICAgfQ0KICAgIHJldHVybiAxOw0KfQ0KDQpzdWIgX09ibGljekN6YXMgew0KCW15ICggJFNlbGYsICVQYXJhbSApID0gQF87DQoJbXkgJHN1bWFyeWN6bnlfY3phcyA9IDA7DQoJDQoJbXkgJVF1ZXVlID0gJFNlbGYtPntRdWV1ZU9iamVjdH0tPlF1ZXVlR2V0KA0KCQlJRCAgICA9PiAkUGFyYW17J1F1ZXVlSUQnfSwNCgkpOw0KCQ0KCW15ICRQb2N6YXRla09rcmVzdSA9ICRTZWxmLT57VGltZU9iamVjdH0tPlRpbWVTdGFtcDJTeXN0ZW1UaW1lKA0KICAgICAgICBTdHJpbmcgPT4gJFBhcmFteydPa3Jlc1BvY3phdGVrJ30uJyAwMDowMDowMCcsDQogICAgKTsNCgkNCglteSAkS29uaWVjT2tyZXN1ID0gJFNlbGYtPntUaW1lT2JqZWN0fS0+VGltZVN0YW1wMlN5c3RlbVRpbWUoDQogICAgICAgIFN0cmluZyA9PiAkUGFyYW17J09rcmVzS29uaWVjJ30uJyAyMzo1OTo1OScsDQogICAgKTsNCgkNCglteSAkV29ya2luZ1RpbWUgPSAkU2VsZi0+e1RpbWVPYmplY3R9LT5Xb3JraW5nVGltZSgNCgkJU3RhcnRUaW1lID0+ICRQb2N6YXRla09rcmVzdSwNCgkJU3RvcFRpbWUgID0+ICRLb25pZWNPa3Jlc3UsDQoJCUNhbGVuZGFyICA9PiAkUXVldWV7J0NhbGVuZGFyJ30sDQoJKTsNCgkNCglteSAkR3JvdXBJRCA9ICRTZWxmLT57UXVldWVPYmplY3R9LT5HZXRRdWV1ZUdyb3VwSUQoIFF1ZXVlSUQgPT4gJFBhcmFteydRdWV1ZUlEJ30gKTsNCgkNCglteSAlVXNlcnMgPSAkU2VsZi0+e0dyb3VwT2JqZWN0fS0+R3JvdXBNZW1iZXJMaXN0KA0KCQlHcm91cElEID0+ICRHcm91cElELA0KCQlUeXBlICAgID0+ICdydycsDQoJCVJlc3VsdCAgPT4gJ0hBU0gnLA0KCSk7DQoJDQoJbXkgQGtleXMgPSBrZXlzICVVc2VyczsNCglmb3JlYWNoIChAa2V5cykgew0KCQlteSAkV29ya2luZ1RpbWVfdG1wID0gJFdvcmtpbmdUaW1lOw0KCQlteSAlVXNlciA9ICRTZWxmLT57VXNlck9iamVjdH0tPkdldFVzZXJEYXRhKA0KCQkJVXNlcklEID0+ICRfLA0KCQkpOw0KCQkNCgkJaWYoICRVc2VyeydPdXRPZk9mZmljZSd9ICkgew0KCQkJbXkgJEN6YXNOaWVvYmVjbm9zY2kgPSAwOw0KCQkJbXkgJHBvY3phdGVrX25pb2JlY25vc2NpID0gJFVzZXJ7J091dE9mT2ZmaWNlU3RhcnRZZWFyJ30uJy0nLiRVc2VyeydPdXRPZk9mZmljZVN0YXJ0TW9udGgnfS4nLScuJFVzZXJ7J091dE9mT2ZmaWNlU3RhcnREYXknfTsNCgkJCW15ICRrb25pZWNfbmllb2JlY25vc2NpID0gJFVzZXJ7J091dE9mT2ZmaWNlRW5kWWVhcid9LictJy4kVXNlcnsnT3V0T2ZPZmZpY2VFbmRNb250aCd9LictJy4kVXNlcnsnT3V0T2ZPZmZpY2VFbmREYXknfTsNCgkJCW15ICRkYXRlZm9ybWF0ID0gIiVZLSVtLSVkIjsNCgkJCSRwb2N6YXRla19uaW9iZWNub3NjaSA9IFRpbWU6OlBpZWNlLT5zdHJwdGltZSggJHBvY3phdGVrX25pb2JlY25vc2NpLCAkZGF0ZWZvcm1hdCApIDsNCgkJCSRrb25pZWNfbmllb2JlY25vc2NpID0gVGltZTo6UGllY2UtPnN0cnB0aW1lKCAka29uaWVjX25pZW9iZWNub3NjaSwgJGRhdGVmb3JtYXQgKTsNCgkJCQ0KCQkJaWYoICggJHBvY3phdGVrX25pb2JlY25vc2NpID4gJFBvY3phdGVrT2tyZXN1ICkgJiYgKCAkcG9jemF0ZWtfbmlvYmVjbm9zY2kgPCAkS29uaWVjT2tyZXN1ICkgKSB7DQoJCQkJaWYgKCAka29uaWVjX25pZW9iZWNub3NjaSA8ICRLb25pZWNPa3Jlc3UgKSB7DQoJCQkJCQ0KCQkJCQkkQ3phc05pZW9iZWNub3NjaSA9ICRTZWxmLT57VGltZU9iamVjdH0tPldvcmtpbmdUaW1lKA0KCQkJCQkJU3RhcnRUaW1lID0+ICRwb2N6YXRla19uaW9iZWNub3NjaSwNCgkJCQkJCVN0b3BUaW1lICA9PiAka29uaWVjX25pZW9iZWNub3NjaSwNCgkJCQkJCUNhbGVuZGFyICA9PiAkUXVldWV7J0NhbGVuZGFyJ30sDQoJCQkJCSk7DQoJCQkJCQ0KCQkJCX0gZWxzZSB7DQoJCQkJCQ0KCQkJCQkkQ3phc05pZW9iZWNub3NjaSA9ICRTZWxmLT57VGltZU9iamVjdH0tPldvcmtpbmdUaW1lKA0KCQkJCQkJU3RhcnRUaW1lID0+ICRwb2N6YXRla19uaW9iZWNub3NjaSwNCgkJCQkJCVN0b3BUaW1lICA9PiAkS29uaWVjT2tyZXN1LA0KCQkJCQkJQ2FsZW5kYXIgID0+ICRRdWV1ZXsnQ2FsZW5kYXInfSwNCgkJCQkJKTsNCgkJCQkJDQoJCQkJfQkJCQkNCgkJCX0gZWxzaWYgKCAoICRrb25pZWNfbmllb2JlY25vc2NpID4gJFBvY3phdGVrT2tyZXN1ICkgJiYgKCAka29uaWVjX25pZW9iZWNub3NjaSA8ICRLb25pZWNPa3Jlc3UgKSApIHsNCgkJCQkNCgkJCQkkQ3phc05pZW9iZWNub3NjaSA9ICRTZWxmLT57VGltZU9iamVjdH0tPldvcmtpbmdUaW1lKA0KCQkJCQkJU3RhcnRUaW1lID0+ICRQb2N6YXRla09rcmVzdSwNCgkJCQkJCVN0b3BUaW1lICA9PiAka29uaWVjX25pZW9iZWNub3NjaSwNCgkJCQkJCUNhbGVuZGFyICA9PiAkUXVldWV7J0NhbGVuZGFyJ30sDQoJCQkJCSk7DQoJCQkJDQoJCQl9DQoJCQkNCgkJCSRXb3JraW5nVGltZV90bXAgLT0gJEN6YXNOaWVvYmVjbm9zY2k7DQoJCX0NCgkJCQ0KCQlteSAkemFzb2J5ID0gJFNlbGYtPntEQk9iamVjdH0tPlNlbGVjdEFsbCgNCgkJCVNRTCAgICA9PiAiU0VMRUNUIHphc29ieSBGUk9NIGl0cm1fdXp5dGtvd25pa19rb2xlamthIFdIRVJFIGtvbGVqa2EgPSAiLiRQYXJhbXsnUXVldWVJRCd9LiIgQU5EIG9zb2JhID0gIi4kXy4iIiwNCgkJKTsNCgkJDQoJCWZvciBteSAkUm93MyAoIEAkemFzb2J5ICkgew0KCQkJbXkgJHByenlwaXNhbmVfemFzb2J5ID0gQCRSb3czWzBdOw0KCQkJDQoJCQlpZiAoIGRlZmluZWQgJHByenlwaXNhbmVfemFzb2J5IGFuZCBsZW5ndGggJHByenlwaXNhbmVfemFzb2J5ICkgew0KCQkJCSRzdW1hcnljem55X2N6YXMgKz0gJFdvcmtpbmdUaW1lX3RtcCAqICgkcHJ6eXBpc2FuZV96YXNvYnkvMTAwKTsNCgkJCX0NCgkJCQ0KCQl9DQoJfQ0KCQ0KCXJldHVybiAkc3VtYXJ5Y3pueV9jemFzOw0KfQ0KDQoxOw0K</File>
        <File Location="Kernel/Modules/ItrmZdarzenia.pm" Permission="644" Encode="Base64">IyAtLQ0KIyBLZXJuZWwvU3lzdGVtL1RpY2tldC9FdmVudC9UZXN0LnBtIC0gdGVzdCBldmVudCBtb2R1bGUNCiMgQ29weXJpZ2h0IChDKSAyMDAxLTIwMTMgT1RSUyBBRywgaHR0cDovL290cnMuY29tLw0KIyAtLQ0KIyBUaGlzIHNvZnR3YXJlIGNvbWVzIHdpdGggQUJTT0xVVEVMWSBOTyBXQVJSQU5UWS4gRm9yIGRldGFpbHMsIHNlZQ0KIyB0aGUgZW5jbG9zZWQgZmlsZSBDT1BZSU5HIGZvciBsaWNlbnNlIGluZm9ybWF0aW9uIChBR1BMKS4gSWYgeW91DQojIGRpZCBub3QgcmVjZWl2ZSB0aGlzIGZpbGUsIHNlZSBodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvYWdwbC50eHQuDQojIC0tDQoNCnBhY2thZ2UgS2VybmVsOjpNb2R1bGVzOjpJdHJtWmRhcnplbmlhOw0KDQp1c2Ugc3RyaWN0Ow0KdXNlIHdhcm5pbmdzOw0KdXNlIEtlcm5lbDo6U3lzdGVtOjpUaW1lOw0KdXNlIFRpbWU6OlBpZWNlOw0KdXNlIERhdGE6OkR1bXBlcjsNCg0Kc3ViIG5ldyB7DQogICAgbXkgKCAkVHlwZSwgJVBhcmFtICkgPSBAXzsNCg0KICAgICMgYWxsb2NhdGUgbmV3IGhhc2ggZm9yIG9iamVjdA0KICAgIG15ICRTZWxmID0ge307DQogICAgYmxlc3MoICRTZWxmLCAkVHlwZSApOw0KDQogICAgIyBnZXQgbmVlZGVkIG9iamVjdHMNCiAgICBmb3IgKHF3KENvbmZpZ09iamVjdCBMb2dPYmplY3QgREJPYmplY3QgUXVldWVPYmplY3QgR3JvdXBPYmplY3QpKSB7DQogICAgICAgICRTZWxmLT57JF99ID0gJFBhcmFteyRffSB8fCBkaWUgIkdvdCBubyAkXyEiOw0KICAgIH0NCgkNCgkkU2VsZi0+e1RpbWVPYmplY3R9CQk9IEtlcm5lbDo6U3lzdGVtOjpUaW1lLT5uZXcoICVQYXJhbSApOw0KCSRTZWxmLT57VXNlck9iamVjdH0JCT0gS2VybmVsOjpTeXN0ZW06OlVzZXItPm5ldyglUGFyYW0sIFRpbWVPYmplY3QgPT4gJFNlbGYtPntUaW1lT2JqZWN0fSwpOw0KICAgIHJldHVybiAkU2VsZjsNCn0NCg0Kc3ViIFJ1biB7DQogICAgbXkgKCAkU2VsZiwgJVBhcmFtICkgPSBAXzsNCg0KICAgIGlmICggJFBhcmFte0V2ZW50fSBlcSAnWm1pYW5hS2FsZW5kYXJ6YURsYUtvbGVqa2knICkgew0KCQlteSAkUXVldWVJRCA9ICRQYXJhbXtEYXRhfXtRdWV1ZUlEfTsNCgkJbXkgJFN0YXJ5S2FsZW5kYXJ6ID0gJFBhcmFte0RhdGF9e09sZENhbGVuZGFySUR9Ow0KCQlteSAkTm93eUthbGVuZGFyeiA9ICRQYXJhbXtEYXRhfXtOZXdDYWxlbmRhcklEfTsNCgkJDQoJCSRTZWxmLT57TG9nT2JqZWN0fS0+TG9nKA0KCQkJUHJpb3JpdHkgPT4gJ05vdGljZScsDQoJCQlNZXNzYWdlICA9PiAnVXJ1Y2hvbWlvbm8gcG9ub3duZSBwcnplbGljemVuaWUgemFzb2JvdyBkbGEga29sZWpraSAnLiRRdWV1ZUlELA0KCQkpOw0KCQkNCgkJbXkgKCAkU2VjLCAkTWluLCAkSG91ciwgJERBWSwgJE1PTlRILCAkWUVBUiwgJFdlZWtEYXkgKSA9ICRTZWxmLT57VGltZU9iamVjdH0tPlN5c3RlbVRpbWUyRGF0ZSgNCgkJCVN5c3RlbVRpbWUgPT4gJFNlbGYtPntUaW1lT2JqZWN0fS0+U3lzdGVtVGltZSgpLA0KCQkpOw0KCQlteSAkY3phc196bWlhbnkgPSAkWUVBUi4nLScuJE1PTlRILictJy4kREFZOw0KCQkNCgkJbXkgJE9iZWNueU9rcmVzID0gJFNlbGYtPntEQk9iamVjdH0tPlNlbGVjdEFsbCgNCgkJCVNRTCAgICA9PiAJIlNFTEVDVCBvLm9kLCBvLmRvIEZST00gaXRybV9rb2xlamthX2N5a2wga2MNCgkJCQkJCUlOTkVSIEpPSU4gaXRybV9va3JlcyBvIE9OIG8uaWQgPSBrYy5va3Jlcw0KCQkJCQkJd2hlcmUga2Mua29sZWprYSA9ICIuJFF1ZXVlSUQuIiBBTkQgby5vZCA8ICciLiRjemFzX3ptaWFueS4iJyBBTkQgby5kbyA+ICciLiRjemFzX3ptaWFueS4iJzsiLA0KCQkpOw0KCQlteSAkcG9jemF0ZWtfb2tyZXN1Ow0KCQlteSAka29uaWVjX29rcmVzdTsNCgkJZm9yIG15ICRPa3JlcyAoIEAkT2JlY255T2tyZXMgKSB7DQoJCQkkcG9jemF0ZWtfb2tyZXN1ID0gQCRPa3Jlc1swXTsNCgkJCSRrb25pZWNfb2tyZXN1ID0gQCRPa3Jlc1sxXTsNCgkJfQ0KCQkNCgkJaWYoICEkTm93eUthbGVuZGFyeiApIHsNCgkJCQ0KCQkJbXkgJG5vd2VfZ29kemlueSA9ICgkU2VsZi0+X09ibGljek5vd3lDemFzKA0KCQkJCU9rcmVzUG9jemF0ZWsgPT4gJHBvY3phdGVrX29rcmVzdS4nIDAwOjAwOjAwJywNCgkJCQlPa3Jlc0tvbmllYyA9PiAkY3phc196bWlhbnkuJyAnLiRIb3VyLic6Jy4kTWluLic6Jy4kU2VjLA0KCQkJCUthbGVuZGFyeiA9PiAkU3RhcnlLYWxlbmRhcnosDQoJCQkJJVBhcmFtLA0KCQkJKSAvIDM2MDApOw0KCQkJDQoJCQkkU2VsZi0+e0RCT2JqZWN0fS0+RG8oDQoJCQkJU1FMICA9PiAnVVBEQVRFIGl0cm1fa29sZWprYV9jeWtsIGtjLCBpdHJtX29rcmVzIG8gU0VUIGtjLnphc29ieV9tYXggPSA/IHdoZXJlIG8uaWQgPSBrYy5va3JlcyBBTkQga2Mua29sZWprYSA9ID8gQU5EIG8ub2QgPCA/IEFORCBvLmRvID4gPycsDQoJCQkJQmluZCA9PiBbIFwkbm93ZV9nb2R6aW55LCBcJFF1ZXVlSUQsIFwkY3phc196bWlhbnksIFwkY3phc196bWlhbnkgXSAsDQoJCQkpOw0KCQkJDQoJCQkkU2VsZi0+e0RCT2JqZWN0fS0+RG8oDQoJCQkJU1FMICA9PiAnVVBEQVRFIGl0cm1fa29sZWprYV9jeWtsIGtjLCBpdHJtX29rcmVzIG8gU0VUIGtjLnphc29ieV9tYXggPSAwIHdoZXJlIG8uaWQgPSBrYy5va3JlcyBBTkQga2Mua29sZWprYSA9ID8gQU5EIG8ub2QgPiA/JywNCgkJCQlCaW5kID0+IFsgXCRRdWV1ZUlELCBcJGN6YXNfem1pYW55IF0sDQoJCQkpOw0KDQoJCX0gZWxzZSB7DQoJCQlteSAkbm93ZV9nb2R6aW55Ow0KCQkJaWYoICRTdGFyeUthbGVuZGFyeiApIHsNCgkJCQkkbm93ZV9nb2R6aW55ID0gKCRTZWxmLT5fT2JsaWN6Tm93eUN6YXMoDQoJCQkJCU9rcmVzUG9jemF0ZWsgPT4gJHBvY3phdGVrX29rcmVzdS4nIDAwOjAwOjAwJywNCgkJCQkJT2tyZXNLb25pZWMgPT4gJGN6YXNfem1pYW55LicgJy4kSG91ci4nOicuJE1pbi4nOicuJFNlYywNCgkJCQkJS2FsZW5kYXJ6ID0+ICRTdGFyeUthbGVuZGFyeiwNCgkJCQkJJVBhcmFtLA0KCQkJCSkgLyAzNjAwKTsNCgkJCX0gZWxzZSB7DQoJCQkJbXkgJEdvZHppbnlPYmVjbmVnb09rcmVzdSA9ICRTZWxmLT57REJPYmplY3R9LT5TZWxlY3RBbGwoDQoJCQkJCVNRTCAgICA9PiAJIlNFTEVDVCBrYy56YXNvYnlfbWF4IEZST00gaXRybV9rb2xlamthX2N5a2wga2MNCgkJCQkJCQkJSU5ORVIgSk9JTiBpdHJtX29rcmVzIG8gT04gby5pZCA9IGtjLm9rcmVzDQoJCQkJCQkJCXdoZXJlIGtjLmtvbGVqa2EgPSAiLiRRdWV1ZUlELiIgQU5EIG8ub2QgPCAnIi4kY3phc196bWlhbnkuIicgQU5EIG8uZG8gPiAnIi4kY3phc196bWlhbnkuIic7IiwNCgkJCQkpOw0KCQkJCWZvciBteSAkR29kemlueSAoIEAkR29kemlueU9iZWNuZWdvT2tyZXN1ICkgew0KCQkJCQkkbm93ZV9nb2R6aW55ID0gQCRHb2R6aW55WzBdOw0KCQkJCX0NCgkJCQlpZighJG5vd2VfZ29kemlueSkgew0KCQkJCQkkbm93ZV9nb2R6aW55ID0gMDsNCgkJCQl9DQoJCQl9DQoJCQkNCgkJCSRub3dlX2dvZHppbnkgKz0gKCRTZWxmLT5fT2JsaWN6Tm93eUN6YXMoDQoJCQkJT2tyZXNQb2N6YXRlayA9PiAkY3phc196bWlhbnkuJyAnLiRIb3VyLic6Jy4kTWluLic6Jy4kU2VjLA0KCQkJCU9rcmVzS29uaWVjID0+ICRrb25pZWNfb2tyZXN1LicgMDA6MDA6MDAnLA0KCQkJCUthbGVuZGFyeiA9PiAkTm93eUthbGVuZGFyeiwNCgkJCQklUGFyYW0sDQoJCQkpIC8gMzYwMCk7DQoJCQkNCgkJCSRTZWxmLT57REJPYmplY3R9LT5EbygNCgkJCQlTUUwgID0+ICdVUERBVEUgaXRybV9rb2xlamthX2N5a2wga2MsIGl0cm1fb2tyZXMgbyBTRVQga2MuemFzb2J5X21heCA9ID8gd2hlcmUgby5pZCA9IGtjLm9rcmVzIEFORCBrYy5rb2xlamthID0gPyBBTkQgby5vZCA8ID8gQU5EIG8uZG8gPiA/JywNCgkJCQlCaW5kID0+IFsgXCRub3dlX2dvZHppbnksIFwkUXVldWVJRCwgXCRjemFzX3ptaWFueSwgXCRjemFzX3ptaWFueSBdICwNCgkJCSk7DQoJCQkNCgkJCW15ICRQb3pvc3RhbGVPa3Jlc3kgPSAkU2VsZi0+e0RCT2JqZWN0fS0+U2VsZWN0QWxsKA0KCQkJCVNRTCAgICA9PiAJIlNFTEVDVCBvLm9kLCBvLmRvLCBrYy5pZCBGUk9NIGl0cm1fa29sZWprYV9jeWtsIGtjIElOTkVSIEpPSU4gaXRybV9va3JlcyBvIE9OIG8uaWQgPSBrYy5va3JlcyB3aGVyZSBrYy5rb2xlamthID0gIi4kUXVldWVJRC4iIEFORCBvLm9kID4gIi4kY3phc196bWlhbnksDQoJCQkpOw0KCQkJDQoJCQlteSAka2NfaWQ7DQoJCQlmb3IgbXkgJE9rcmVzICggQCRQb3pvc3RhbGVPa3Jlc3kgKSB7DQoJCQkJJHBvY3phdGVrX29rcmVzdSA9IEAkT2tyZXNbMF07DQoJCQkJJGtvbmllY19va3Jlc3UgPSBAJE9rcmVzWzFdOw0KCQkJCSRrY19pZCA9IEAkT2tyZXNbMl07DQoJCQkJDQoJCQkJJG5vd2VfZ29kemlueSA9ICgkU2VsZi0+X09ibGljek5vd3lDemFzKA0KCQkJCQlPa3Jlc1BvY3phdGVrID0+ICRwb2N6YXRla19va3Jlc3UuJyAwMDowMDowMCcsDQoJCQkJCU9rcmVzS29uaWVjID0+ICRrb25pZWNfb2tyZXN1LicgMjM6NTk6NTknLA0KCQkJCQlLYWxlbmRhcnogPT4gJE5vd3lLYWxlbmRhcnosDQoJCQkJCSVQYXJhbSwNCgkJCQkpIC8gMzYwMCk7DQoJCQkJDQoJCQkJJFNlbGYtPntEQk9iamVjdH0tPkRvKA0KCQkJCQlTUUwgID0+ICdVUERBVEUgaXRybV9rb2xlamthX2N5a2wga2MgU0VUIGtjLnphc29ieV9tYXggPSA/IHdoZXJlIGtjLmlkID0gPycsDQoJCQkJCUJpbmQgPT4gWyBcJG5vd2VfZ29kemlueSwgXCRrY19pZCBdICwNCgkJCQkpOwkJCQ0KCQkJCQ0KCQkJfQ0KCQkJDQoJCX0NCiAgICB9DQoJDQogICAgcmV0dXJuIDE7DQp9DQoNCnN1YiBfT2JsaWN6Tm93eUN6YXMgew0KCW15ICggJFNlbGYsICVQYXJhbSApID0gQF87DQoJbXkgJHN1bWFyeWN6bnlfY3phcyA9IDA7DQoJbXkgJEthbGVuZGFyeiA9ICRQYXJhbXsnS2FsZW5kYXJ6J307DQoJDQoJbXkgJFBvY3phdGVrT2tyZXN1ID0gJFNlbGYtPntUaW1lT2JqZWN0fS0+VGltZVN0YW1wMlN5c3RlbVRpbWUoDQogICAgICAgIFN0cmluZyA9PiAkUGFyYW17J09rcmVzUG9jemF0ZWsnfSwNCiAgICApOw0KCQ0KCW15ICRLb25pZWNPa3Jlc3UgPSAkU2VsZi0+e1RpbWVPYmplY3R9LT5UaW1lU3RhbXAyU3lzdGVtVGltZSgNCiAgICAgICAgU3RyaW5nID0+ICRQYXJhbXsnT2tyZXNLb25pZWMnfSwNCiAgICApOw0KCQ0KCW15ICRXb3JraW5nVGltZSA9ICRTZWxmLT57VGltZU9iamVjdH0tPldvcmtpbmdUaW1lKA0KCQlTdGFydFRpbWUgPT4gJFBvY3phdGVrT2tyZXN1LA0KCQlTdG9wVGltZSAgPT4gJEtvbmllY09rcmVzdSwNCgkJQ2FsZW5kYXIgID0+ICRLYWxlbmRhcnosDQoJKTsNCgkNCglteSAkR3JvdXBJRCA9ICRTZWxmLT57UXVldWVPYmplY3R9LT5HZXRRdWV1ZUdyb3VwSUQoIFF1ZXVlSUQgPT4gJFBhcmFteydRdWV1ZUlEJ30gKTsNCgkNCglteSAlVXNlcnMgPSAkU2VsZi0+e0dyb3VwT2JqZWN0fS0+R3JvdXBNZW1iZXJMaXN0KA0KCQlHcm91cElEID0+ICRHcm91cElELA0KCQlUeXBlICAgID0+ICdydycsDQoJCVJlc3VsdCAgPT4gJ0hBU0gnLA0KCSk7DQoJDQoJbXkgQGtleXMgPSBrZXlzICVVc2VyczsNCglmb3JlYWNoIChAa2V5cykgew0KCQlteSAkV29ya2luZ1RpbWVfdG1wID0gJFdvcmtpbmdUaW1lOw0KCQlteSAlVXNlciA9ICRTZWxmLT57VXNlck9iamVjdH0tPkdldFVzZXJEYXRhKA0KCQkJVXNlcklEID0+ICRfLA0KCQkpOw0KCQkNCgkJaWYoICRVc2VyeydPdXRPZk9mZmljZSd9ICkgew0KCQkJbXkgJEN6YXNOaWVvYmVjbm9zY2kgPSAwOw0KCQkJbXkgJHBvY3phdGVrX25pb2JlY25vc2NpID0gJFVzZXJ7J091dE9mT2ZmaWNlU3RhcnRZZWFyJ30uJy0nLiRVc2VyeydPdXRPZk9mZmljZVN0YXJ0TW9udGgnfS4nLScuJFVzZXJ7J091dE9mT2ZmaWNlU3RhcnREYXknfTsNCgkJCW15ICRrb25pZWNfbmllb2JlY25vc2NpID0gJFVzZXJ7J091dE9mT2ZmaWNlRW5kWWVhcid9LictJy4kVXNlcnsnT3V0T2ZPZmZpY2VFbmRNb250aCd9LictJy4kVXNlcnsnT3V0T2ZPZmZpY2VFbmREYXknfTsNCgkJCW15ICRkYXRlZm9ybWF0ID0gIiVZLSVtLSVkIjsNCgkJCSRwb2N6YXRla19uaW9iZWNub3NjaSA9IFRpbWU6OlBpZWNlLT5zdHJwdGltZSggJHBvY3phdGVrX25pb2JlY25vc2NpLCAkZGF0ZWZvcm1hdCApIDsNCgkJCSRrb25pZWNfbmllb2JlY25vc2NpID0gVGltZTo6UGllY2UtPnN0cnB0aW1lKCAka29uaWVjX25pZW9iZWNub3NjaSwgJGRhdGVmb3JtYXQgKTsNCgkJCQ0KCQkJaWYoICggJHBvY3phdGVrX25pb2JlY25vc2NpID4gJFBvY3phdGVrT2tyZXN1ICkgJiYgKCAkcG9jemF0ZWtfbmlvYmVjbm9zY2kgPCAkS29uaWVjT2tyZXN1ICkgKSB7DQoJCQkJaWYgKCAka29uaWVjX25pZW9iZWNub3NjaSA8ICRLb25pZWNPa3Jlc3UgKSB7DQoJCQkJCQ0KCQkJCQkkQ3phc05pZW9iZWNub3NjaSA9ICRTZWxmLT57VGltZU9iamVjdH0tPldvcmtpbmdUaW1lKA0KCQkJCQkJU3RhcnRUaW1lID0+ICRwb2N6YXRla19uaW9iZWNub3NjaSwNCgkJCQkJCVN0b3BUaW1lICA9PiAka29uaWVjX25pZW9iZWNub3NjaSwNCgkJCQkJCUNhbGVuZGFyICA9PiAkS2FsZW5kYXJ6LA0KCQkJCQkpOw0KCQkJCQkNCgkJCQl9IGVsc2Ugew0KCQkJCQkNCgkJCQkJJEN6YXNOaWVvYmVjbm9zY2kgPSAkU2VsZi0+e1RpbWVPYmplY3R9LT5Xb3JraW5nVGltZSgNCgkJCQkJCVN0YXJ0VGltZSA9PiAkcG9jemF0ZWtfbmlvYmVjbm9zY2ksDQoJCQkJCQlTdG9wVGltZSAgPT4gJEtvbmllY09rcmVzdSwNCgkJCQkJCUNhbGVuZGFyICA9PiAkS2FsZW5kYXJ6LA0KCQkJCQkpOw0KCQkJCQkNCgkJCQl9CQkJCQ0KCQkJfSBlbHNpZiAoICggJGtvbmllY19uaWVvYmVjbm9zY2kgPiAkUG9jemF0ZWtPa3Jlc3UgKSAmJiAoICRrb25pZWNfbmllb2JlY25vc2NpIDwgJEtvbmllY09rcmVzdSApICkgew0KCQkJCQ0KCQkJCSRDemFzTmllb2JlY25vc2NpID0gJFNlbGYtPntUaW1lT2JqZWN0fS0+V29ya2luZ1RpbWUoDQoJCQkJCQlTdGFydFRpbWUgPT4gJFBvY3phdGVrT2tyZXN1LA0KCQkJCQkJU3RvcFRpbWUgID0+ICRrb25pZWNfbmllb2JlY25vc2NpLA0KCQkJCQkJQ2FsZW5kYXIgID0+ICRLYWxlbmRhcnosDQoJCQkJCSk7DQoJCQkJDQoJCQl9DQoJCQkNCgkJCSRXb3JraW5nVGltZV90bXAgLT0gJEN6YXNOaWVvYmVjbm9zY2k7DQoJCX0NCgkJCQ0KCQlteSAkemFzb2J5ID0gJFNlbGYtPntEQk9iamVjdH0tPlNlbGVjdEFsbCgNCgkJCVNRTCAgICA9PiAiU0VMRUNUIHphc29ieSBGUk9NIGl0cm1fdXp5dGtvd25pa19rb2xlamthIFdIRVJFIGtvbGVqa2EgPSAiLiRQYXJhbXsnUXVldWVJRCd9LiIgQU5EIG9zb2JhID0gIi4kXy4iIiwNCgkJKTsNCgkJDQoJCWZvciBteSAkUm93MyAoIEAkemFzb2J5ICkgew0KCQkJbXkgJHByenlwaXNhbmVfemFzb2J5ID0gQCRSb3czWzBdOw0KCQkJDQoJCQlpZiAoIGRlZmluZWQgJHByenlwaXNhbmVfemFzb2J5IGFuZCBsZW5ndGggJHByenlwaXNhbmVfemFzb2J5ICkgew0KCQkJCSRzdW1hcnljem55X2N6YXMgKz0gJFdvcmtpbmdUaW1lX3RtcCAqICgkcHJ6eXBpc2FuZV96YXNvYnkvMTAwKTsNCgkJCX0NCgkJCQ0KCQl9DQoJfQ0KCQ0KCXJldHVybiAkc3VtYXJ5Y3pueV9jemFzOw0KfQ0KDQoxOw0K</File>
        <File Location="Kernel/Modules/UzytkownicyDoKolejki.pm" Permission="644" Encode="Base64">IyAtLQ0KIyBLZXJuZWwvTW9kdWxlcy9Lb2xlamtpWmFzb2J5LnBtIC0gdG8gYWRkL3VwZGF0ZS9kZWxldGUgcXVldWVzDQojIENvcHlyaWdodCAoQykgMjAwMS0yMDExIE9UUlMgQUcsIGh0dHA6Ly9vdHJzLm9yZy8NCiMgLS0NCiMgJElkOiBLb2xlamtpWmFzb2J5LnBtLHYgMS44MiAyMDExLzA5LzA4IDIwOjUxOjMzIGVuIEV4cCAkDQojIC0tDQojIFRoaXMgc29mdHdhcmUgY29tZXMgd2l0aCBBQlNPTFVURUxZIE5PIFdBUlJBTlRZLiBGb3IgZGV0YWlscywgc2VlDQojIHRoZSBlbmNsb3NlZCBmaWxlIENPUFlJTkcgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24gKEFHUEwpLiBJZiB5b3UNCiMgZGlkIG5vdCByZWNlaXZlIHRoaXMgZmlsZSwgc2VlIGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy9hZ3BsLnR4dC4NCiMgLS0NCg0KcGFja2FnZSBLZXJuZWw6Ok1vZHVsZXM6OlV6eXRrb3duaWN5RG9Lb2xlamtpOw0KDQp1c2Ugc3RyaWN0Ow0KdXNlIHdhcm5pbmdzOw0KDQp1c2UgS2VybmVsOjpTeXN0ZW06OkNyeXB0Ow0KdXNlIEtlcm5lbDo6U3lzdGVtOjpWYWxpZDsNCnVzZSBLZXJuZWw6OlN5c3RlbTo6U2FsdXRhdGlvbjsNCnVzZSBLZXJuZWw6OlN5c3RlbTo6U2lnbmF0dXJlOw0KdXNlIEtlcm5lbDo6U3lzdGVtOjpTeXN0ZW1BZGRyZXNzOw0KDQojIGRhbWlhbnMgIw0KdXNlIEtlcm5lbDo6U3lzdGVtOjpEeW5hbWljRmllbGQ7DQp1c2UgS2VybmVsOjpTeXN0ZW06OkR5bmFtaWNGaWVsZFZhbHVlOw0KdXNlIEtlcm5lbDo6U3lzdGVtOjpVc2VyOw0KdXNlIEtlcm5lbDo6TW9kdWxlczo6S29sZWpraVphc29ieTsNCg0KdXNlIERhdGE6OkR1bXBlcjsNCg0KIyBkYW1pYW5zICMNCnVzZSB2YXJzIHF3KCRWRVJTSU9OKTsNCiRWRVJTSU9OID0gcXcoJFJldmlzaW9uOiAxLjgyICQpIFsxXTsNCg0Kc3ViIG5ldyB7DQogICAgbXkgKCAkVHlwZSwgJVBhcmFtICkgPSBAXzsNCg0KICAgICMgYWxsb2NhdGUgbmV3IGhhc2ggZm9yIG9iamVjdA0KICAgIG15ICRTZWxmID0geyVQYXJhbX07DQogICAgYmxlc3MoICRTZWxmLCAkVHlwZSApOw0KDQogICAgIyBjaGVjayBhbGwgbmVlZGVkIG9iamVjdHMNCiAgICBmb3IgbXkgJE5lZWRlZCAoDQogICAgICAgIHF3KFBhcmFtT2JqZWN0IERCT2JqZWN0IFF1ZXVlT2JqZWN0IExheW91dE9iamVjdCBDb25maWdPYmplY3QgTG9nT2JqZWN0IE1haW5PYmplY3QgRW5jb2RlT2JqZWN0KQ0KICAgICAgICApDQogICAgew0KICAgICAgICBpZiAoICEkU2VsZi0+eyROZWVkZWR9ICkgew0KICAgICAgICAgICAgJFNlbGYtPntMYXlvdXRPYmplY3R9LT5GYXRhbEVycm9yKCBNZXNzYWdlID0+ICJHb3Qgbm8gJE5lZWRlZCEiICk7DQogICAgICAgIH0NCiAgICB9DQogICAgJFNlbGYtPntWYWxpZE9iamVjdH0gICAgICAgICA9IEtlcm5lbDo6U3lzdGVtOjpWYWxpZC0+bmV3KCVQYXJhbSk7DQogICAgJFNlbGYtPntTYWx1dGF0aW9uT2JqZWN0fSAgICA9IEtlcm5lbDo6U3lzdGVtOjpTYWx1dGF0aW9uLT5uZXcoJVBhcmFtKTsNCiAgICAkU2VsZi0+e1NpZ25hdHVyZU9iamVjdH0gICAgID0gS2VybmVsOjpTeXN0ZW06OlNpZ25hdHVyZS0+bmV3KCVQYXJhbSk7DQogICAgJFNlbGYtPntTeXN0ZW1BZGRyZXNzT2JqZWN0fSA9IEtlcm5lbDo6U3lzdGVtOjpTeXN0ZW1BZGRyZXNzLT5uZXcoJVBhcmFtKTsNCiAgICAkU2VsZi0+e0dyb3VwT2JqZWN0fSAgICAgICAgID0gS2VybmVsOjpTeXN0ZW06Okdyb3VwLT5uZXcoJVBhcmFtKTsNCg0KCSMgZGFtaWFucyAjDQogICAgJFNlbGYtPntEeW5hbWljRmllbGRWYWx1ZU9iamVjdH0gPSBLZXJuZWw6OlN5c3RlbTo6RHluYW1pY0ZpZWxkVmFsdWUtPm5ldyglUGFyYW0pOw0KICAgICRTZWxmLT57RHluYW1pY0ZpZWxkT2JqZWN0fSA9IEtlcm5lbDo6U3lzdGVtOjpEeW5hbWljRmllbGQtPm5ldyglUGFyYW0pOw0KICAgICRTZWxmLT57VXNlck9iamVjdH0gPSBLZXJuZWw6OlN5c3RlbTo6VXNlci0+bmV3KCVQYXJhbSk7DQogICAgJFNlbGYtPntLb2xlamtpWmFzb2J5fSA9IEtlcm5lbDo6TW9kdWxlczo6S29sZWpraVphc29ieS0+bmV3KCVQYXJhbSk7DQoJIyBkYW1pYW5zICMNCgkNCiAgICByZXR1cm4gJFNlbGY7DQp9DQoNCnN1YiBSdW4gew0KICAgIG15ICggJFNlbGYsICVQYXJhbSApID0gQF87DQoNCiAgICBteSAkVXNlcklEID0gJFNlbGYtPntQYXJhbU9iamVjdH0tPkdldFBhcmFtKCBQYXJhbSA9PiAnVXNlcklEJyApIHx8ICcnOw0KDQoNCiAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAjDQogICAgIyBjaGFuZ2UNCiAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAjDQogICAgaWYgKCAkU2VsZi0+e1N1YmFjdGlvbn0gZXEgJ0NoYW5nZScgKSB7DQoJCSRTZWxmLT5fRWRpdCgNCgkJCUFjdGlvbiA9PiAnQ2hhbmdlJywNCgkJCVVzZXJJRCA9PiAkVXNlcklELA0KCQkJJVBhcmFtLA0KCQkpOw0KCQkNCgkJbXkgJE91dHB1dCA9ICRTZWxmLT57TGF5b3V0T2JqZWN0fS0+SGVhZGVyKCk7DQogICAgICAgICRPdXRwdXQgLj0gJFNlbGYtPntMYXlvdXRPYmplY3R9LT5OYXZpZ2F0aW9uQmFyKCk7DQogICAgICAgICRPdXRwdXQgLj0gJFNlbGYtPntMYXlvdXRPYmplY3R9LT5PdXRwdXQoDQogICAgICAgICAgICBUZW1wbGF0ZUZpbGUgPT4gJ1V6eXRrb3duaWN5S29sZWpraScsDQogICAgICAgICAgICBEYXRhICAgICAgICAgPT4gXCVQYXJhbSwNCiAgICAgICAgKTsNCiAgICAgICAgJE91dHB1dCAuPSAkU2VsZi0+e0xheW91dE9iamVjdH0tPkZvb3RlcigpOw0KCQkJCQ0KICAgICAgICByZXR1cm4gJE91dHB1dDsNCgkJDQogICAgfSANCgkjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAjDQogICAgIyBBZGRPa3Jlcw0KICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICMNCgllbHNpZiAoICRTZWxmLT57U3ViYWN0aW9ufSBlcSAnU2F2ZScgKSB7IA0KCQkkU2VsZi0+X0VkaXQoDQoJCQlBY3Rpb24gPT4gJ1NhdmUnLA0KCQkJVXNlcklEID0+ICRVc2VySUQsDQoJCQklUGFyYW0sDQoJCSk7DQoJCQ0KCQlteSAkcmVkaXJlY3RfbGluayA9J0FjdGlvbj1Venl0a293bmljeURvS29sZWpraTtTdWJhY3Rpb249Q2hhbmdlO1VzZXJJRD0nLiRVc2VySUQ7DQoJCQ0KCQlyZXR1cm4gJFNlbGYtPntMYXlvdXRPYmplY3R9LT5SZWRpcmVjdCggT1AgPT4gJHJlZGlyZWN0X2xpbmssICk7DQoJfQ0KICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICMNCiAgICAjIG92ZXJ2aWV3DQogICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gIw0KICAgIGVsc2Ugew0KICAgICAgICAkU2VsZi0+X092ZXJ2aWV3KCk7DQoJCQ0KICAgICAgICBteSAkT3V0cHV0ID0gJFNlbGYtPntMYXlvdXRPYmplY3R9LT5IZWFkZXIoKTsNCiAgICAgICAgJE91dHB1dCAuPSAkU2VsZi0+e0xheW91dE9iamVjdH0tPk5hdmlnYXRpb25CYXIoKTsNCiAgICAgICAgJE91dHB1dCAuPSAkU2VsZi0+e0xheW91dE9iamVjdH0tPk91dHB1dCgNCiAgICAgICAgICAgIFRlbXBsYXRlRmlsZSA9PiAnVXp5dGtvd25pY3lLb2xlamtpJywNCiAgICAgICAgICAgIERhdGEgICAgICAgICA9PiBcJVBhcmFtLA0KICAgICAgICApOw0KICAgICAgICAkT3V0cHV0IC49ICRTZWxmLT57TGF5b3V0T2JqZWN0fS0+Rm9vdGVyKCk7DQoJCQ0KICAgICAgICByZXR1cm4gJE91dHB1dDsNCiAgICB9DQp9DQoNCnN1YiBfRWRpdCB7DQoJbXkgKCAkU2VsZiwgJVBhcmFtICkgPSBAXzsNCgkNCgkkU2VsZi0+e0xheW91dE9iamVjdH0tPkJsb2NrKA0KICAgICAgICBOYW1lID0+ICdPdmVydmlldycsDQogICAgICAgIERhdGEgPT4gXCVQYXJhbSwNCiAgICApOw0KCQ0KICAgICR7U2VsZn0tPntMYXlvdXRPYmplY3R9LT5CbG9jayggTmFtZSA9PiAnQWN0aW9uTGlzdCcgKTsNCiAgICAke1NlbGZ9LT57TGF5b3V0T2JqZWN0fS0+QmxvY2soIE5hbWUgPT4gJ0FjdGlvbkFkZCcgKTsNCgkNCglteSAlVXNlckRhdGEgPSAkU2VsZi0+e1VzZXJPYmplY3R9LT5HZXRVc2VyRGF0YSgNCiAgICAgICAgVXNlcklEID0+ICRQYXJhbXtVc2VySUR9LA0KICAgICk7DQoJDQoJJFNlbGYtPntMYXlvdXRPYmplY3R9LT5CbG9jaygNCiAgICAgICAgTmFtZSA9PiAnVXNlck92ZXJ2aWV3UmVzdWx0JywNCiAgICAgICAgRGF0YSA9PiB7DQoJCQklUGFyYW0sDQoJCQklVXNlckRhdGEsDQogICAgICAgIH0sDQogICAgKTsJDQoJDQoJaWYgKCAkUGFyYW17QWN0aW9ufSBlcSAnQ2hhbmdlJyApIHsNCgkJbXkgJUxpc3QgPSAkU2VsZi0+e1F1ZXVlT2JqZWN0fS0+R2V0QWxsUXVldWVzKCBVc2VySUQgPT4gJFBhcmFte1VzZXJJRH0sIFR5cGUgPT4gJ3J3JyApOw0KCQlpZiAoJUxpc3QpIHsNCgkJCW15ICR6YXNvYnkgPSAkU2VsZi0+e0RCT2JqZWN0fS0+U2VsZWN0QWxsKA0KCQkJCQlTUUwgICAgPT4gIlNFTEVDVCB6YXNvYnkgRlJPTSBpdHJtX3V6eXRrb3duaWtfa29sZWprYSBXSEVSRSBvc29iYSA9ICIuJFBhcmFte1VzZXJJRH0uIiIsDQoJCQkJKTsNCgkJCW15ICRzdW1hX3phc29ib3cgPSAwOw0KCQkJZm9yIG15ICRSb3czICggQCR6YXNvYnkgKSB7DQoJCQkJJHN1bWFfemFzb2JvdyArPSBAJFJvdzNbMF07CQkJCQkNCgkJCX0NCgkJCSRTZWxmLT57TGF5b3V0T2JqZWN0fS0+QmxvY2soDQoJCQkJTmFtZSA9PiAnVXNlck92ZXJ2aWV3Rm9ybScsDQoJCQkJRGF0YSA9PiB7DQoJCQkJCSVQYXJhbSwNCgkJCQkJU3VtYVphc29ib3cgPT4gJHN1bWFfemFzb2JvdywNCgkJCQl9DQoJCQkpOw0KCQkJCQ0KCQkJIyBnZXQgdmFsaWQgbGlzdA0KCQkJbXkgJVZhbGlkTGlzdCA9ICRTZWxmLT57VmFsaWRPYmplY3R9LT5WYWxpZExpc3QoKTsNCgkJCWZvciBteSAkUXVldWVJRCAoIHNvcnQgeyAkTGlzdHskYX0gY21wICRMaXN0eyRifSB9IGtleXMgJUxpc3QgKSB7DQoJCQkJbXkgJURhdGEgPSAkU2VsZi0+e1F1ZXVlT2JqZWN0fS0+UXVldWVHZXQoIElEID0+ICRRdWV1ZUlELCApOw0KCQkJCQ0KCQkJCW15ICR6YXNvYnkgPSAkU2VsZi0+e0RCT2JqZWN0fS0+U2VsZWN0QWxsKA0KCQkJCQlTUUwgICAgPT4gIlNFTEVDVCB6YXNvYnkgRlJPTSBpdHJtX3V6eXRrb3duaWtfa29sZWprYSBXSEVSRSBrb2xlamthID0gIi4kUXVldWVJRC4iIEFORCBvc29iYSA9ICIuJFBhcmFte1VzZXJJRH0uIiIsDQoJCQkJKTsNCgkJCQlteSAkcHJ6eXBpc2FuZV96YXNvYnkgPSAwOw0KCQkJCWZvciBteSAkUm93MyAoIEAkemFzb2J5ICkgew0KCQkJCQkkcHJ6eXBpc2FuZV96YXNvYnkgPSBAJFJvdzNbMF07CQkJCQkNCgkJCQl9DQoJCQkJDQoJCQkJJFNlbGYtPntMYXlvdXRPYmplY3R9LT5CbG9jaygNCgkJCQkJTmFtZSA9PiAnVXNlck92ZXJ2aWV3UmVzdWx0Um93JywNCgkJCQkJRGF0YSA9PiB7DQoJCQkJCQlWYWxpZCA9PiAkVmFsaWRMaXN0eyAkRGF0YXtWYWxpZElEfSB9LA0KCQkJCQkJJURhdGEsDQoJCQkJCQlQcnp5ZHppZWxvbmVaYXNvYnkgPT4gJHByenlwaXNhbmVfemFzb2J5LA0KCQkJCQl9LA0KCQkJCSk7DQoJCQkJDQoJCQl9DQoJCX0NCgkJZWxzZSB7DQoJCQkkU2VsZi0+e0xheW91dE9iamVjdH0tPkJsb2NrKA0KCQkJCU5hbWUgPT4gJ1VzZXJPdmVydmlld05vRGF0YUZvdW5kTXNnJywNCgkJCQlEYXRhID0+IHt9LA0KCQkJKTsNCgkJfQkNCgl9IGVsc2lmICggJFBhcmFte0FjdGlvbn0gZXEgJ1NhdmUnICkgeyANCgkJbXkgJUxpc3QgPSAkU2VsZi0+e1F1ZXVlT2JqZWN0fS0+R2V0QWxsUXVldWVzKCBVc2VySUQgPT4gJFBhcmFte1VzZXJJRH0sIFR5cGUgPT4gJ3J3JyApOw0KCQlteSBAa2V5cyA9IGtleXMgJUxpc3Q7DQoJCWZvcmVhY2ggKEBrZXlzKSB7DQoJCQlteSAkaWRfa29sZWpraSA9ICRfOw0KCQkJbXkgJHByenlwaXNhbmVfemFzb2J5ID0gJFNlbGYtPntQYXJhbU9iamVjdH0tPkdldFBhcmFtKCBQYXJhbSA9PiAncHJvY2VudHlfJy4kaWRfa29sZWpraS4nJyApOw0KDQoJCQkkU2VsZi0+e0RCT2JqZWN0fS0+UHJlcGFyZSgNCgkJCQlTUUwgICAgPT4gIlNFTEVDVCBvc29iYSBGUk9NIGl0cm1fdXp5dGtvd25pa19rb2xlamthIFdIRVJFIGtvbGVqa2EgPSAiLiRpZF9rb2xlamtpLiIgQU5EIG9zb2JhID0iLiRQYXJhbXtVc2VySUR9LA0KCQkJKTsNCgkJCW15ICRpc191c3Rhd2lvbmEgPSAwOw0KCQkJd2hpbGUgKG15IEBSb3cgPSAkU2VsZi0+e0RCT2JqZWN0fS0+RmV0Y2hyb3dBcnJheSgpKSB7DQoJCQkJJGlzX3VzdGF3aW9uYSsrOw0KCQkJfQ0KCQkJDQoJCQlpZigkaXNfdXN0YXdpb25hKXsNCgkJCQkkU2VsZi0+e0RCT2JqZWN0fS0+RG8oDQoJCQkJCVNRTCAgPT4gIlVQREFURSBpdHJtX3V6eXRrb3duaWtfa29sZWprYSBTRVQgemFzb2J5ID0gPyBXSEVSRSBrb2xlamthID0gPyBBTkQgb3NvYmEgPSA/IiwNCgkJCQkJQmluZCA9PiBbIFwkcHJ6eXBpc2FuZV96YXNvYnksXCRpZF9rb2xlamtpLFwkUGFyYW17VXNlcklEfSBdLA0KCQkJCSk7DQoJCQl9IGVsc2Ugew0KCQkJCSRTZWxmLT57REJPYmplY3R9LT5EbygNCgkJCQkJU1FMICA9PiAiSU5TRVJUIElOVE8gaXRybV91enl0a293bmlrX2tvbGVqa2EgKG9zb2JhLCBrb2xlamthLCB6YXNvYnkpIFZBTFVFUyAoPywgPywgPykiLA0KCQkJCQlCaW5kID0+IFsgXCRQYXJhbXtVc2VySUR9LCBcJGlkX2tvbGVqa2ksIFwkcHJ6eXBpc2FuZV96YXNvYnkgXSwNCgkJCQkpOw0KCQkJfQ0KCQkJJFNlbGYtPntLb2xlamtpWmFzb2J5fS0+X1VwZGF0ZVJlc291cmNlcygNCgkJCQlRdWV1ZUlEID0+ICRpZF9rb2xlamtpDQoJCQkpOw0KCQkJDQoJCX0NCgkJJFNlbGYtPntMYXlvdXRPYmplY3R9LT5Ob3RpZnkoIEluZm8gPT4gJ1phc29ieSB6b3N0YbN5IHByemVsaWN6b25lIGRsYSB3c3p5c3RraWNoIGtvbGVqZWssIGRvIGt083J5Y2ggdGVuIGFnZW50IHBvc2lhZGEgZG9zdOpwJyApOw0KCX0NCn0NCg0Kc3ViIF9PdmVydmlldyB7DQogICAgbXkgKCAkU2VsZiwgJVBhcmFtICkgPSBAXzsNCg0KICAgICRTZWxmLT57TGF5b3V0T2JqZWN0fS0+QmxvY2soDQogICAgICAgIE5hbWUgPT4gJ092ZXJ2aWV3JywNCiAgICAgICAgRGF0YSA9PiBcJVBhcmFtLA0KICAgICk7DQogICAgJHtTZWxmfS0+e0xheW91dE9iamVjdH0tPkJsb2NrKCBOYW1lID0+ICdBY3Rpb25MaXN0JyApOw0KICAgICR7U2VsZn0tPntMYXlvdXRPYmplY3R9LT5CbG9jayggTmFtZSA9PiAnQWN0aW9uQWRkJyApOw0KDQogICAgJFNlbGYtPntMYXlvdXRPYmplY3R9LT5CbG9jaygNCiAgICAgICAgTmFtZSA9PiAnT3ZlcnZpZXdSZXN1bHQnLA0KICAgICAgICBEYXRhID0+IFwlUGFyYW0sDQogICAgKTsNCiAgICBteSAlTGlzdCA9ICRTZWxmLT57VXNlck9iamVjdH0tPlVzZXJTZWFyY2goDQogICAgICAgIFNlYXJjaCA9PiAkUGFyYW17U2VhcmNofSAuICcqJywNCiAgICAgICAgI0xpbWl0ICA9PiA0MDAsDQogICAgICAgIFZhbGlkICA9PiAwLA0KICAgICk7DQoJDQoJDQogICAgaWYgKCVMaXN0KSB7DQogICAgICAgICMgZ2V0IHZhbGlkIGxpc3QNCgkJbXkgJVZhbGlkTGlzdCA9ICRTZWxmLT57VmFsaWRPYmplY3R9LT5WYWxpZExpc3QoKTsNCgkJDQogICAgICAgIGZvciBteSAkTGlzdEtleSAoIHNvcnQgeyAkTGlzdHskYX0gY21wICRMaXN0eyRifSB9IGtleXMgJUxpc3QgKSB7DQoJCQlteSAlVXNlckRhdGEgPSAkU2VsZi0+e1VzZXJPYmplY3R9LT5HZXRVc2VyRGF0YSgNCiAgICAgICAgICAgICAgICBVc2VySUQgICAgICAgID0+ICRMaXN0S2V5LA0KICAgICAgICAgICAgKTsNCgkJCQ0KCQkJJFNlbGYtPntMYXlvdXRPYmplY3R9LT5CbG9jaygNCiAgICAgICAgICAgICAgICBOYW1lID0+ICdPdmVydmlld1Jlc3VsdFJvdycsDQogICAgICAgICAgICAgICAgRGF0YSA9PiB7DQogICAgICAgICAgICAgICAgICAgIFZhbGlkICA9PiAkVmFsaWRMaXN0eyAkVXNlckRhdGF7VmFsaWRJRH0gfSwNCiAgICAgICAgICAgICAgICAgICAgU2VhcmNoID0+ICRQYXJhbXtTZWFyY2h9LA0KICAgICAgICAgICAgICAgICAgICAlVXNlckRhdGEsDQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICk7DQogICAgICAgIH0NCiAgICB9DQogICAgZWxzZSB7DQogICAgICAgICRTZWxmLT57TGF5b3V0T2JqZWN0fS0+QmxvY2soDQogICAgICAgICAgICBOYW1lID0+ICdOb0RhdGFGb3VuZE1zZycsDQogICAgICAgICAgICBEYXRhID0+IHt9LA0KICAgICAgICApOw0KICAgIH0NCiAgICByZXR1cm4gMTsNCn0NCg0KMTsNCg==</File>
        <File Location="Kernel/Modules/KolejkowanieTicketow.pm" Permission="644" Encode="Base64">IyAtLQ0KIyBLZXJuZWwvTW9kdWxlcy9Lb2xlamtpWmFzb2J5LnBtIC0gdG8gYWRkL3VwZGF0ZS9kZWxldGUgcXVldWVzDQojIENvcHlyaWdodCAoQykgMjAwMS0yMDExIE9UUlMgQUcsIGh0dHA6Ly9vdHJzLm9yZy8NCiMgLS0NCiMgJElkOiBLb2xlamtpWmFzb2J5LnBtLHYgMS44MiAyMDExLzA5LzA4IDIwOjUxOjMzIGVuIEV4cCAkDQojIC0tDQojIFRoaXMgc29mdHdhcmUgY29tZXMgd2l0aCBBQlNPTFVURUxZIE5PIFdBUlJBTlRZLiBGb3IgZGV0YWlscywgc2VlDQojIHRoZSBlbmNsb3NlZCBmaWxlIENPUFlJTkcgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24gKEFHUEwpLiBJZiB5b3UNCiMgZGlkIG5vdCByZWNlaXZlIHRoaXMgZmlsZSwgc2VlIGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy9hZ3BsLnR4dC4NCiMgLS0NCg0KcGFja2FnZSBLZXJuZWw6Ok1vZHVsZXM6OktvbGVqa293YW5pZVRpY2tldG93Ow0KDQp1c2Ugc3RyaWN0Ow0KdXNlIHdhcm5pbmdzOw0KDQp1c2UgS2VybmVsOjpTeXN0ZW06OkNyeXB0Ow0KdXNlIEtlcm5lbDo6U3lzdGVtOjpWYWxpZDsNCnVzZSBLZXJuZWw6OlN5c3RlbTo6U2FsdXRhdGlvbjsNCnVzZSBLZXJuZWw6OlN5c3RlbTo6U2lnbmF0dXJlOw0KdXNlIEtlcm5lbDo6U3lzdGVtOjpTeXN0ZW1BZGRyZXNzOw0KDQp1c2UgS2VybmVsOjpTeXN0ZW06OkR5bmFtaWNGaWVsZDsNCnVzZSBLZXJuZWw6OlN5c3RlbTo6RHluYW1pY0ZpZWxkVmFsdWU7DQp1c2UgS2VybmVsOjpTeXN0ZW06OlVzZXI7DQp1c2UgVGltZTo6UGllY2U7DQoNCnVzZSBEYXRhOjpEdW1wZXI7DQoNCg0KIyBkYW1pYW5zICMNCnVzZSB2YXJzIHF3KCRWRVJTSU9OKTsNCiRWRVJTSU9OID0gcXcoJFJldmlzaW9uOiAxLjgyICQpIFsxXTsNCg0Kc3ViIG5ldyB7DQogICAgbXkgKCAkVHlwZSwgJVBhcmFtICkgPSBAXzsNCgkNCiAgICAjIGFsbG9jYXRlIG5ldyBoYXNoIGZvciBvYmplY3QNCiAgICBteSAkU2VsZiA9IHslUGFyYW19Ow0KICAgIGJsZXNzKCAkU2VsZiwgJFR5cGUgKTsNCg0KICAgICMgY2hlY2sgYWxsIG5lZWRlZCBvYmplY3RzDQogICAgZm9yIG15ICROZWVkZWQgKA0KICAgICAgICBxdyhQYXJhbU9iamVjdCBEQk9iamVjdCBRdWV1ZU9iamVjdCBMYXlvdXRPYmplY3QgQ29uZmlnT2JqZWN0IFRpY2tldE9iamVjdCBMb2dPYmplY3QgTWFpbk9iamVjdCBFbmNvZGVPYmplY3QpDQogICAgICAgICkNCiAgICB7DQogICAgICAgIGlmICggISRTZWxmLT57JE5lZWRlZH0gKSB7DQogICAgICAgICAgICAkU2VsZi0+e0xheW91dE9iamVjdH0tPkZhdGFsRXJyb3IoIE1lc3NhZ2UgPT4gIkdvdCBubyAkTmVlZGVkISIgKTsNCiAgICAgICAgfQ0KICAgIH0NCiAgICAkU2VsZi0+e1ZhbGlkT2JqZWN0fSAgICAgICAgID0gS2VybmVsOjpTeXN0ZW06OlZhbGlkLT5uZXcoJVBhcmFtKTsNCiAgICAkU2VsZi0+e1NhbHV0YXRpb25PYmplY3R9ICAgID0gS2VybmVsOjpTeXN0ZW06OlNhbHV0YXRpb24tPm5ldyglUGFyYW0pOw0KICAgICRTZWxmLT57U2lnbmF0dXJlT2JqZWN0fSAgICAgPSBLZXJuZWw6OlN5c3RlbTo6U2lnbmF0dXJlLT5uZXcoJVBhcmFtKTsNCiAgICAkU2VsZi0+e1N5c3RlbUFkZHJlc3NPYmplY3R9ID0gS2VybmVsOjpTeXN0ZW06OlN5c3RlbUFkZHJlc3MtPm5ldyglUGFyYW0pOwkNCgkNCiAgICByZXR1cm4gJFNlbGY7DQp9DQoNCnN1YiBSdW4gew0KICAgIG15ICggJFNlbGYsICVQYXJhbSApID0gQF87DQoNCiAgICBteSAkUXVldWVJRCA9ICRTZWxmLT57UGFyYW1PYmplY3R9LT5HZXRQYXJhbSggUGFyYW0gPT4gJ1F1ZXVlSUQnICkgfHwgJyc7DQoJDQogICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gIw0KICAgICMgY2hhbmdlDQogICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gIw0KICAgIGlmICggJFNlbGYtPntTdWJhY3Rpb259IGVxICdLb2xlamt1aicgKSB7DQoJCSRTZWxmLT5fS29sZWprb3dhbmllKA0KCQkJUXVldWVJRCA9PiAkUXVldWVJRCwNCgkJCSVQYXJhbSwNCiAgICAgICAgKTsNCgkJDQoJCW15ICRyZWRpcmVjdF9saW5rID0nQWN0aW9uPUtvbGVqa293YW5pZVRpY2tldG93JzsNCgkJDQoJCXJldHVybiAkU2VsZi0+e0xheW91dE9iamVjdH0tPlJlZGlyZWN0KCBPUCA9PiAkcmVkaXJlY3RfbGluaywgKTsNCgl9DQoJIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gIw0KICAgICMgd3luaWsga29sZWprb3dhbmlhDQogICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gIw0KCWVsc2lmICggJFNlbGYtPntTdWJhY3Rpb259IGVxICdXeW5paycgKSB7IA0KCQkNCgkJJFNlbGYtPl9FZGl0KA0KCQkJQWN0aW9uID0+ICdDaGFuZ2UnLA0KCQkJUXVldWVJRCA9PiAkUXVldWVJRCwNCgkJCSVQYXJhbSwNCiAgICAgICAgKTsNCgkJDQoJCW15ICRPdXRwdXQgPSAkU2VsZi0+e0xheW91dE9iamVjdH0tPkhlYWRlcigpOw0KICAgICAgICAkT3V0cHV0IC49ICRTZWxmLT57TGF5b3V0T2JqZWN0fS0+TmF2aWdhdGlvbkJhcigpOw0KICAgICAgICAkT3V0cHV0IC49ICRTZWxmLT57TGF5b3V0T2JqZWN0fS0+T3V0cHV0KA0KICAgICAgICAgICAgVGVtcGxhdGVGaWxlID0+ICdLb2xlamtvd2FuaWVUaWNrZXRvdycsDQogICAgICAgICAgICBEYXRhICAgICAgICAgPT4gXCVQYXJhbSwNCiAgICAgICAgKTsNCiAgICAgICAgJE91dHB1dCAuPSAkU2VsZi0+e0xheW91dE9iamVjdH0tPkZvb3RlcigpOw0KCQkgcmV0dXJuICRPdXRwdXQ7DQoJfQ0KCSMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICMNCiAgICAjIHphcGlzIGtvbGVqa293YW5pYQ0KICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICMNCgllbHNpZiAoICRTZWxmLT57U3ViYWN0aW9ufSBlcSAnU2F2ZScgKSB7IA0KCQkNCgkJJFNlbGYtPl9FZGl0KA0KCQkJQWN0aW9uID0+ICdTYXZlJywNCgkJCVF1ZXVlSUQgPT4gJFF1ZXVlSUQsDQoJCQklUGFyYW0sDQogICAgICAgICk7DQoJCQ0KCQlteSAkcmVkaXJlY3RfbGluayA9J0FjdGlvbj1Lb2xlamtvd2FuaWVUaWNrZXRvdztTdWJhY3Rpb249V3luaWs7UXVldWVJRD0nLiRRdWV1ZUlEOw0KCQkNCgkJcmV0dXJuICRTZWxmLT57TGF5b3V0T2JqZWN0fS0+UmVkaXJlY3QoIE9QID0+ICRyZWRpcmVjdF9saW5rLCApOw0KCX0NCiAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAjDQogICAgIyBvdmVydmlldw0KICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICMNCiAgICBlbHNlIHsNCiAgICAgICAgJFNlbGYtPl9PdmVydmlldygpOw0KICAgICAgICBteSAkT3V0cHV0ID0gJFNlbGYtPntMYXlvdXRPYmplY3R9LT5IZWFkZXIoKTsNCiAgICAgICAgJE91dHB1dCAuPSAkU2VsZi0+e0xheW91dE9iamVjdH0tPk5hdmlnYXRpb25CYXIoKTsNCiAgICAgICAgJE91dHB1dCAuPSAkU2VsZi0+e0xheW91dE9iamVjdH0tPk91dHB1dCgNCiAgICAgICAgICAgIFRlbXBsYXRlRmlsZSA9PiAnS29sZWprb3dhbmllVGlja2V0b3cnLA0KICAgICAgICAgICAgRGF0YSAgICAgICAgID0+IFwlUGFyYW0sDQogICAgICAgICk7DQogICAgICAgICRPdXRwdXQgLj0gJFNlbGYtPntMYXlvdXRPYmplY3R9LT5Gb290ZXIoKTsNCiAgICAgICAgcmV0dXJuICRPdXRwdXQ7DQogICAgfQ0KfQ0KDQpzdWIgX0tvbGVqa293YW5pZSB7DQogICAgbXkgKCAkU2VsZiwgJVBhcmFtICkgPSBAXzsNCglteSAkUXVldWVJRCA9ICRQYXJhbXsnUXVldWVJRCd9Ow0KCW15ICggJFNlYywgJE1pbiwgJEhvdXIsICREQVksICRNT05USCwgJFlFQVIsICRXZWVrRGF5ICkgPSAkU2VsZi0+e1RpbWVPYmplY3R9LT5TeXN0ZW1UaW1lMkRhdGUoDQoJCVN5c3RlbVRpbWUgPT4gJFNlbGYtPntUaW1lT2JqZWN0fS0+U3lzdGVtVGltZSgpLA0KCSk7DQoJbXkgJGN6YXNfb2JlY255ID0gJFlFQVIuJy0nLiRNT05USC4nLScuJERBWTsJDQoJDQoJbXkgJEtvbmZpZ3VyYWNqYSA9ICRTZWxmLT57Q29uZmlnT2JqZWN0fS0+R2V0KA0KCQknVGlja2V0OjpGcm9udGVuZDo6QWdlbnRUaWNrZXRLb2xlamtvd2FuaWUnLA0KCSk7DQoJbXkgJFN0YXR1c1JlYWxpem93YW5lZ28gPSAkS29uZmlndXJhY2phLT57J1N0YXRlJ307IA0KCW15IEBTdGF0dXN5V3lzenVraXdhbnljaCA9IHNwbGl0KCcsICcsJEtvbmZpZ3VyYWNqYS0+eydTZWFyY2hUaWNrZXRzU3RhdGVzJ30pOw0KCQ0KCW15ICRPYmVjbnlPa3JlcyA9ICRTZWxmLT57REJPYmplY3R9LT5TZWxlY3RBbGwoDQoJCVNRTCAgICA9PiAJIlNFTEVDVCBvay5pZCBGUk9NIGl0cm1fa29sZWprYV9jeWtsIGtjDQoJCQkJSU5ORVIgSk9JTiBpdHJtX29rcmVzIG9rIE9OIG9rLmlkID0ga2Mub2tyZXMNCgkJCQlXSEVSRSBrYy5rb2xlamthID0gIi4kUXVldWVJRC4iICBBTkQgb2sub2QgPCAnIi4kY3phc19vYmVjbnkuIicgQU5EIG9rLmRvID4gJyIuJGN6YXNfb2JlY255LiInIiwNCgkpOw0KCW15ICRvYmVjbnlfb2tyZXM7DQoJZm9yIG15ICRPa3JlcyAoIEAkT2JlY255T2tyZXMgKSB7DQoJCQkkb2JlY255X29rcmVzID0gQCRPa3Jlc1swXTsNCgl9DQoJDQoJbXkgQFRpY2tldHlSZWFsaXpvd2FuZSA9ICRTZWxmLT57VGlja2V0T2JqZWN0fS0+VGlja2V0U2VhcmNoKA0KCQlSZXN1bHQJCQk9PiAnQVJSQVknLA0KCQlRdWV1ZUlEcwkJPT4gWyAkUXVldWVJRCBdLA0KCQlQZXJtaXNzaW9uCQk9PiAncncnLA0KCQlVc2VySUQJCQk9PiAxLA0KCQlTdGF0ZXMJCQk9PiBbJFN0YXR1c1JlYWxpem93YW5lZ29dLA0KCQlPcmRlckJ5CQkJPT4gWydEb3duJywgJ0Rvd24nXSwNCgkJU29ydEJ5CQkJPT4gWydQcmlvcml0eScsICdBZ2UnXSwNCgkpOw0KCQ0KCW15ICRaYWpldGVHb2R6aW55T2tyZXN1ID0gMDsNCglteSAkUmVhbGl6b3dhbmVUaWtldHkgPScnOw0KCWZvciBteSAkVGlja2V0UmVhbGl6b3dhbnlJRCAoIEBUaWNrZXR5UmVhbGl6b3dhbmUgKSB7DQoJCW15ICRPYmVjbnlPa3Jlc0dvZHppbnkgPSAkU2VsZi0+e0RCT2JqZWN0fS0+U2VsZWN0QWxsKA0KCQkJU1FMICAgID0+IAkiU0VMRUNUIGl0by56YXNvYnlfd19va3Jlc2llIEZST00gaXRybV90aWNrZXRfb2tyZXMgaXRvIFdIRVJFIGl0by5rb2xlamthID0gIi4kUXVldWVJRC4iIEFORCBpdG8ub2tyZXMgPSAiLiRvYmVjbnlfb2tyZXMuIiBBTkQgaXRvLnRpY2tldCA9Ii4kVGlja2V0UmVhbGl6b3dhbnlJRCwNCgkJCSk7DQoJCSRSZWFsaXpvd2FuZVRpa2V0eSAuPSAkVGlja2V0UmVhbGl6b3dhbnlJRC4nLCAnOw0KCQlmb3IgbXkgJE9rcmVzICggQCRPYmVjbnlPa3Jlc0dvZHppbnkgKSB7DQoJCQkJJFphamV0ZUdvZHppbnlPa3Jlc3UgKz0gQCRPa3Jlc1swXTsNCgkJfQ0KCX0NCglzdWJzdHIgKCRSZWFsaXpvd2FuZVRpa2V0eSwgLTIpID0gIiI7DQoJaWYoJFJlYWxpem93YW5lVGlrZXR5KSB7DQoJCSRSZWFsaXpvd2FuZVRpa2V0eSA9IiBBTkQgdGlja2V0IE5PVCBJTigiLiRSZWFsaXpvd2FuZVRpa2V0eS4iKSI7DQoJfQ0KCSRTZWxmLT57REJPYmplY3R9LT5EbygNCgkJU1FMICA9PiAiREVMRVRFIEZST00gaXRybV90aWNrZXRfb2tyZXMgV0hFUkUga29sZWprYSA9ICIuJFF1ZXVlSUQuIiIuJFJlYWxpem93YW5lVGlrZXR5LA0KCSk7DQoJDQoJbXkgQFRpY2tldHMgPSAkU2VsZi0+e1RpY2tldE9iamVjdH0tPlRpY2tldFNlYXJjaCgNCgkJUmVzdWx0CQkJPT4gJ0FSUkFZJywNCgkJUXVldWVJRHMJCT0+IFsgJFF1ZXVlSUQgXSwNCgkJUGVybWlzc2lvbgkJPT4gJ3J3JywNCgkJVXNlcklECQkJPT4gMSwNCgkJU3RhdGVzCQkJPT4gW0BTdGF0dXN5V3lzenVraXdhbnljaF0sDQoJCU9yZGVyQnkJCQk9PiBbJ0Rvd24nLCAnRG93biddLA0KCQlTb3J0QnkJCQk9PiBbJ1ByaW9yaXR5JywgJ0FnZSddLA0KCSk7DQoJDQoJbXkgJE9rcmVzeUxpc3QgPSAkU2VsZi0+e0RCT2JqZWN0fS0+U2VsZWN0QWxsKA0KCQlTUUwgICAgPT4gCSJTRUxFQ1Qgb2suaWQsIG9rLm9kLCBvay5kbywga2MuemFzb2J5X21heCBGUk9NIGl0cm1fa29sZWprYV9jeWtsIGtjDQoJCQkJCUlOTkVSIEpPSU4gaXRybV9va3JlcyBvayBPTiBvay5pZCA9IGtjLm9rcmVzDQoJCQkJCVdIRVJFIGtjLmtvbGVqa2EgPSIuJFF1ZXVlSUQuIiBBTkQgb2suZG8gPiAnIi4kY3phc19vYmVjbnkuIiciLA0KCSk7CQkNCgkNCglAJE9rcmVzeUxpc3RbMF0tPlszXSAtPSAkWmFqZXRlR29kemlueU9rcmVzdTsNCgkNCglteSAkd3NrYXpuaWtfb2tyZXN1ID0gMDsNCglmb3IgbXkgJFRpY2tldElEICggQFRpY2tldHMgKSB7DQoJCW15ICRwb2N6YXRla190aWNrZXRhOw0KCQlteSAka29uaWVjX3RpY2tldGE7DQoJCW15IEBPa3Jlc3kgPSAoKTsNCgkJbXkgJU9rcmVzeVphc29ieTsNCgkJDQoJCW15ICVUaWNrZXQgPSAkU2VsZi0+e1RpY2tldE9iamVjdH0tPlRpY2tldEdldCgNCgkJCVRpY2tldElEICAgICAgPT4gJFRpY2tldElELA0KCQkJRHluYW1pY0ZpZWxkcyA9PiAxLA0KCQkpOw0KCQlteSAkemFzb2J5X3RpY2tldGFfdG1wID0gJFRpY2tldHsnRHluYW1pY0ZpZWxkX1phc29ieSd9Ow0KCQlpZiggJHphc29ieV90aWNrZXRhX3RtcCA+IDAgKSB7DQoJCQkNCgkJCWlmKG5vdCBkZWZpbmVkICRwb2N6YXRla190aWNrZXRhKSB7DQoJCQkJJHBvY3phdGVrX3RpY2tldGEgPSAkd3NrYXpuaWtfb2tyZXN1Ow0KCQkJfQ0KCQkJDQoJCQlmb3IgKCBteSAkaSA9ICR3c2them5pa19va3Jlc3U7ICRpIDwgQCRPa3Jlc3lMaXN0OyAkaSsrICkgew0KCQkJCXB1c2goQE9rcmVzeSwgJHdza2F6bmlrX29rcmVzdSk7DQoJCQkJaWYoICR6YXNvYnlfdGlja2V0YV90bXAgPCBAJE9rcmVzeUxpc3RbJGldLT5bM10pIHsNCgkJCQkJJE9rcmVzeVphc29ieXskd3NrYXpuaWtfb2tyZXN1fSA9ICR6YXNvYnlfdGlja2V0YV90bXA7DQoJCQkJCUAkT2tyZXN5TGlzdFskaV0tPlszXSAtPSAkemFzb2J5X3RpY2tldGFfdG1wOw0KCQkJCQlsYXN0Ow0KCQkJCX0gZWxzaWYoJHphc29ieV90aWNrZXRhX3RtcCA9PSBAJE9rcmVzeUxpc3RbJGldLT5bM10pIHsNCgkJCQkJJE9rcmVzeVphc29ieXskd3NrYXpuaWtfb2tyZXN1fSA9IEAkT2tyZXN5TGlzdFskaV0tPlszXTsNCgkJCQkJQCRPa3Jlc3lMaXN0WyRpXS0+WzNdID0gMDsNCgkJCQkJaWYobm90IGRlZmluZWQgJGtvbmllY190aWNrZXRhKSB7DQoJCQkJCQkka29uaWVjX3RpY2tldGEgPSAkd3NrYXpuaWtfb2tyZXN1Ow0KCQkJCQl9DQoJCQkJCSR3c2them5pa19va3Jlc3UrKzsNCgkJCQkJbGFzdDsNCgkJCQl9IGVsc2lmKEAkT2tyZXN5TGlzdFskaV0tPlszXSA8ICR6YXNvYnlfdGlja2V0YV90bXApIHsNCgkJCQkJJE9rcmVzeVphc29ieXskd3NrYXpuaWtfb2tyZXN1fSA9IEAkT2tyZXN5TGlzdFskaV0tPlszXTsNCgkJCQkJJHphc29ieV90aWNrZXRhX3RtcCAtPSBAJE9rcmVzeUxpc3RbJGldLT5bM107DQoJCQkJCSR3c2them5pa19va3Jlc3UrKzsNCgkJCQl9DQoJCQl9DQoJCQkNCgkJCWlmKG5vdCBkZWZpbmVkICRrb25pZWNfdGlja2V0YSkgew0KCQkJCSRrb25pZWNfdGlja2V0YSA9ICR3c2them5pa19va3Jlc3U7DQoJCQl9DQoJCQkNCgkJCWZvciBteSAkbnVtZXJfb2tyZXN1ICggQE9rcmVzeSApIHsNCgkJCQlteSAkb2tyZXMgPSBAJE9rcmVzeUxpc3RbJG51bWVyX29rcmVzdV0tPlswXTsNCgkJCQlteSAkemFzb2J5X3dfb2tyZXNpZSA9ICRPa3Jlc3laYXNvYnl7JG51bWVyX29rcmVzdX07DQoJCQkJDQoJCQkJbXkgJHBvenljamFfdGlja2V0YTsNCgkJCQlteSAkT2JlY25hcG96eWNqYURsYU9rcmVzdSA9ICRTZWxmLT57REJPYmplY3R9LT5TZWxlY3RBbGwoDQoJCQkJCVNRTCAgICA9PiAJIlNFTEVDVCBNQVgocG96eWNqYSkgRlJPTSBpdHJtX3RpY2tldF9va3JlcyBpdG8gV0hFUkUgaXRvLmtvbGVqa2EgPSAiLiRRdWV1ZUlELiIgIEFORCBpdG8ub2tyZXMgPSIuJG9rcmVzLA0KCQkJCQkpOw0KCQkJCWZvciBteSAkUG96eWNqYSAoIEAkT2JlY25hcG96eWNqYURsYU9rcmVzdSApIHsNCgkJCQkJCSRwb3p5Y2phX3RpY2tldGEgPSBAJFBvenljamFbMF07DQoJCQkJfQ0KCQkJCSRwb3p5Y2phX3RpY2tldGEgKz0gMTsNCgkJCQlteSAkZGx1Z29zYyA9IHNjYWxhciAoQCRPa3Jlc3lMaXN0KTsNCgkJCQlpZiggJGtvbmllY190aWNrZXRhID49ICRkbHVnb3NjICkgew0KCQkJCQkka29uaWVjX3RpY2tldGEgLT0gMTsNCgkJCQl9DQoJCQkJDQoJCQkJJFNlbGYtPntEQk9iamVjdH0tPkRvKA0KCQkJCQlTUUwgID0+ICJJTlNFUlQgSU5UTyBpdHJtX3RpY2tldF9va3JlcyAodGlja2V0LCBrb2xlamthLCBva3Jlc19yb3pwb2N6ZWNpYSwgb2tyZXNfemFrb25jemVuaWEsIG9rcmVzLCBwb3p5Y2phLCB6YXNvYnlfd19va3Jlc2llKSBWQUxVRVMgKD8sID8sID8sID8sID8sID8sID8pIiwNCgkJCQkJQmluZCA9PiBbIFwkVGlja2V0SUQsIFwkUXVldWVJRCwgXEAkT2tyZXN5TGlzdFskcG9jemF0ZWtfdGlja2V0YV0tPlswXSwgXEAkT2tyZXN5TGlzdFska29uaWVjX3RpY2tldGFdLT5bMF0sIFwkb2tyZXMsIFwkcG96eWNqYV90aWNrZXRhLCBcJHphc29ieV93X29rcmVzaWUgXSwNCgkJCQkpOw0KCQkJCQ0KCQkJfQ0KCQkNCgkJfQ0KCX0NCgkNCn0NCg0Kc3ViIF9FZGl0IHsNCiAgICBteSAoICRTZWxmLCAlUGFyYW0gKSA9IEBfOw0KCW15ICRLb25maWd1cmFjamEgPSAkU2VsZi0+e0NvbmZpZ09iamVjdH0tPkdldCgNCgkJJ1RpY2tldDo6RnJvbnRlbmQ6OkFnZW50VGlja2V0S29sZWprb3dhbmllJywNCgkpOw0KCQ0KCW15ICRTdGF0dXNSZWFsaXpvd2FuZWdvID0gJEtvbmZpZ3VyYWNqYS0+eydTdGF0ZSd9OyANCglteSBAU3RhdHVzeVd5c3p1a2l3YW55Y2ggPSBzcGxpdCgnLCAnLCRLb25maWd1cmFjamEtPnsnU2VhcmNoVGlja2V0c1N0YXRlcyd9KTsNCglteSAkUXVldWVJRCA9ICRQYXJhbXsnUXVldWVJRCd9Ow0KCW15ICggJFNlYywgJE1pbiwgJEhvdXIsICREQVksICRNT05USCwgJFlFQVIsICRXZWVrRGF5ICkgPSAkU2VsZi0+e1RpbWVPYmplY3R9LT5TeXN0ZW1UaW1lMkRhdGUoDQoJCVN5c3RlbVRpbWUgPT4gJFNlbGYtPntUaW1lT2JqZWN0fS0+U3lzdGVtVGltZSgpLA0KCSk7DQoJbXkgJGN6YXNfb2JlY255ID0gJFlFQVIuJy0nLiRNT05USC4nLScuJERBWTsNCgkNCglpZiAoICRQYXJhbXtBY3Rpb259IGVxICdDaGFuZ2UnICkgew0KCQkJCQ0KCQlteSAlRGF0YSA9ICgpOw0KCQklRGF0YSA9ICRTZWxmLT57UXVldWVPYmplY3R9LT5RdWV1ZUdldCggSUQgPT4gJFF1ZXVlSUQgKTsJCQ0KCQkkU2VsZi0+e0xheW91dE9iamVjdH0tPkJsb2NrKA0KCQkJTmFtZSA9PiAnRWRpdFJlc3VsdE92ZXJ2aWV3JywNCgkJCURhdGEgPT4gew0KCQkJCSVQYXJhbSwNCgkJCQklRGF0YSwNCgkJCX0sDQoJCSk7DQoJCSRTZWxmLT57TGF5b3V0T2JqZWN0fS0+QmxvY2soDQoJCQlOYW1lID0+ICdPYmVjbmllUmVhbGl6b3dhbmUnLA0KCQkJRGF0YSAgICAgICAgID0+IFwlUGFyYW0sDQoJCSk7DQoJCW15IEBUaWNrZXR5UmVhbGl6b3dhbmUgPSAkU2VsZi0+e1RpY2tldE9iamVjdH0tPlRpY2tldFNlYXJjaCgNCgkJCVJlc3VsdAkJCT0+ICdBUlJBWScsDQoJCQlRdWV1ZUlEcwkJPT4gWyAkUXVldWVJRCBdLA0KCQkJUGVybWlzc2lvbgkJPT4gJ3J3JywNCgkJCVVzZXJJRAkJCT0+IDEsDQoJCQlTdGF0ZXMJCQk9PiBbJFN0YXR1c1JlYWxpem93YW5lZ29dLA0KCQkJT3JkZXJCeQkJCT0+IFsnRG93bicsICdEb3duJ10sDQoJCQlTb3J0QnkJCQk9PiBbJ1ByaW9yaXR5JywgJ0FnZSddLA0KCQkpOw0KCQlteSAkUmVhbGl6b3dhbmVUaWtldHkgPScnOw0KCQlpZihAVGlja2V0eVJlYWxpem93YW5lKSB7DQoJCQlmb3IgbXkgJFRpY2tldFJlYWxpem93YW55SUQgKCBAVGlja2V0eVJlYWxpem93YW5lICkgew0KCQkJCW15ICVUaWNrZXQgPSAkU2VsZi0+e1RpY2tldE9iamVjdH0tPlRpY2tldEdldCgNCgkJCQkJVGlja2V0SUQgICAgICA9PiAkVGlja2V0UmVhbGl6b3dhbnlJRCwNCgkJCQkJRHluYW1pY0ZpZWxkcyA9PiAxLA0KCQkJCSk7DQoJCQkJJFJlYWxpem93YW5lVGlrZXR5IC49ICRUaWNrZXRSZWFsaXpvd2FueUlELicsICc7DQoJCQkJDQoJCQkJbXkgJE9rcmVzWmFrb25jemVuaWFUaWNrZXRhID0gJFNlbGYtPntEQk9iamVjdH0tPlNlbGVjdEFsbCgNCgkJCQkJU1FMICAgID0+IAkiU0VMRUNUIGl0by5va3Jlc196YWtvbmN6ZW5pYSBGUk9NIGl0cm1fdGlja2V0X29rcmVzIGl0byBXSEVSRSBpdG8udGlja2V0ID0gIi4kVGlja2V0UmVhbGl6b3dhbnlJRCwNCgkJCQkpOw0KCQkJCW15ICRva3Jlc196YWtvbmN6ZW5pYTsNCgkJCQlmb3IgbXkgJE9rcmVzeVpha29uY3plbmlhICggQCRPa3Jlc1pha29uY3plbmlhVGlja2V0YSApIHsNCgkJCQkJJG9rcmVzX3pha29uY3plbmlhID0gQCRPa3Jlc3laYWtvbmN6ZW5pYVswXTsNCgkJCQl9DQoJCQkJDQoJCQkJbXkgJE9rcmVzT2JlY255TGlzdCA9ICRTZWxmLT57REJPYmplY3R9LT5TZWxlY3RBbGwoDQoJCQkJCVNRTCAgICA9PiAJIlNFTEVDVCBvay5pZCBGUk9NIGl0cm1fa29sZWprYV9jeWtsIGtjDQoJCQkJCQkJCUlOTkVSIEpPSU4gaXRybV9va3JlcyBvayBPTiBvay5pZCA9IGtjLm9rcmVzDQoJCQkJCQkJCVdIRVJFIGtjLmtvbGVqa2EgPSIuJFF1ZXVlSUQuIiBBTkQgb2sub2QgPCAnIi4kY3phc19vYmVjbnkuIicgQU5EIG9rLmRvID4gJyIuJGN6YXNfb2JlY255LiInIiwNCgkJCQkpOw0KCQkJCW15ICRvYmVjbnlfb2tyZXM7DQoJCQkJZm9yIG15ICRPa3Jlc3lPYmVjbnkgKCBAJE9rcmVzT2JlY255TGlzdCApIHsNCgkJCQkJJG9iZWNueV9va3JlcyA9IEAkT2tyZXN5T2JlY255WzBdOw0KCQkJCX0NCgkJCQkNCgkJCQlpZigkb2JlY255X29rcmVzID4gJG9rcmVzX3pha29uY3plbmlhKSB7DQoJCQkJCSRUaWNrZXR7J0tsYXNhUHJ6ZXRlcm1pbm93YW5pYSd9ID0gJ3ByemV0ZXJtaW5vd2FueSc7DQoJCQkJfSBlbHNlIHsNCgkJCQkJJFRpY2tldHsnS2xhc2FQcnpldGVybWlub3dhbmlhJ30gPSAncG9ybWFsbnknOw0KCQkJCX0NCgkJCQkNCgkJCQkkU2VsZi0+e0xheW91dE9iamVjdH0tPkJsb2NrKA0KCQkJCQlOYW1lID0+ICdPYmVjbmllUmVhbGl6b3dhbmVSZXN1bHRSb3cnLA0KCQkJCQlEYXRhID0+IHsNCgkJCQkJCSVQYXJhbSwNCgkJCQkJCSVUaWNrZXQsDQoJCQkJCX0sDQoJCQkJKTsNCgkJCX0NCgkJfSBlbHNlIHsNCgkJCSRTZWxmLT57TGF5b3V0T2JqZWN0fS0+QmxvY2soDQoJCQkJTmFtZSA9PiAnT2JlY25pZVJlYWxpem93YW5lTm9EYXRhRm91bmRNc2cnLA0KCQkJCURhdGEgPT4ge30sDQoJCQkpOw0KCQl9DQoJCXN1YnN0ciAoJFJlYWxpem93YW5lVGlrZXR5LCAtMikgPSAiIjsNCgkJaWYoJFJlYWxpem93YW5lVGlrZXR5KSB7DQoJCQkkUmVhbGl6b3dhbmVUaWtldHkgPSIgQU5EIHRpY2tldCBOT1QgSU4oIi4kUmVhbGl6b3dhbmVUaWtldHkuIikiOw0KCQl9DQoJCQ0KCQlteSAlVGlja2V0V3lzdGFwaWVuaWEgPSAoKTsNCgkJbXkgJFd5c3RhcGllbmlhVGljZWt0b3dMaXN0ID0gJFNlbGYtPntEQk9iamVjdH0tPlNlbGVjdEFsbCgNCgkJCVNRTCAgICA9PiAJIlNFTEVDVCBpdG8udGlja2V0LCBjb3VudChpdG8udGlja2V0KSBGUk9NIGl0cm1fdGlja2V0X29rcmVzIGl0byBXSEVSRSBpdG8ua29sZWprYSA9ICIuJFF1ZXVlSUQuIiBHUk9VUCBCWSBpdG8udGlja2V0IiwNCgkJKTsNCgkJZm9yIG15ICRPa3Jlc3lXeXN0YXBpZW5pYSAoIEAkV3lzdGFwaWVuaWFUaWNla3Rvd0xpc3QgKSB7DQoJCQkkVGlja2V0V3lzdGFwaWVuaWF7QCRPa3Jlc3lXeXN0YXBpZW5pYVswXX0gPSBAJE9rcmVzeVd5c3RhcGllbmlhWzFdOw0KCQl9DQoJCQ0KCQlteSAkT2tyZXN5TGljemJhWmFqZXR5Y2ggPSAkU2VsZi0+e0RCT2JqZWN0fS0+U2VsZWN0QWxsKA0KCQkJU1FMICAgID0+IAkiU0VMRUNUIGNvdW50KERJU1RJTkNUIGl0by5va3JlcykgRlJPTSBpdHJtX3RpY2tldF9va3JlcyBpdG8gV0hFUkUgaXRvLmtvbGVqa2EgPSAiLiRRdWV1ZUlELA0KCQkpOw0KCQlteSAkbGltaXRfcG9icmFuaWEgPSAwOw0KCQlmb3IgbXkgJE9rcmVzeUxpY3piYSAoIEAkT2tyZXN5TGljemJhWmFqZXR5Y2ggKSB7DQoJCQkkbGltaXRfcG9icmFuaWEgPSBAJE9rcmVzeUxpY3piYVswXTsNCgkJfQ0KCQkkbGltaXRfcG9icmFuaWEgKz0gMjsJCQ0KCQkNCgkJbXkgJE9rcmVzeUxpc3QgPSAkU2VsZi0+e0RCT2JqZWN0fS0+U2VsZWN0QWxsKA0KCQkJU1FMICAgID0+IAkiU0VMRUNUIG9rLmlkLCBvay5vZCwgb2suZG8sIGtjLnphc29ieSwga2MuemFzb2J5X21heCBGUk9NIGl0cm1fa29sZWprYV9jeWtsIGtjDQoJCQkJCQlJTk5FUiBKT0lOIGl0cm1fb2tyZXMgb2sgT04gb2suaWQgPSBrYy5va3Jlcw0KCQkJCQkJV0hFUkUga2Mua29sZWprYSA9Ii4kUXVldWVJRC4iIEFORCBvay5kbyA+ICciLiRjemFzX29iZWNueS4iJyBMSU1JVCAwLCAiLiRsaW1pdF9wb2JyYW5pYSwNCgkJKTsNCgkJbXkgJE9rcmVzeUxpc3RzZWMgPSAkT2tyZXN5TGlzdDsNCgkJDQoJCWZvciBteSAkT2tyZXMgKCBAJE9rcmVzeUxpc3QgKSB7DQoJCQkNCgkJCW15ICVPa3Jlc09iID0gKA0KCQkJImlkIiA9PiBAJE9rcmVzWzBdLA0KCQkJIm9kIiA9PiBAJE9rcmVzWzFdLA0KCQkJImRvIiA9PiBAJE9rcmVzWzJdLA0KCQkJInphc29ieW1heCIgPT4gQCRPa3Jlc1s0XSwNCgkJCSk7DQoJCQkNCgkJCSRTZWxmLT57TGF5b3V0T2JqZWN0fS0+QmxvY2soDQoJCQkJTmFtZSA9PiAnT2tyZXN5JywNCgkJCQlEYXRhID0+IHsNCgkJCQkJJURhdGEsDQoJCQkJCSVPa3Jlc09iLA0KCQkJCX0sDQoJCQkpOw0KCQkJbXkgJFRpY2tldHlPa3Jlc3UgPSAkU2VsZi0+e0RCT2JqZWN0fS0+U2VsZWN0QWxsKA0KCQkJCVNRTCAgICA9PiAJIlNFTEVDVCBpdG8udGlja2V0LCBpdG8ucG96eWNqYSwgaXRvLnphc29ieV93X29rcmVzaWUgRlJPTSBpdHJtX3RpY2tldF9va3JlcyBpdG8gV0hFUkUgaXRvLmtvbGVqa2EgPSAiLiRRdWV1ZUlELiIgQU5EIGl0by5va3JlcyA9ICIuQCRPa3Jlc1swXS4iIi4kUmVhbGl6b3dhbmVUaWtldHkuIiBPUkRFUiBCWSBpdG8ucG96eWNqYSBBU0MiLA0KCQkJKTsNCgkJCQ0KCQkJaWYoQCRUaWNrZXR5T2tyZXN1KSB7DQoJCQkJZm9yIG15ICRUaWNrZXQgKCBAJFRpY2tldHlPa3Jlc3UgKSB7DQoJCQkJCW15ICVUaWNrZXQgPSAkU2VsZi0+e1RpY2tldE9iamVjdH0tPlRpY2tldEdldCgNCgkJCQkJCVRpY2tldElEICAgICAgPT4gQCRUaWNrZXRbMF0sDQoJCQkJCQlEeW5hbWljRmllbGRzID0+IDEsDQoJCQkJCSk7DQoJCQkJCSRUaWNrZXR7J3BvenljamEnfSA9IEAkVGlja2V0WzFdOw0KCQkJCQkkVGlja2V0eyd6YXNvYnl3b2tyZXNpZSd9ID0gQCRUaWNrZXRbMl07DQoJCQkJCQ0KCQkJCQkkU2VsZi0+e0xheW91dE9iamVjdH0tPkJsb2NrKA0KCQkJCQkJTmFtZSA9PiAnT2tyZXN5UmVzdWx0Um93JywNCgkJCQkJCURhdGEgPT4gew0KCQkJCQkJCSVQYXJhbSwNCgkJCQkJCQklVGlja2V0LA0KCQkJCQkJCSVPa3Jlc09iLA0KCQkJCQkJfSwNCgkJCQkJKTsNCgkJCQkJDQoJCQkJCWlmKCRUaWNrZXRXeXN0YXBpZW5pYXtAJFRpY2tldFswXX0gPT0gMSkgew0KCQkJCQkJJFNlbGYtPntMYXlvdXRPYmplY3R9LT5CbG9jaygNCgkJCQkJCQlOYW1lID0+ICdPa3Jlc3lTZWxlY3RhJywNCgkJCQkJCQlEYXRhID0+IHsNCgkJCQkJCQkJJURhdGEsDQoJCQkJCQkJCSVUaWNrZXQsDQoJCQkJCQkJCSVPa3Jlc09iLA0KCQkJCQkJCX0sDQoJCQkJCQkpOw0KCQkJCQkJDQoJCQkJCQlmb3IgbXkgJE9rcmVzU2VsICggQCRPa3Jlc3lMaXN0c2VjICkgew0KCQkJCQkJCW15ICRzZWxlY3RlZE9rcmVzOw0KCQkJCQkJCWlmKCRPa3Jlc1NlbCA9PSAkT2tyZXMpIHsNCgkJCQkJCQkJJHNlbGVjdGVkT2tyZXMgPSAnc2VsZWN0ZWQ9c2VsZWN0ZWQnOw0KCQkJCQkJCX0NCgkJCQkJCQlteSAlT2tyZXNTZWwgPSAoDQoJCQkJCQkJCSJpZCIgPT4gQCRPa3Jlc1NlbFswXSwNCgkJCQkJCQkJIm9kIiA9PiBAJE9rcmVzU2VsWzFdLA0KCQkJCQkJCQkiZG8iID0+IEAkT2tyZXNTZWxbMl0sDQoJCQkJCQkJCSJzZWxlY3RlZCIgID0+ICRzZWxlY3RlZE9rcmVzLA0KCQkJCQkJCSk7DQoJCQkJCQkJDQoJCQkJCQkJJFNlbGYtPntMYXlvdXRPYmplY3R9LT5CbG9jaygNCgkJCQkJCQkJTmFtZSA9PiAnT2tyZXN5U2VsZWN0YVJlc3VsdFJvdycsDQoJCQkJCQkJCURhdGEgPT4gew0KCQkJCQkJCQkJJURhdGEsDQoJCQkJCQkJCQklT2tyZXNTZWwsDQoJCQkJCQkJCX0sDQoJCQkJCQkJKTsNCgkJCQkJCX0NCgkJCQkJCQ0KCQkJCQl9IGVsc2Ugew0KCQkJCQkJJFNlbGYtPntMYXlvdXRPYmplY3R9LT5CbG9jaygNCgkJCQkJCQlOYW1lID0+ICdPa3Jlc3lOb1NlbGVjdGEnLA0KCQkJCQkJCURhdGEgPT4gew0KCQkJCQkJCQklUGFyYW0sDQoJCQkJCQkJCSVPa3Jlc09iLA0KCQkJCQkJCX0sDQoJCQkJCQkpOw0KCQkJCQl9DQoJCQkJCQ0KCQkJCX0NCgkJCX0gZWxzZSB7DQoJCQkJJFNlbGYtPntMYXlvdXRPYmplY3R9LT5CbG9jaygNCgkJCQkJTmFtZSA9PiAnT2tyZXN5Tm9EYXRhRm91bmRNc2cnLA0KCQkJCQlEYXRhID0+IHt9LA0KCQkJCSk7DQoJCQl9DQoJCQkNCgkJfQ0KCQkNCgkJJFNlbGYtPntMYXlvdXRPYmplY3R9LT5CbG9jaygNCgkJCU5hbWUgPT4gJ09jemVrdWphY2UnLA0KCQkJRGF0YSAgICAgICAgID0+IFwlUGFyYW0sDQoJCSk7DQoJCQ0KCQlteSBAdGlja2V0eV9rb2xlamtvd2FuZSA9ICgpOw0KCQlteSAkS29sZWprb3dhbmVUaWNrZXR5ID0gJFNlbGYtPntEQk9iamVjdH0tPlNlbGVjdEFsbCgNCgkJCVNRTCAgICA9PiAJIlNFTEVDVCBESVNUSU5DVCBpdG8udGlja2V0IEZST00gaXRybV90aWNrZXRfb2tyZXMgaXRvIFdIRVJFIGl0by5rb2xlamthID0gIi4kUXVldWVJRCwNCgkJKTsNCgkJaWYoQCRLb2xlamtvd2FuZVRpY2tldHkpIHsNCgkJCWZvciBteSAkVGlja2V0ICggQCRLb2xlamtvd2FuZVRpY2tldHkgKSB7DQoJCQkJcHVzaChAdGlja2V0eV9rb2xlamtvd2FuZSwgQCRUaWNrZXRbMF0pOw0KCQkJfQ0KCQl9DQoJCW15IEBUaWNrZXRzID0gJFNlbGYtPntUaWNrZXRPYmplY3R9LT5UaWNrZXRTZWFyY2goDQoJCQlSZXN1bHQJCQk9PiAnQVJSQVknLA0KCQkJUXVldWVJRHMJCT0+IFsgJFF1ZXVlSUQgXSwNCgkJCVBlcm1pc3Npb24JCT0+ICdydycsDQoJCQlVc2VySUQJCQk9PiAxLA0KCQkJU3RhdGVzCQkJPT4gW0BTdGF0dXN5V3lzenVraXdhbnljaF0sDQoJCQlPcmRlckJ5CQkJPT4gWydEb3duJywgJ0Rvd24nXSwNCgkJCVNvcnRCeQkJCT0+IFsnUHJpb3JpdHknLCAnQWdlJ10sDQoJCSk7DQoJCW15ICR6bmFsZXppb25vID0gMDsNCgkJZm9yIG15ICRUaWNrZXRJRCAoIEBUaWNrZXRzICkgew0KCQkJaWYoIWdyZXAgJF8gZXEgJFRpY2tldElELCBAdGlja2V0eV9rb2xlamtvd2FuZSkgew0KCQkJCSR6bmFsZXppb25vID0gMTsNCgkJCQlteSAlVGlja2V0ID0gJFNlbGYtPntUaWNrZXRPYmplY3R9LT5UaWNrZXRHZXQoDQoJCQkJCVRpY2tldElEICAgICAgPT4gJFRpY2tldElELA0KCQkJCQlEeW5hbWljRmllbGRzID0+IDEsDQoJCQkJKTsNCgkJCQkkU2VsZi0+e0xheW91dE9iamVjdH0tPkJsb2NrKA0KCQkJCQlOYW1lID0+ICdPY3pla3VqYWNlUmVzdWx0Um93JywNCgkJCQkJRGF0YSA9PiB7DQoJCQkJCQklUGFyYW0sDQoJCQkJCQklVGlja2V0LA0KCQkJCQl9LA0KCQkJCSk7DQoJCQl9DQoJCX0NCgkJDQoJCWlmKCR6bmFsZXppb25vID09IDApIHsNCgkJCSRTZWxmLT57TGF5b3V0T2JqZWN0fS0+QmxvY2soDQoJCQkJTmFtZSA9PiAnT2N6ZWt1amFjZU5vRGF0YUZvdW5kTXNnJywNCgkJCQlEYXRhID0+IHt9LA0KCQkJKTsNCgkJfQ0KCQkNCgl9IGVsc2lmICggJFBhcmFte0FjdGlvbn0gZXEgJ1NhdmUnICkgeyANCgkJDQoJCW15IEBUaWNrZXR5UmVhbGl6b3dhbmUgPSAkU2VsZi0+e1RpY2tldE9iamVjdH0tPlRpY2tldFNlYXJjaCgNCgkJCVJlc3VsdAkJCT0+ICdBUlJBWScsDQoJCQlRdWV1ZUlEcwkJPT4gWyAkUXVldWVJRCBdLA0KCQkJUGVybWlzc2lvbgkJPT4gJ3J3JywNCgkJCVVzZXJJRAkJCT0+IDEsDQoJCQlTdGF0ZXMJCQk9PiBbJFN0YXR1c1JlYWxpem93YW5lZ29dLA0KCQkJT3JkZXJCeQkJCT0+IFsnRG93bicsICdEb3duJ10sDQoJCQlTb3J0QnkJCQk9PiBbJ1ByaW9yaXR5JywgJ0FnZSddLA0KCQkpOw0KCQlteSAkUmVhbGl6b3dhbmVUaWtldHkgPScnOw0KCQlmb3IgbXkgJFRpY2tldFJlYWxpem93YW55SUQgKCBAVGlja2V0eVJlYWxpem93YW5lICkgew0KCQkJJFJlYWxpem93YW5lVGlrZXR5IC49ICRUaWNrZXRSZWFsaXpvd2FueUlELicsICc7DQoJCX0NCgkJc3Vic3RyICgkUmVhbGl6b3dhbmVUaWtldHksIC0yKSA9ICIiOw0KCQlpZigkUmVhbGl6b3dhbmVUaWtldHkpIHsNCgkJCSRSZWFsaXpvd2FuZVRpa2V0eSA9IiBBTkQgdGlja2V0IE5PVCBJTigiLiRSZWFsaXpvd2FuZVRpa2V0eS4iKSI7DQoJCX0NCgkJDQoJCW15ICRPa3Jlc3lMaWN6YmFaYWpldHljaCA9ICRTZWxmLT57REJPYmplY3R9LT5TZWxlY3RBbGwoDQoJCQlTUUwgICAgPT4gCSJTRUxFQ1QgY291bnQoRElTVElOQ1QgaXRvLm9rcmVzKSBGUk9NIGl0cm1fdGlja2V0X29rcmVzIGl0byBXSEVSRSBpdG8ua29sZWprYSA9ICIuJFF1ZXVlSUQsDQoJCSk7DQoJCW15ICRsaW1pdF9wb2JyYW5pYSA9IDA7DQoJCWZvciBteSAkT2tyZXN5TGljemJhICggQCRPa3Jlc3lMaWN6YmFaYWpldHljaCApIHsNCgkJCSRsaW1pdF9wb2JyYW5pYSA9IEAkT2tyZXN5TGljemJhWzBdOw0KCQl9DQoJCSRsaW1pdF9wb2JyYW5pYSArPSAyOwkJDQoJCQ0KCQlteSAkT2tyZXN5TGlzdCA9ICRTZWxmLT57REJPYmplY3R9LT5TZWxlY3RBbGwoDQoJCQlTUUwgICAgPT4gCSJTRUxFQ1Qgb2suaWQgRlJPTSBpdHJtX2tvbGVqa2FfY3lrbCBrYw0KCQkJCQkJSU5ORVIgSk9JTiBpdHJtX29rcmVzIG9rIE9OIG9rLmlkID0ga2Mub2tyZXMNCgkJCQkJCVdIRVJFIGtjLmtvbGVqa2EgPSIuJFF1ZXVlSUQuIiBBTkQgb2suZG8gPiAnIi4kY3phc19vYmVjbnkuIicgTElNSVQgMCwgIi4kbGltaXRfcG9icmFuaWEsDQoJCSk7DQoJCQ0KCQlmb3IgbXkgJE9rcmVzICggQCRPa3Jlc3lMaXN0ICkgew0KCQkJbXkgJFRpY2tldHlPa3Jlc3UgPSAkU2VsZi0+e0RCT2JqZWN0fS0+U2VsZWN0QWxsKA0KCQkJCVNRTCAgICA9PiAJIlNFTEVDVCBpdG8udGlja2V0IEZST00gaXRybV90aWNrZXRfb2tyZXMgaXRvIFdIRVJFIGl0by5rb2xlamthID0gIi4kUXVldWVJRC4iIEFORCBpdG8ub2tyZXMgPSAiLkAkT2tyZXNbMF0uIiIuJFJlYWxpem93YW5lVGlrZXR5LiIgT1JERVIgQlkgaXRvLnBvenljamEgQVNDIiwNCgkJCSk7DQoJCQkNCgkJCWZvciBteSAkVGlja2V0ICggQCRUaWNrZXR5T2tyZXN1ICkgew0KCQkJCW15ICR3eWJyYW55X29rcmVzID0gJFNlbGYtPntQYXJhbU9iamVjdH0tPkdldFBhcmFtKCBQYXJhbSA9PiAnY2hhbmdlX29rcmVzX3JlYWxpemFjamlfJy5AJE9rcmVzWzBdLidfJy5AJFRpY2tldFswXS4nJyApOw0KCQkJCW15ICRrb2xlam5vc2Nfd3lzd2lldGxhbmlhID0gJFNlbGYtPntQYXJhbU9iamVjdH0tPkdldFBhcmFtKCBQYXJhbSA9PiAna29sZWpub3NjXycuQCRPa3Jlc1swXS4nXycuQCRUaWNrZXRbMF0uJycgKTsNCgkJCQkNCgkJCQlpZiggJHd5YnJhbnlfb2tyZXMgPiAwICkgew0KCQkJCQkkU2VsZi0+e0RCT2JqZWN0fS0+RG8oDQoJCQkJCQlTUUwgID0+ICJVUERBVEUgaXRybV90aWNrZXRfb2tyZXMgU0VUIG9rcmVzX3JvenBvY3plY2lhID0gPywgb2tyZXNfemFrb25jemVuaWEgPSA/LCBva3JlcyA9ID8sIHBvenljamEgPSA/IFdIRVJFIGtvbGVqa2EgPSA/IEFORCBva3JlcyA9ID8gQU5EIHRpY2tldCA9ID8iLA0KCQkJCQkJQmluZCA9PiBbIFwkd3licmFueV9va3JlcywgXCR3eWJyYW55X29rcmVzLCBcJHd5YnJhbnlfb2tyZXMsIFwka29sZWpub3NjX3d5c3dpZXRsYW5pYSwgXCRRdWV1ZUlELCBcQCRPa3Jlc1swXSwgXEAkVGlja2V0WzBdIF0sDQoJCQkJCSk7DQoJCQkJCQ0KCQkJCX0gZWxzZSB7DQoJCQkJCSRTZWxmLT57REJPYmplY3R9LT5EbygNCgkJCQkJCVNRTCAgPT4gIlVQREFURSBpdHJtX3RpY2tldF9va3JlcyBTRVQgcG96eWNqYSA9ID8gV0hFUkUga29sZWprYSA9ID8gQU5EIG9rcmVzID0gPyBBTkQgdGlja2V0ID0gPyIsDQoJCQkJCQlCaW5kID0+IFsgXCRrb2xlam5vc2Nfd3lzd2lldGxhbmlhLCBcJFF1ZXVlSUQsIFxAJE9rcmVzWzBdLCBcQCRUaWNrZXRbMF0gXSwNCgkJCQkJKTsNCgkJCQl9DQoJCQl9DQoJCX0JCQ0KCQkNCgl9DQoJDQoJcmV0dXJuIDE7DQp9DQoNCnN1YiBfT3ZlcnZpZXcgew0KICAgIG15ICggJFNlbGYsICVQYXJhbSApID0gQF87DQoNCiAgICAkU2VsZi0+e0xheW91dE9iamVjdH0tPkJsb2NrKA0KICAgICAgICBOYW1lID0+ICdPdmVydmlldycsDQogICAgICAgIERhdGEgPT4gXCVQYXJhbSwNCiAgICApOw0KICAgICR7U2VsZn0tPntMYXlvdXRPYmplY3R9LT5CbG9jayggTmFtZSA9PiAnQWN0aW9uTGlzdCcgKTsNCiAgICAke1NlbGZ9LT57TGF5b3V0T2JqZWN0fS0+QmxvY2soIE5hbWUgPT4gJ0FjdGlvbkFkZCcgKTsNCg0KICAgICRTZWxmLT57TGF5b3V0T2JqZWN0fS0+QmxvY2soDQogICAgICAgIE5hbWUgPT4gJ092ZXJ2aWV3UmVzdWx0JywNCiAgICAgICAgRGF0YSA9PiBcJVBhcmFtLA0KICAgICk7DQogICAgbXkgJUxpc3QgPSAkU2VsZi0+e1F1ZXVlT2JqZWN0fS0+UXVldWVMaXN0KCBWYWxpZCA9PiAwICk7DQoNCiAgICBpZiAoJUxpc3QpIHsNCg0KICAgICAgICAjIGdldCB2YWxpZCBsaXN0DQogICAgICAgIG15ICVWYWxpZExpc3QgPSAkU2VsZi0+e1ZhbGlkT2JqZWN0fS0+VmFsaWRMaXN0KCk7DQogICAgICAgIGZvciBteSAkUXVldWVJRCAoIHNvcnQgeyAkTGlzdHskYX0gY21wICRMaXN0eyRifSB9IGtleXMgJUxpc3QgKSB7DQogICAgICAgICAgICBteSAlRGF0YSA9ICRTZWxmLT57UXVldWVPYmplY3R9LT5RdWV1ZUdldCggSUQgPT4gJFF1ZXVlSUQsICk7DQogICAgICAgICAgICAkRGF0YXtHcm91cE5hbWV9ID0gJFNlbGYtPntHcm91cE9iamVjdH0tPkdyb3VwTG9va3VwKCBHcm91cElEID0+ICREYXRhe0dyb3VwSUR9ICk7DQogICAgICAgICAgICANCgkJCSRTZWxmLT57TGF5b3V0T2JqZWN0fS0+QmxvY2soDQogICAgICAgICAgICAgICAgTmFtZSA9PiAnT3ZlcnZpZXdSZXN1bHRSb3cnLA0KICAgICAgICAgICAgICAgIERhdGEgPT4gew0KICAgICAgICAgICAgICAgICAgICBWYWxpZCA9PiAkVmFsaWRMaXN0eyAkRGF0YXtWYWxpZElEfSB9LA0KICAgICAgICAgICAgICAgICAgICAlRGF0YSwNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgKTsNCgkJCSRTZWxmLT57REJPYmplY3R9LT5QcmVwYXJlKA0KCQkJCVNRTCAgICA9PiAiU0VMRUNUIGlkIEZST00gaXRybV9rb2xlamthX2N5a2wgV0hFUkUga29sZWprYSA9ICciLiRRdWV1ZUlELiInIiwNCgkJCSk7DQoJCQkNCgkJCW15ICRpc19jeWtsID0gMDsNCgkJCXdoaWxlIChteSBAUm93ID0gJFNlbGYtPntEQk9iamVjdH0tPkZldGNocm93QXJyYXkoKSkgew0KCQkJCSRpc19jeWtsKys7DQoJCQl9DQoJCQlpZigkaXNfY3lrbCl7DQoJCQkJJFNlbGYtPntMYXlvdXRPYmplY3R9LT5CbG9jaygNCgkJCQkJTmFtZSA9PiAnT3ZlcnZpZXdSZXN1bHRSb3dSdW5Lb2xlamtvd2FuaWUnLA0KCQkJCQlEYXRhID0+IHsNCgkJCQkJCSVEYXRhLA0KCQkJCQl9LA0KCQkJCSk7DQoJCQl9IGVsc2Ugew0KCQkJCSRTZWxmLT57TGF5b3V0T2JqZWN0fS0+QmxvY2soDQoJCQkJCU5hbWUgPT4gJ092ZXJ2aWV3UmVzdWx0Um93UnVuTW9kdWxlJywNCgkJCQkJRGF0YSA9PiB7DQoJCQkJCQklRGF0YSwNCgkJCQkJfSwNCgkJCQkpOw0KCQkJfQ0KICAgICAgICB9DQogICAgfQ0KICAgIGVsc2Ugew0KICAgICAgICAkU2VsZi0+e0xheW91dE9iamVjdH0tPkJsb2NrKA0KICAgICAgICAgICAgTmFtZSA9PiAnTm9EYXRhRm91bmRNc2cnLA0KICAgICAgICAgICAgRGF0YSA9PiB7fSwNCiAgICAgICAgKTsNCiAgICB9DQogICAgcmV0dXJuIDE7DQp9DQoNCjE7DQo=</File>
        <File Location="Kernel/Language/pl_ITRMKolejkowanieTicketow.pm" Permission="644" Encode="Base64">IyAtLQojIEtlcm5lbC9MYW5ndWFnZS9wbF9JVFJNS29sZWprb3dhbmllVGlja2V0b3cucG0gLSBwcm92aWRlcyB4eCBLZXJuZWwvTW9kdWxlcy8qLnBtIG1vZHVsZSBsYW5ndWFnZSB0cmFuc2xhdGlvbgojIENvcHlyaWdodCAoQykgMjAwMS0yMDEzIE9UUlMgQUcsIGh0dHA6Ly9vdHJzLmNvbS8KIyAtLQojIFRoaXMgc29mdHdhcmUgY29tZXMgd2l0aCBBQlNPTFVURUxZIE5PIFdBUlJBTlRZLiBGb3IgZGV0YWlscywgc2VlCiMgdGhlIGVuY2xvc2VkIGZpbGUgQ09QWUlORyBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbiAoQUdQTCkuIElmIHlvdQojIGRpZCBub3QgcmVjZWl2ZSB0aGlzIGZpbGUsIHNlZSBodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvYWdwbC50eHQuCiMgLS0KCnBhY2thZ2UgS2VybmVsOjpMYW5ndWFnZTo6cGxfSVRSTUtvbGVqa293YW5pZVRpY2tldG93OwoKdXNlIHN0cmljdDsKdXNlIHdhcm5pbmdzOwoKc3ViIERhdGEgewogICAgbXkgJFNlbGYgPSBzaGlmdDsKCiAgICAkU2VsZi0+e1RyYW5zbGF0aW9ufS0+eydLb2xlamt1aiB0aWNrZXR5J30gICA9ICdLb2xlamtvd2FuaWUgdGlja2V0w7N3JzsKICAgICRTZWxmLT57VHJhbnNsYXRpb259LT57J0tvbGVqa2EnfSAgID0gJ05hendhIGtvbGVqa2knOwogICAgJFNlbGYtPntUcmFuc2xhdGlvbn0tPnsnQWtjamEnfSAgID0gJ0FrY2phJzsKICAgICRTZWxmLT57VHJhbnNsYXRpb259LT57J1VydWNob20ga29sZWprb3dhbmllJ30gICA9ICdVcnVjaG9tIGtvbGVqa293YW5pZSc7CiAgICAkU2VsZi0+e1RyYW5zbGF0aW9ufS0+eydVcnVjaG9tIG1vZHVsJ30gICA9ICdVcnVjaG9tIElUUk0gZGxhIGtvbGVqa2knOwogICAgJFNlbGYtPntUcmFuc2xhdGlvbn0tPnsnVXJ1Y2hvbSBrb2xlamtvd2FuaWUnfSAgID0gJ1VydWNob20ga29sZWprb3dhbmllJzsKICAgICRTZWxmLT57VHJhbnNsYXRpb259LT57J1d5bmlrIGRsYSBrb2xlamtpJ30gICA9ICdXeW5payBkbGEga29sZWpraSc7CiAgICAkU2VsZi0+e1RyYW5zbGF0aW9ufS0+eydPYmVjbmllIHJlYWxpem93YW5lIHpnbG9zemVuaWEnfSAgID0gJ09iZWNuaWUgcmVhbGl6b3dhbmUgemfFgm9zemVuaWEnOwogICAgJFNlbGYtPntUcmFuc2xhdGlvbn0tPnsnU3RhdHVzJ30gICA9ICdTdGF0dXMnOwogICAgJFNlbGYtPntUcmFuc2xhdGlvbn0tPnsnWmxlY2FqYWN5J30gICA9ICdabGVjYWrEhWN5JzsKICAgICRTZWxmLT57VHJhbnNsYXRpb259LT57J09kcG93aWVkemlhbG55J30gICA9ICdPZHBvd2llZHppYWxueSc7CiAgICAkU2VsZi0+e1RyYW5zbGF0aW9ufS0+eydQcmlvcnl0ZXQnfSAgID0gJ1ByaW9yeXRldCc7CiAgICAkU2VsZi0+e1RyYW5zbGF0aW9ufS0+eydaYXNvYnknfSAgID0gJ1phc29ieSc7CiAgICAkU2VsZi0+e1RyYW5zbGF0aW9ufS0+eydPa3JlcyByZWFsaXphY2ppJ30gICA9ICdPa3JlcyByZWFsaXphY2ppJzsKICAgICRTZWxmLT57VHJhbnNsYXRpb259LT57J09rcmVzIG9kJ30gICA9ICdPa3JlcyBvZCAnOwogICAgJFNlbGYtPntUcmFuc2xhdGlvbn0tPnsnZG8nfSAgID0gJyBkbyAnOwogICAgJFNlbGYtPntUcmFuc2xhdGlvbn0tPnsnWmFzb2J5IGRvc3RlcG5lIGRsYSBva3Jlc3UnfSAgID0gJ1phc29ieSBkb3N0xJlwbmUgZGxhIG9rcmVzdTogJzsKICAgICRTZWxmLT57VHJhbnNsYXRpb259LT57J1RpY2tldHkgbmllIGtvbGVqa293YW5lJ30gICA9ICdaZ8WCb3N6ZW5pYSBvY3pla3VqxIVjZSBuYSBrb2xlamtvd2FuaWUnOwogICAgJFNlbGYtPntUcmFuc2xhdGlvbn0tPnsnWmFwaXN6IGtvbGVqbm9zYyd9ICAgPSAnWmFwaXN6IGtvbGVqbm/Fm8SHJzsKICAgICRTZWxmLT57VHJhbnNsYXRpb259LT57J0JyYWsgd3lzdGFyY3phamFjZWogbGljemJ5IGdvZHppbid9ICAgPSAnQnJhayB3eXN0YXJjemFqxIVjZWogbGljemJ5IGdvZHppbiBkbyB3eWtvbmFuaWEgdGVnbyB6YWRhbmlhIHcgd3licmFueW0gb2tyZXNpZS4nOwoJCn0KCjE7Cg==</File>
        <File Location="Kernel/Language/pl_ITRMKolejkiZasoby.pm" Permission="644" Encode="Base64">IyAtLQojIEtlcm5lbC9MYW5ndWFnZS9wbF9JVFJNS29sZWpraVphc29ieS5wbSAtIHByb3ZpZGVzIHh4IEtlcm5lbC9Nb2R1bGVzLyoucG0gbW9kdWxlIGxhbmd1YWdlIHRyYW5zbGF0aW9uCiMgQ29weXJpZ2h0IChDKSAyMDAxLTIwMTMgT1RSUyBBRywgaHR0cDovL290cnMuY29tLwojIC0tCiMgVGhpcyBzb2Z0d2FyZSBjb21lcyB3aXRoIEFCU09MVVRFTFkgTk8gV0FSUkFOVFkuIEZvciBkZXRhaWxzLCBzZWUKIyB0aGUgZW5jbG9zZWQgZmlsZSBDT1BZSU5HIGZvciBsaWNlbnNlIGluZm9ybWF0aW9uIChBR1BMKS4gSWYgeW91CiMgZGlkIG5vdCByZWNlaXZlIHRoaXMgZmlsZSwgc2VlIGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy9hZ3BsLnR4dC4KIyAtLQoKcGFja2FnZSBLZXJuZWw6Okxhbmd1YWdlOjpwbF9JVFJNS29sZWpraVphc29ieTsKCnVzZSBzdHJpY3Q7CnVzZSB3YXJuaW5nczsKCnN1YiBEYXRhIHsKICAgIG15ICRTZWxmID0gc2hpZnQ7CgogICAgJFNlbGYtPntUcmFuc2xhdGlvbn0tPnsnUG9sYWN6IGtvbGVqa2kgeiB6YXNvYmFtaSd9ICAgPSAnUG/FgsSFY3oga29sZWpraSB6IHphc29iYW1pLic7CiAgICAkU2VsZi0+e1RyYW5zbGF0aW9ufS0+eydLb2xlamtpLVphc29ieSd9ICAgPSAnS29sZWpraSA8LT4gWmFzb2J5JzsKICAgICRTZWxmLT57VHJhbnNsYXRpb259LT57J1ByenlwaXN6IHphc29ieSd9ICAgPSAnUHJ6eXBpc3ogemFzb2J5IGRvIGtvbGVqZWsnOwogICAgJFNlbGYtPntUcmFuc2xhdGlvbn0tPnsnVGEga29sZWprYSBuaWUgbWEgcHJ6eXBpc2FuZWdvIGthbGVuZGFyemEnfSAgID0gJ1RhIGtvbGVqa2EgbmllIG1hIHByenlwaXNhbmVnbyBrYWxlbmRhcnphISBQcnp5cGlzeiBrYWxlbmRhcnohJzsKICAgICRTZWxmLT57VHJhbnNsYXRpb259LT57J0tvbGVqa293YW5pZSd9ICAgPSAnS29sZWprb3dhbmllIHpnxYJvc3plxYQnOwogICAgJFNlbGYtPntUcmFuc2xhdGlvbn0tPnsnS29sZWprb3dhbmllIHRpY2tldG93J30gICA9ICdLb2xlamtvd2FuaWUgemfFgm9zemXFhC4nOwogICAgJFNlbGYtPntUcmFuc2xhdGlvbn0tPnsnSVRSTSBLb2xlamtvd2FuaWUnfSAgID0gJ1dpZG9rIGtvbGVqa293YW5pYSB6Z8WCb3N6ZcWEJzsKICAgICRTZWxmLT57VHJhbnNsYXRpb259LT57J0lUUk0gS29sZWprb3dhbmllIG9waXMnfSAgID0gJ1ByemVnbMSFZCB3eW5pa8OzdyBrb2xlamtvd2FuaWEgZGxhIHBvc3pjemVnw7NsbnljaCBrb2xlamVrJzsKICAgICRTZWxmLT57VHJhbnNsYXRpb259LT57J0xpc3RhIGtvbGVqZWsnfSAgID0gJ0xpc3RhIGtvbGVqZWsnOwogICAgJFNlbGYtPntUcmFuc2xhdGlvbn0tPnsnVXJ1Y2hvbSBtb2R1bCBuYSBrb2xlamNlJ30gICA9ICdVcnVjaG9tIG1vZHXFgic7CiAgICAkU2VsZi0+e1RyYW5zbGF0aW9ufS0+eydVcnVjaG9tIG1vZHVsIGRsYSBrb2xlamtpJ30gICA9ICdVcnVjaG9tIG1vZHXFgiBkbGEga29sZWpraSAnOwogICAgJFNlbGYtPntUcmFuc2xhdGlvbn0tPnsnRHppZW4gcG9jemF0a3UnfSAgID0gJ0R6aWXFhCByb3pwb2N6xJljaWEgb2tyZXN1OiAnOwogICAgJFNlbGYtPntUcmFuc2xhdGlvbn0tPnsnT2tyZXN5IGRsYSBrb2xlamtpJ30gICA9ICdPa3Jlc3kgZGxhIGtvbGVqa2kgJzsKICAgICRTZWxmLT57VHJhbnNsYXRpb259LT57J1BvY3phdGVrJ30gICA9ICdQb2N6xIV0ZWsgb2tyZXN1JzsKICAgICRTZWxmLT57VHJhbnNsYXRpb259LT57J0tvbmllYyd9ICAgPSAnS29uaWVjIG9rcmVzdSc7CiAgICAkU2VsZi0+e1RyYW5zbGF0aW9ufS0+eydEb3N0ZXBuZSB6YXNvYnknfSAgID0gJ0Rvc3TEmXBuZSB6YXNvYnknOwogICAgJFNlbGYtPntUcmFuc2xhdGlvbn0tPnsnRG9kYWogb2tyZXMnfSAgID0gJ0RvZGFqIG5vd3kgb2tyZXMnOwoJCn0KCjE7Cg==</File>
        <File Location="Kernel/Language/pl_ITRMAdminITRM.pm" Permission="644" Encode="Base64">77u/IyAtLQojIEtlcm5lbC9MYW5ndWFnZS9wbF9JVFJNQWRtaW5JVFJNLnBtIC0gcHJvdmlkZXMgeHggS2VybmVsL01vZHVsZXMvKi5wbSBtb2R1bGUgbGFuZ3VhZ2UgdHJhbnNsYXRpb24KIyBDb3B5cmlnaHQgKEMpIDIwMDEtMjAxMyBPVFJTIEFHLCBodHRwOi8vb3Rycy5jb20vCiMgLS0KIyBUaGlzIHNvZnR3YXJlIGNvbWVzIHdpdGggQUJTT0xVVEVMWSBOTyBXQVJSQU5UWS4gRm9yIGRldGFpbHMsIHNlZQojIHRoZSBlbmNsb3NlZCBmaWxlIENPUFlJTkcgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24gKEFHUEwpLiBJZiB5b3UKIyBkaWQgbm90IHJlY2VpdmUgdGhpcyBmaWxlLCBzZWUgaHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzL2FncGwudHh0LgojIC0tCgpwYWNrYWdlIEtlcm5lbDo6TGFuZ3VhZ2U6OnBsX0lUUk1BZG1pbklUUk07Cgp1c2Ugc3RyaWN0Owp1c2Ugd2FybmluZ3M7CgpzdWIgRGF0YSB7CiAgICBteSAkU2VsZiA9IHNoaWZ0OwoKICAgICRTZWxmLT57VHJhbnNsYXRpb259LT57J0lUUk0nfSAgID0gJ0lUUk0nOwogICAgJFNlbGYtPntUcmFuc2xhdGlvbn0tPnsnT3BjamUnfSAgID0gJ09wY2plIElUUk0nOwoJCn0KCjE7Cg==</File>
        <File Location="Kernel/Language/pl_ITRMUzytkownicyDoKolejki.pm" Permission="644" Encode="Base64">IyAtLQojIEtlcm5lbC9MYW5ndWFnZS9wbF9JVFJNVXp5dGtvd25pY3lEb0tvbGVqa2kucG0gLSBwcm92aWRlcyB4eCBLZXJuZWwvTW9kdWxlcy8qLnBtIG1vZHVsZSBsYW5ndWFnZSB0cmFuc2xhdGlvbgojIENvcHlyaWdodCAoQykgMjAwMS0yMDEzIE9UUlMgQUcsIGh0dHA6Ly9vdHJzLmNvbS8KIyAtLQojIFRoaXMgc29mdHdhcmUgY29tZXMgd2l0aCBBQlNPTFVURUxZIE5PIFdBUlJBTlRZLiBGb3IgZGV0YWlscywgc2VlCiMgdGhlIGVuY2xvc2VkIGZpbGUgQ09QWUlORyBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbiAoQUdQTCkuIElmIHlvdQojIGRpZCBub3QgcmVjZWl2ZSB0aGlzIGZpbGUsIHNlZSBodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvYWdwbC50eHQuCiMgLS0KCnBhY2thZ2UgS2VybmVsOjpMYW5ndWFnZTo6cGxfSVRSTVV6eXRrb3duaWN5RG9Lb2xlamtpOwoKdXNlIHN0cmljdDsKdXNlIHdhcm5pbmdzOwoKc3ViIERhdGEgewogICAgbXkgJFNlbGYgPSBzaGlmdDsKCiAgICAkU2VsZi0+e1RyYW5zbGF0aW9ufS0+eydVenl0a293bmljeS1Lb2xlamtpJ30gICA9ICdVxbx5dGtvd25pY3kgPC0+IEtvbGVqa2knOwogICAgJFNlbGYtPntUcmFuc2xhdGlvbn0tPnsnUG9sYWN6IHV6eXRrb3duaWtvdyB6IGtvbGVqa2FtaSd9ICAgPSAnUG/FgsSFY3ogdcW8eXRrb3duaWvDs3cgeiBrb2xlamthbWkuJzsKICAgICRTZWxmLT57VHJhbnNsYXRpb259LT57J1ByenlwaXN6IG9zb2J5IGRvIGtvbGVqZWsnfSAgID0gJ1VzdGF3IHVkemlhxYIgb3PDs2IgdyBrb2xlamthY2gnOwogICAgJFNlbGYtPntUcmFuc2xhdGlvbn0tPnsnTGlzdGEgb3NvYid9ICAgPSAnTGlzdGEgb3PDs2InOwogICAgJFNlbGYtPntUcmFuc2xhdGlvbn0tPnsnUHJvY2VudG93eSB1ZHppYWwnfSAgID0gJ1Byb2NlbnRvd3kgdWR6aWHFgiBjemFzdSBwcmFjeSc7CiAgICAkU2VsZi0+e1RyYW5zbGF0aW9ufS0+eyd3IGtvbGVqa2FjaCd9ICAgPSAndyBrb2xlamthY2g6JzsKICAgICRTZWxmLT57VHJhbnNsYXRpb259LT57J1phcGlzeid9ICAgPSAnWmFwaXN6JzsKCQp9CgoxOwo=</File>
        <File Location="Kernel/Language/pl_ITRMCustom.pm" Permission="644" Encode="Base64">IyAtLQojIEtlcm5lbC9MYW5ndWFnZS9wbF9JVFJNQ3VzdG9tLnBtIC0gcHJvdmlkZXMgeHggY3VzdG9tIGxhbmd1YWdlIHRyYW5zbGF0aW9uCiMgQ29weXJpZ2h0IChDKSAyMDAxLTIwMTMgT1RSUyBBRywgaHR0cDovL290cnMuY29tLwojIC0tCiMgVGhpcyBzb2Z0d2FyZSBjb21lcyB3aXRoIEFCU09MVVRFTFkgTk8gV0FSUkFOVFkuIEZvciBkZXRhaWxzLCBzZWUKIyB0aGUgZW5jbG9zZWQgZmlsZSBDT1BZSU5HIGZvciBsaWNlbnNlIGluZm9ybWF0aW9uIChBR1BMKS4gSWYgeW91CiMgZGlkIG5vdCByZWNlaXZlIHRoaXMgZmlsZSwgc2VlIGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy9hZ3BsLnR4dC4KIyAtLQoKcGFja2FnZSBLZXJuZWw6Okxhbmd1YWdlOjpwbF9JVFJNQ3VzdG9tOwoKdXNlIHN0cmljdDsKdXNlIHdhcm5pbmdzOwoKc3ViIERhdGEgewogICAgbXkgJFNlbGYgPSBzaGlmdDsKCiAgICAjICQkU1RBUlQkJAoKICAgICMgb3duIHRyYW5zbGF0aW9ucwogICAgJFNlbGYtPntUcmFuc2xhdGlvbn0tPnsnV3ljZW4gemdsb3N6ZW5pZSd9ID0gJ1d5Y2XFhCB6Z8WCb3N6ZW5pZSc7CiAgICAkU2VsZi0+e1RyYW5zbGF0aW9ufS0+eydaYXNvYnknfSA9ICdaYXNvYnknOwogICAgJFNlbGYtPntUcmFuc2xhdGlvbn0tPnsnWmFzb2J5IHpnbG9zemVuaWEnfSA9ICdaYXNvYnkgemfFgm9zemVuaWEnOwogICAgJFNlbGYtPntUcmFuc2xhdGlvbn0tPnsnUHJ6ZWxpY3phIGRvc3RlcG5lIGRsYSBva3Jlc293IHphc29ieSd9ID0gJ1ByemVsaWN6YSBkb3N0ZXBuZSBkbGEgb2tyZXNvdyB6YXNvYnkgcG8gem1pYW5pZSBrYWxlbmRhcnphIGRsYSBrb2pla2knOwogICAgJFNlbGYtPntUcmFuc2xhdGlvbn0tPnsnS29sZWprb3dhbmllIHRpY2tldG93J30gPSAnS29sZWprb3dhbmllIHpnxYJvc3plxYQnOwogICAgJFNlbGYtPntUcmFuc2xhdGlvbn0tPnsnS29sZWprb3dhbmllJ30gPSAnS29sZWprb3dhbmllJzsKICAgICRTZWxmLT57VHJhbnNsYXRpb259LT57J0RvbXlzbG55IHN0YXR1cyBha3R1YWxuaWUgcmVhbGl6b3dhbmVnbyB0aWNrZXRhJ30gPSAnRG9teXNsbnkgc3RhdHVzIGFrdHVhbG5pZSByZWFsaXpvd2FuZWdvIHpnxYJvc3plbmlhJzsKICAgICRTZWxmLT57VHJhbnNsYXRpb259LT57J1N0YXR1c3kgd3lzenVraXdhbnljaCBkbyBrb2xlamtvd2FuaWEgemdsb3N6ZW4nfSA9ICdaZ8WCb3N6ZW5pYSBvIG5hc3TEmXB1asSFY3ljaCBzdGF0dXNhY2ggcG93aW5ueSBiecSHIGtvbGVqa293YW5lJzsKICAgICRTZWxmLT57VHJhbnNsYXRpb259LT57J1Bva2F6dWplIGxpbmsgdyBtZW51IGRvIHd5Y2VueSB6Z2xvc3plbmlhJ30gPSAnUG9rYXp1amUgbGluayBkbyB3eWNlbnkgemfFgm9zemVuaWEgdyBtZW51IHpnxYJvc3plbmlhJzsKCiAgICAjIG9yIGEgb3RoZXIgc3ludGF4IHdvdWxkIGJlCiAgICAjICAgICRTZWxmLT57VHJhbnNsYXRpb259ID0gewogICAgIyAgICAgICAgJXskU2VsZi0+e1RyYW5zbGF0aW9ufX0sCiAgICAjICAgICAgICAjIG93biB0cmFuc2xhdGlvbnMKICAgICMgICAgICAgIExvY2sgPT4gJ0xhbGEnLAogICAgIyAgICAgICAgVW5Mb2NrID0+ICdMdWx1JywKICAgICMgICAgfTsKCiAgICAjICQkU1RPUCQkCn0KCjE7Cg==</File>
        <File Location="Kernel/Language/en_ITRMKolejkowanieTicketow.pm" Permission="644" Encode="Base64">IyAtLQojIEtlcm5lbC9MYW5ndWFnZS9lbl9JVFJNS29sZWprb3dhbmllVGlja2V0b3cucG0gLSBwcm92aWRlcyB4eCBLZXJuZWwvTW9kdWxlcy8qLnBtIG1vZHVsZSBsYW5ndWFnZSB0cmFuc2xhdGlvbgojIENvcHlyaWdodCAoQykgMjAwMS0yMDEzIE9UUlMgQUcsIGh0dHA6Ly9vdHJzLmNvbS8KIyAtLQojIFRoaXMgc29mdHdhcmUgY29tZXMgd2l0aCBBQlNPTFVURUxZIE5PIFdBUlJBTlRZLiBGb3IgZGV0YWlscywgc2VlCiMgdGhlIGVuY2xvc2VkIGZpbGUgQ09QWUlORyBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbiAoQUdQTCkuIElmIHlvdQojIGRpZCBub3QgcmVjZWl2ZSB0aGlzIGZpbGUsIHNlZSBodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvYWdwbC50eHQuCiMgLS0KCnBhY2thZ2UgS2VybmVsOjpMYW5ndWFnZTo6ZW5fSVRSTUtvbGVqa293YW5pZVRpY2tldG93OwoKdXNlIHN0cmljdDsKdXNlIHdhcm5pbmdzOwoKc3ViIERhdGEgewogICAgbXkgJFNlbGYgPSBzaGlmdDsKCiAgICAkU2VsZi0+e1RyYW5zbGF0aW9ufS0+eydLb2xlamt1aiB0aWNrZXR5J30gICA9ICdUaWNrZXRzIHF1ZXVpbmcnOwogICAgJFNlbGYtPntUcmFuc2xhdGlvbn0tPnsnS29sZWprYSd9ICAgPSAnUXVldWUnOwogICAgJFNlbGYtPntUcmFuc2xhdGlvbn0tPnsnQWtjamEnfSAgID0gJ0FjdGlvbic7CiAgICAkU2VsZi0+e1RyYW5zbGF0aW9ufS0+eydVcnVjaG9tIGtvbGVqa293YW5pZSd9ICAgPSAnUnVuIFRpY2tldHMgcXVldWluZyc7CiAgICAkU2VsZi0+e1RyYW5zbGF0aW9ufS0+eydVcnVjaG9tIG1vZHVsJ30gICA9ICdSdW4gSVRSTSBmb3IgcXVldWUnOwogICAgJFNlbGYtPntUcmFuc2xhdGlvbn0tPnsnVXJ1Y2hvbSBrb2xlamtvd2FuaWUnfSAgID0gJ1J1biBUaWNrZXRzIHF1ZXVpbmcnOwogICAgJFNlbGYtPntUcmFuc2xhdGlvbn0tPnsnV3luaWsgZGxhIGtvbGVqa2knfSAgID0gJ1Jlc3VsdCBmb3IgcXVldWUnOwogICAgJFNlbGYtPntUcmFuc2xhdGlvbn0tPnsnT2JlY25pZSByZWFsaXpvd2FuZSB6Z2xvc3plbmlhJ30gICA9ICdDdXJyZW50bHkgZXhlY3V0ZWQgdGlja2V0cyc7CiAgICAkU2VsZi0+e1RyYW5zbGF0aW9ufS0+eydTdGF0dXMnfSAgID0gJ1N0YXRlJzsKICAgICRTZWxmLT57VHJhbnNsYXRpb259LT57J1psZWNhamFjeSd9ICAgPSAnWmxlY2FqxIVjeSc7CiAgICAkU2VsZi0+e1RyYW5zbGF0aW9ufS0+eydPZHBvd2llZHppYWxueSd9ICAgPSAnUmVzcG9uc2libGUnOwogICAgJFNlbGYtPntUcmFuc2xhdGlvbn0tPnsnUHJpb3J5dGV0J30gICA9ICdQcmlvcml0eSc7CiAgICAkU2VsZi0+e1RyYW5zbGF0aW9ufS0+eydaYXNvYnknfSAgID0gJ1Jlc291cmNlcyc7CiAgICAkU2VsZi0+e1RyYW5zbGF0aW9ufS0+eydPa3JlcyByZWFsaXphY2ppJ30gICA9ICdQZXJpb2Qgb2YgZXhlY3V0aW9uJzsKICAgICRTZWxmLT57VHJhbnNsYXRpb259LT57J09rcmVzIG9kJ30gICA9ICdQZXJpb2QgZnJvbSAnOwogICAgJFNlbGYtPntUcmFuc2xhdGlvbn0tPnsnZG8nfSAgID0gJyB0byAnOwogICAgJFNlbGYtPntUcmFuc2xhdGlvbn0tPnsnWmFzb2J5IGRvc3RlcG5lIGRsYSBva3Jlc3UnfSAgID0gJ1Jlc291cmNlcyBhdmFpbGFibGUgZm9yIHBlcmlvZDogJzsKICAgICRTZWxmLT57VHJhbnNsYXRpb259LT57J1RpY2tldHkgbmllIGtvbGVqa293YW5lJ30gICA9ICdUaWNrZXRzIHdhaXRpbmcgZm9yIHF1ZXVpbmcnOwogICAgJFNlbGYtPntUcmFuc2xhdGlvbn0tPnsnWmFwaXN6IGtvbGVqbm9zYyd9ICAgPSAnU2F2ZSBvcmRlcic7CiAgICAkU2VsZi0+e1RyYW5zbGF0aW9ufS0+eydCcmFrIHd5c3RhcmN6YWphY2VqIGxpY3pieSBnb2R6aW4nfSAgID0gJ05vIGF2YWlsYWJsZSByZXNvdXJjZXMgZm9yIGV4ZWN1dGlvbiBvZiB0aGF0IHRpY2tldCBpbiBzZWxlY3RlZCBwZXJpb2QuJzsKCQp9CgoxOwo=</File>
        <File Location="Kernel/Language/en_ITRMKolejkiZasoby.pm" Permission="644" Encode="Base64">IyAtLQojIEtlcm5lbC9MYW5ndWFnZS9lbl9JVFJNS29sZWpraVphc29ieS5wbSAtIHByb3ZpZGVzIHh4IEtlcm5lbC9Nb2R1bGVzLyoucG0gbW9kdWxlIGxhbmd1YWdlIHRyYW5zbGF0aW9uCiMgQ29weXJpZ2h0IChDKSAyMDAxLTIwMTMgT1RSUyBBRywgaHR0cDovL290cnMuY29tLwojIC0tCiMgVGhpcyBzb2Z0d2FyZSBjb21lcyB3aXRoIEFCU09MVVRFTFkgTk8gV0FSUkFOVFkuIEZvciBkZXRhaWxzLCBzZWUKIyB0aGUgZW5jbG9zZWQgZmlsZSBDT1BZSU5HIGZvciBsaWNlbnNlIGluZm9ybWF0aW9uIChBR1BMKS4gSWYgeW91CiMgZGlkIG5vdCByZWNlaXZlIHRoaXMgZmlsZSwgc2VlIGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy9hZ3BsLnR4dC4KIyAtLQoKcGFja2FnZSBLZXJuZWw6Okxhbmd1YWdlOjplbl9JVFJNS29sZWpraVphc29ieTsKCnVzZSBzdHJpY3Q7CnVzZSB3YXJuaW5nczsKCnN1YiBEYXRhIHsKICAgIG15ICRTZWxmID0gc2hpZnQ7CgogICAgJFNlbGYtPntUcmFuc2xhdGlvbn0tPnsnUG9sYWN6IGtvbGVqa2kgeiB6YXNvYmFtaSd9ICAgPSAnQXNzaWduIHJlc291cmNlcyB0byBxdWV1ZXMuJzsKICAgICRTZWxmLT57VHJhbnNsYXRpb259LT57J0tvbGVqa2ktWmFzb2J5J30gICA9ICdRdWV1ZXMgPC0+IFJlc291cmNlcyc7CiAgICAkU2VsZi0+e1RyYW5zbGF0aW9ufS0+eydQcnp5cGlzeiB6YXNvYnknfSAgID0gJ0Fzc2lnbiByZXNvdXJjZXMgdG8gcXVldWVzJzsKICAgICRTZWxmLT57VHJhbnNsYXRpb259LT57J1RhIGtvbGVqa2EgbmllIG1hIHByenlwaXNhbmVnbyBrYWxlbmRhcnphJ30gICA9ICdUaGF0IHF1ZXVlIGRvZXMgbm90IGhhdmUgY2FsZW5kYXIgYXNzaWduZWQhIFBsZWFzZSBhc3NpZ24gY2FsZW5kYXIgZG8gdGhlIHF1ZXVlISc7CiAgICAkU2VsZi0+e1RyYW5zbGF0aW9ufS0+eydLb2xlamtvd2FuaWUnfSAgID0gJ1RpY2tldHMgcXVldWluZyc7CiAgICAkU2VsZi0+e1RyYW5zbGF0aW9ufS0+eydLb2xlamtvd2FuaWUgdGlja2V0b3cnfSAgID0gJ1RpY2tldHMgcXVldWluZy4nOwogICAgJFNlbGYtPntUcmFuc2xhdGlvbn0tPnsnSVRSTSBLb2xlamtvd2FuaWUnfSAgID0gJ1ZpZXcgb2YgVGlja2V0cyBxdWV1aW5nJzsKICAgICRTZWxmLT57VHJhbnNsYXRpb259LT57J0lUUk0gS29sZWprb3dhbmllIG9waXMnfSAgID0gJ092ZXJ2aWV3IG9mIElUUk0gcmVzdWx0IGZvciBwYXJ0aWN1bGFyIHF1ZXVlcyc7CiAgICAkU2VsZi0+e1RyYW5zbGF0aW9ufS0+eydMaXN0YSBrb2xlamVrJ30gICA9ICdRdWV1ZSBsaXN0JzsKICAgICRTZWxmLT57VHJhbnNsYXRpb259LT57J1VydWNob20gbW9kdWwgbmEga29sZWpjZSd9ICAgPSAnUnVuIElUUk0gZm9yIHF1ZXVlJzsKICAgICRTZWxmLT57VHJhbnNsYXRpb259LT57J1VydWNob20gbW9kdWwgZGxhIGtvbGVqa2knfSAgID0gJ1J1biBJVFJNIGZvciBxdWV1ZSc7CiAgICAkU2VsZi0+e1RyYW5zbGF0aW9ufS0+eydEemllbiBwb2N6YXRrdSd9ICAgPSAnRGF5IG9mIHBlcmlvZCBiZWdpbjogJzsKICAgICRTZWxmLT57VHJhbnNsYXRpb259LT57J09rcmVzeSBkbGEga29sZWpraSd9ICAgPSAnUGVyaW9kcyBmb3IgcXVldWUgJzsKICAgICRTZWxmLT57VHJhbnNsYXRpb259LT57J1BvY3phdGVrJ30gICA9ICdCZWdpbiBvZiBwZXJpb2QnOwogICAgJFNlbGYtPntUcmFuc2xhdGlvbn0tPnsnS29uaWVjJ30gICA9ICdFbmQgb2YgcGVyaW9kJzsKICAgICRTZWxmLT57VHJhbnNsYXRpb259LT57J0Rvc3RlcG5lIHphc29ieSd9ICAgPSAnQXZhaWxhYmxlIHJlc291cmNlcyc7CiAgICAkU2VsZi0+e1RyYW5zbGF0aW9ufS0+eydEb2RhaiBva3Jlcyd9ICAgPSAnQWRkIG5ldyBwZXJpb2QnOwoJCn0KCjE7Cg==</File>
        <File Location="Kernel/Language/en_ITRMAdminITRM.pm" Permission="644" Encode="Base64">77u/IyAtLQojIEtlcm5lbC9MYW5ndWFnZS9lbl9JVFJNQWRtaW5JVFJNLnBtIC0gcHJvdmlkZXMgeHggS2VybmVsL01vZHVsZXMvKi5wbSBtb2R1bGUgbGFuZ3VhZ2UgdHJhbnNsYXRpb24KIyBDb3B5cmlnaHQgKEMpIDIwMDEtMjAxMyBPVFJTIEFHLCBodHRwOi8vb3Rycy5jb20vCiMgLS0KIyBUaGlzIHNvZnR3YXJlIGNvbWVzIHdpdGggQUJTT0xVVEVMWSBOTyBXQVJSQU5UWS4gRm9yIGRldGFpbHMsIHNlZQojIHRoZSBlbmNsb3NlZCBmaWxlIENPUFlJTkcgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24gKEFHUEwpLiBJZiB5b3UKIyBkaWQgbm90IHJlY2VpdmUgdGhpcyBmaWxlLCBzZWUgaHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzL2FncGwudHh0LgojIC0tCgpwYWNrYWdlIEtlcm5lbDo6TGFuZ3VhZ2U6OmVuX0lUUk1BZG1pbklUUk07Cgp1c2Ugc3RyaWN0Owp1c2Ugd2FybmluZ3M7CgpzdWIgRGF0YSB7CiAgICBteSAkU2VsZiA9IHNoaWZ0OwoKICAgICRTZWxmLT57VHJhbnNsYXRpb259LT57J0lUUk0nfSAgID0gJ0lUUk0nOwogICAgJFNlbGYtPntUcmFuc2xhdGlvbn0tPnsnT3BjamUnfSAgID0gJ0lUUk0gb3B0aW9ucyc7CgkKfQoKMTsK</File>
        <File Location="Kernel/Language/en_ITRMUzytkownicyDoKolejki.pm" Permission="644" Encode="Base64">IyAtLQojIEtlcm5lbC9MYW5ndWFnZS9lbl9JVFJNVXp5dGtvd25pY3lEb0tvbGVqa2kucG0gLSBwcm92aWRlcyB4eCBLZXJuZWwvTW9kdWxlcy8qLnBtIG1vZHVsZSBsYW5ndWFnZSB0cmFuc2xhdGlvbgojIENvcHlyaWdodCAoQykgMjAwMS0yMDEzIE9UUlMgQUcsIGh0dHA6Ly9vdHJzLmNvbS8KIyAtLQojIFRoaXMgc29mdHdhcmUgY29tZXMgd2l0aCBBQlNPTFVURUxZIE5PIFdBUlJBTlRZLiBGb3IgZGV0YWlscywgc2VlCiMgdGhlIGVuY2xvc2VkIGZpbGUgQ09QWUlORyBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbiAoQUdQTCkuIElmIHlvdQojIGRpZCBub3QgcmVjZWl2ZSB0aGlzIGZpbGUsIHNlZSBodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvYWdwbC50eHQuCiMgLS0KCnBhY2thZ2UgS2VybmVsOjpMYW5ndWFnZTo6ZW5fSVRSTVV6eXRrb3duaWN5RG9Lb2xlamtpOwoKdXNlIHN0cmljdDsKdXNlIHdhcm5pbmdzOwoKc3ViIERhdGEgewogICAgbXkgJFNlbGYgPSBzaGlmdDsKCiAgICAkU2VsZi0+e1RyYW5zbGF0aW9ufS0+eydVenl0a293bmljeS1Lb2xlamtpJ30gICA9ICdVc2VycyA8LT4gUXVldWVzJzsKICAgICRTZWxmLT57VHJhbnNsYXRpb259LT57J1BvbGFjeiB1enl0a293bmlrb3cgeiBrb2xlamthbWknfSAgID0gJ0xpbmsgdXNlcnMgd2l0aCBxdWV1ZXMuJzsKICAgICRTZWxmLT57VHJhbnNsYXRpb259LT57J1ByenlwaXN6IG9zb2J5IGRvIGtvbGVqZWsnfSAgID0gJ1NldCBwZXJjZW50YWdlIGF2YWlsYWJpbGl0eSBvZiB1c2VyIGZvciBwYXJ0aWN1bGFyIHF1ZXVlcyc7CiAgICAkU2VsZi0+e1RyYW5zbGF0aW9ufS0+eydMaXN0YSBvc29iJ30gICA9ICdMaXN0IG9mIHVzZXJzJzsKICAgICRTZWxmLT57VHJhbnNsYXRpb259LT57J1Byb2NlbnRvd3kgdWR6aWFsJ30gICA9ICdQZXJjZW50YWdlIGF2YWlsYWJpbGl0eSBvZiB3b3JrdGltZSc7CiAgICAkU2VsZi0+e1RyYW5zbGF0aW9ufS0+eyd3IGtvbGVqa2FjaCd9ICAgPSAnaW4gcXVldWVzOic7CiAgICAkU2VsZi0+e1RyYW5zbGF0aW9ufS0+eydaYXBpc3onfSAgID0gJ1NhdmUnOwoJCn0KCjE7Cg==</File>
        <File Location="Kernel/Language/en_ITRMCustom.pm" Permission="644" Encode="Base64">IyAtLQojIEtlcm5lbC9MYW5ndWFnZS9lbl9JVFJNQ3VzdG9tLnBtIC0gcHJvdmlkZXMgeHggY3VzdG9tIGxhbmd1YWdlIHRyYW5zbGF0aW9uCiMgQ29weXJpZ2h0IChDKSAyMDAxLTIwMTMgT1RSUyBBRywgaHR0cDovL290cnMuY29tLwojIC0tCiMgVGhpcyBzb2Z0d2FyZSBjb21lcyB3aXRoIEFCU09MVVRFTFkgTk8gV0FSUkFOVFkuIEZvciBkZXRhaWxzLCBzZWUKIyB0aGUgZW5jbG9zZWQgZmlsZSBDT1BZSU5HIGZvciBsaWNlbnNlIGluZm9ybWF0aW9uIChBR1BMKS4gSWYgeW91CiMgZGlkIG5vdCByZWNlaXZlIHRoaXMgZmlsZSwgc2VlIGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy9hZ3BsLnR4dC4KIyAtLQoKcGFja2FnZSBLZXJuZWw6Okxhbmd1YWdlOjplbl9JVFJNQ3VzdG9tOwoKdXNlIHN0cmljdDsKdXNlIHdhcm5pbmdzOwoKc3ViIERhdGEgewogICAgbXkgJFNlbGYgPSBzaGlmdDsKCiAgICAjICQkU1RBUlQkJAoKICAgICMgb3duIHRyYW5zbGF0aW9ucwogICAgJFNlbGYtPntUcmFuc2xhdGlvbn0tPnsnV3ljZW4gemdsb3N6ZW5pZSd9ID0gJ0VzdGltYXRlIHdvcmtsb2FkIG9mIHRpY2tldCc7CiAgICAkU2VsZi0+e1RyYW5zbGF0aW9ufS0+eydaYXNvYnknfSA9ICdSZXNvdXJjZXMnOwogICAgJFNlbGYtPntUcmFuc2xhdGlvbn0tPnsnWmFzb2J5IHpnbG9zemVuaWEnfSA9ICdUaWNrZXQgcmVzb3VyY2VzJzsKICAgICRTZWxmLT57VHJhbnNsYXRpb259LT57J1ByemVsaWN6YSBkb3N0ZXBuZSBkbGEgb2tyZXNvdyB6YXNvYnknfSA9ICdSZWNhbGN1bGF0ZXMgYXZhaWxhYmxlIHJlc291cmNlcyBmb3IgcGVyaW9kcyBhZnRlciBxdWV1ZSBjYWxlbmRhciBjaGFuZ2UuJzsKICAgICRTZWxmLT57VHJhbnNsYXRpb259LT57J0tvbGVqa293YW5pZSB0aWNrZXRvdyd9ID0gJ1RpY2tldHMgcXVldWluZyc7CiAgICAkU2VsZi0+e1RyYW5zbGF0aW9ufS0+eydLb2xlamtvd2FuaWUnfSA9ICdRdWV1aW5nJzsKICAgICRTZWxmLT57VHJhbnNsYXRpb259LT57J0RvbXlzbG55IHN0YXR1cyBha3R1YWxuaWUgcmVhbGl6b3dhbmVnbyB0aWNrZXRhJ30gPSAnRGVmYXVsdCBzdGF0ZSBvZiBjdXJyZW50bHkgZXhlY3V0ZWQgdGlja2V0JzsKICAgICRTZWxmLT57VHJhbnNsYXRpb259LT57J1N0YXR1c3kgd3lzenVraXdhbnljaCBkbyBrb2xlamtvd2FuaWEgemdsb3N6ZW4nfSA9ICdUaWNrZXRzIGluIGZvbGxvd2luZyBzdGF0ZXMgc2hvdWxkIGJlIHF1ZXVlZCc7CiAgICAkU2VsZi0+e1RyYW5zbGF0aW9ufS0+eydQb2thenVqZSBsaW5rIHcgbWVudSBkbyB3eWNlbnkgemdsb3N6ZW5pYSd9ID0gJ1Nob3dzIHRpY2tldCBtZW51IGl0ZW0gZm9yIHdvcmtsb2FkIGVzdGltYXRpb24nOwoKICAgICMgb3IgYSBvdGhlciBzeW50YXggd291bGQgYmUKICAgICMgICAgJFNlbGYtPntUcmFuc2xhdGlvbn0gPSB7CiAgICAjICAgICAgICAleyRTZWxmLT57VHJhbnNsYXRpb259fSwKICAgICMgICAgICAgICMgb3duIHRyYW5zbGF0aW9ucwogICAgIyAgICAgICAgTG9jayA9PiAnTGFsYScsCiAgICAjICAgICAgICBVbkxvY2sgPT4gJ0x1bHUnLAogICAgIyAgICB9OwoKICAgICMgJCRTVE9QJCQKfQoKMTsK</File>
        <File Location="Kernel/Language/en_GB_ITRMKolejkowanieTicketow.pm" Permission="644" Encode="Base64">IyAtLQojIEtlcm5lbC9MYW5ndWFnZS9lbl9HQl9JVFJNS29sZWprb3dhbmllVGlja2V0b3cucG0gLSBwcm92aWRlcyB4eCBLZXJuZWwvTW9kdWxlcy8qLnBtIG1vZHVsZSBsYW5ndWFnZSB0cmFuc2xhdGlvbgojIENvcHlyaWdodCAoQykgMjAwMS0yMDEzIE9UUlMgQUcsIGh0dHA6Ly9vdHJzLmNvbS8KIyAtLQojIFRoaXMgc29mdHdhcmUgY29tZXMgd2l0aCBBQlNPTFVURUxZIE5PIFdBUlJBTlRZLiBGb3IgZGV0YWlscywgc2VlCiMgdGhlIGVuY2xvc2VkIGZpbGUgQ09QWUlORyBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbiAoQUdQTCkuIElmIHlvdQojIGRpZCBub3QgcmVjZWl2ZSB0aGlzIGZpbGUsIHNlZSBodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvYWdwbC50eHQuCiMgLS0KCnBhY2thZ2UgS2VybmVsOjpMYW5ndWFnZTo6ZW5fR0JfSVRSTUtvbGVqa293YW5pZVRpY2tldG93OwoKdXNlIHN0cmljdDsKdXNlIHdhcm5pbmdzOwoKc3ViIERhdGEgewogICAgbXkgJFNlbGYgPSBzaGlmdDsKCiAgICAkU2VsZi0+e1RyYW5zbGF0aW9ufS0+eydLb2xlamt1aiB0aWNrZXR5J30gICA9ICdUaWNrZXRzIHF1ZXVpbmcnOwogICAgJFNlbGYtPntUcmFuc2xhdGlvbn0tPnsnS29sZWprYSd9ICAgPSAnUXVldWUnOwogICAgJFNlbGYtPntUcmFuc2xhdGlvbn0tPnsnQWtjamEnfSAgID0gJ0FjdGlvbic7CiAgICAkU2VsZi0+e1RyYW5zbGF0aW9ufS0+eydVcnVjaG9tIGtvbGVqa293YW5pZSd9ICAgPSAnUnVuIFRpY2tldHMgcXVldWluZyc7CiAgICAkU2VsZi0+e1RyYW5zbGF0aW9ufS0+eydVcnVjaG9tIG1vZHVsJ30gICA9ICdSdW4gSVRSTSBmb3IgcXVldWUnOwogICAgJFNlbGYtPntUcmFuc2xhdGlvbn0tPnsnVXJ1Y2hvbSBrb2xlamtvd2FuaWUnfSAgID0gJ1J1biBUaWNrZXRzIHF1ZXVpbmcnOwogICAgJFNlbGYtPntUcmFuc2xhdGlvbn0tPnsnV3luaWsgZGxhIGtvbGVqa2knfSAgID0gJ1Jlc3VsdCBmb3IgcXVldWUnOwogICAgJFNlbGYtPntUcmFuc2xhdGlvbn0tPnsnT2JlY25pZSByZWFsaXpvd2FuZSB6Z2xvc3plbmlhJ30gICA9ICdDdXJyZW50bHkgZXhlY3V0ZWQgdGlja2V0cyc7CiAgICAkU2VsZi0+e1RyYW5zbGF0aW9ufS0+eydTdGF0dXMnfSAgID0gJ1N0YXRlJzsKICAgICRTZWxmLT57VHJhbnNsYXRpb259LT57J1psZWNhamFjeSd9ICAgPSAnWmxlY2FqxIVjeSc7CiAgICAkU2VsZi0+e1RyYW5zbGF0aW9ufS0+eydPZHBvd2llZHppYWxueSd9ICAgPSAnUmVzcG9uc2libGUnOwogICAgJFNlbGYtPntUcmFuc2xhdGlvbn0tPnsnUHJpb3J5dGV0J30gICA9ICdQcmlvcml0eSc7CiAgICAkU2VsZi0+e1RyYW5zbGF0aW9ufS0+eydaYXNvYnknfSAgID0gJ1Jlc291cmNlcyc7CiAgICAkU2VsZi0+e1RyYW5zbGF0aW9ufS0+eydPa3JlcyByZWFsaXphY2ppJ30gICA9ICdQZXJpb2Qgb2YgZXhlY3V0aW9uJzsKICAgICRTZWxmLT57VHJhbnNsYXRpb259LT57J09rcmVzIG9kJ30gICA9ICdQZXJpb2QgZnJvbSAnOwogICAgJFNlbGYtPntUcmFuc2xhdGlvbn0tPnsnZG8nfSAgID0gJyB0byAnOwogICAgJFNlbGYtPntUcmFuc2xhdGlvbn0tPnsnWmFzb2J5IGRvc3RlcG5lIGRsYSBva3Jlc3UnfSAgID0gJ1Jlc291cmNlcyBhdmFpbGFibGUgZm9yIHBlcmlvZDogJzsKICAgICRTZWxmLT57VHJhbnNsYXRpb259LT57J1RpY2tldHkgbmllIGtvbGVqa293YW5lJ30gICA9ICdUaWNrZXRzIHdhaXRpbmcgZm9yIHF1ZXVpbmcnOwogICAgJFNlbGYtPntUcmFuc2xhdGlvbn0tPnsnWmFwaXN6IGtvbGVqbm9zYyd9ICAgPSAnU2F2ZSBvcmRlcic7CiAgICAkU2VsZi0+e1RyYW5zbGF0aW9ufS0+eydCcmFrIHd5c3RhcmN6YWphY2VqIGxpY3pieSBnb2R6aW4nfSAgID0gJ05vIGF2YWlsYWJsZSByZXNvdXJjZXMgZm9yIGV4ZWN1dGlvbiBvZiB0aGF0IHRpY2tldCBpbiBzZWxlY3RlZCBwZXJpb2QuJzsKCQp9CgoxOwo=</File>
        <File Location="Kernel/Language/en_GB_ITRMKolejkiZasoby.pm" Permission="644" Encode="Base64">IyAtLQojIEtlcm5lbC9MYW5ndWFnZS9lbl9HQl9JVFJNS29sZWpraVphc29ieS5wbSAtIHByb3ZpZGVzIHh4IEtlcm5lbC9Nb2R1bGVzLyoucG0gbW9kdWxlIGxhbmd1YWdlIHRyYW5zbGF0aW9uCiMgQ29weXJpZ2h0IChDKSAyMDAxLTIwMTMgT1RSUyBBRywgaHR0cDovL290cnMuY29tLwojIC0tCiMgVGhpcyBzb2Z0d2FyZSBjb21lcyB3aXRoIEFCU09MVVRFTFkgTk8gV0FSUkFOVFkuIEZvciBkZXRhaWxzLCBzZWUKIyB0aGUgZW5jbG9zZWQgZmlsZSBDT1BZSU5HIGZvciBsaWNlbnNlIGluZm9ybWF0aW9uIChBR1BMKS4gSWYgeW91CiMgZGlkIG5vdCByZWNlaXZlIHRoaXMgZmlsZSwgc2VlIGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy9hZ3BsLnR4dC4KIyAtLQoKcGFja2FnZSBLZXJuZWw6Okxhbmd1YWdlOjplbl9HQl9JVFJNS29sZWpraVphc29ieTsKCnVzZSBzdHJpY3Q7CnVzZSB3YXJuaW5nczsKCnN1YiBEYXRhIHsKICAgIG15ICRTZWxmID0gc2hpZnQ7CgogICAgJFNlbGYtPntUcmFuc2xhdGlvbn0tPnsnUG9sYWN6IGtvbGVqa2kgeiB6YXNvYmFtaSd9ICAgPSAnQXNzaWduIHJlc291cmNlcyB0byBxdWV1ZXMuJzsKICAgICRTZWxmLT57VHJhbnNsYXRpb259LT57J0tvbGVqa2ktWmFzb2J5J30gICA9ICdRdWV1ZXMgPC0+IFJlc291cmNlcyc7CiAgICAkU2VsZi0+e1RyYW5zbGF0aW9ufS0+eydQcnp5cGlzeiB6YXNvYnknfSAgID0gJ0Fzc2lnbiByZXNvdXJjZXMgdG8gcXVldWVzJzsKICAgICRTZWxmLT57VHJhbnNsYXRpb259LT57J1RhIGtvbGVqa2EgbmllIG1hIHByenlwaXNhbmVnbyBrYWxlbmRhcnphJ30gICA9ICdUaGF0IHF1ZXVlIGRvZXMgbm90IGhhdmUgY2FsZW5kYXIgYXNzaWduZWQhIFBsZWFzZSBhc3NpZ24gY2FsZW5kYXIgZG8gdGhlIHF1ZXVlISc7CiAgICAkU2VsZi0+e1RyYW5zbGF0aW9ufS0+eydLb2xlamtvd2FuaWUnfSAgID0gJ1RpY2tldHMgcXVldWluZyc7CiAgICAkU2VsZi0+e1RyYW5zbGF0aW9ufS0+eydLb2xlamtvd2FuaWUgdGlja2V0b3cnfSAgID0gJ1RpY2tldHMgcXVldWluZy4nOwogICAgJFNlbGYtPntUcmFuc2xhdGlvbn0tPnsnSVRSTSBLb2xlamtvd2FuaWUnfSAgID0gJ1ZpZXcgb2YgVGlja2V0cyBxdWV1aW5nJzsKICAgICRTZWxmLT57VHJhbnNsYXRpb259LT57J0lUUk0gS29sZWprb3dhbmllIG9waXMnfSAgID0gJ092ZXJ2aWV3IG9mIElUUk0gcmVzdWx0IGZvciBwYXJ0aWN1bGFyIHF1ZXVlcyc7CiAgICAkU2VsZi0+e1RyYW5zbGF0aW9ufS0+eydMaXN0YSBrb2xlamVrJ30gICA9ICdRdWV1ZSBsaXN0JzsKICAgICRTZWxmLT57VHJhbnNsYXRpb259LT57J1VydWNob20gbW9kdWwgbmEga29sZWpjZSd9ICAgPSAnUnVuIElUUk0gZm9yIHF1ZXVlJzsKICAgICRTZWxmLT57VHJhbnNsYXRpb259LT57J1VydWNob20gbW9kdWwgZGxhIGtvbGVqa2knfSAgID0gJ1J1biBJVFJNIGZvciBxdWV1ZSc7CiAgICAkU2VsZi0+e1RyYW5zbGF0aW9ufS0+eydEemllbiBwb2N6YXRrdSd9ICAgPSAnRGF5IG9mIHBlcmlvZCBiZWdpbjogJzsKICAgICRTZWxmLT57VHJhbnNsYXRpb259LT57J09rcmVzeSBkbGEga29sZWpraSd9ICAgPSAnUGVyaW9kcyBmb3IgcXVldWUgJzsKICAgICRTZWxmLT57VHJhbnNsYXRpb259LT57J1BvY3phdGVrJ30gICA9ICdCZWdpbiBvZiBwZXJpb2QnOwogICAgJFNlbGYtPntUcmFuc2xhdGlvbn0tPnsnS29uaWVjJ30gICA9ICdFbmQgb2YgcGVyaW9kJzsKICAgICRTZWxmLT57VHJhbnNsYXRpb259LT57J0Rvc3RlcG5lIHphc29ieSd9ICAgPSAnQXZhaWxhYmxlIHJlc291cmNlcyc7CiAgICAkU2VsZi0+e1RyYW5zbGF0aW9ufS0+eydEb2RhaiBva3Jlcyd9ICAgPSAnQWRkIG5ldyBwZXJpb2QnOwoJCn0KCjE7Cg==</File>
        <File Location="Kernel/Language/en_GB_ITRMAdminITRM.pm" Permission="644" Encode="Base64">77u/IyAtLQojIEtlcm5lbC9MYW5ndWFnZS9lbl9HQl9JVFJNQWRtaW5JVFJNLnBtIC0gcHJvdmlkZXMgeHggS2VybmVsL01vZHVsZXMvKi5wbSBtb2R1bGUgbGFuZ3VhZ2UgdHJhbnNsYXRpb24KIyBDb3B5cmlnaHQgKEMpIDIwMDEtMjAxMyBPVFJTIEFHLCBodHRwOi8vb3Rycy5jb20vCiMgLS0KIyBUaGlzIHNvZnR3YXJlIGNvbWVzIHdpdGggQUJTT0xVVEVMWSBOTyBXQVJSQU5UWS4gRm9yIGRldGFpbHMsIHNlZQojIHRoZSBlbmNsb3NlZCBmaWxlIENPUFlJTkcgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24gKEFHUEwpLiBJZiB5b3UKIyBkaWQgbm90IHJlY2VpdmUgdGhpcyBmaWxlLCBzZWUgaHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzL2FncGwudHh0LgojIC0tCgpwYWNrYWdlIEtlcm5lbDo6TGFuZ3VhZ2U6OmVuX0dCX0lUUk1BZG1pbklUUk07Cgp1c2Ugc3RyaWN0Owp1c2Ugd2FybmluZ3M7CgpzdWIgRGF0YSB7CiAgICBteSAkU2VsZiA9IHNoaWZ0OwoKICAgICRTZWxmLT57VHJhbnNsYXRpb259LT57J0lUUk0nfSAgID0gJ0lUUk0nOwogICAgJFNlbGYtPntUcmFuc2xhdGlvbn0tPnsnT3BjamUnfSAgID0gJ0lUUk0gb3B0aW9ucyc7CgkKfQoKMTsK</File>
        <File Location="Kernel/Language/en_GB_ITRMUzytkownicyDoKolejki.pm" Permission="644" Encode="Base64">IyAtLQojIEtlcm5lbC9MYW5ndWFnZS9lbl9HQl9JVFJNVXp5dGtvd25pY3lEb0tvbGVqa2kucG0gLSBwcm92aWRlcyB4eCBLZXJuZWwvTW9kdWxlcy8qLnBtIG1vZHVsZSBsYW5ndWFnZSB0cmFuc2xhdGlvbgojIENvcHlyaWdodCAoQykgMjAwMS0yMDEzIE9UUlMgQUcsIGh0dHA6Ly9vdHJzLmNvbS8KIyAtLQojIFRoaXMgc29mdHdhcmUgY29tZXMgd2l0aCBBQlNPTFVURUxZIE5PIFdBUlJBTlRZLiBGb3IgZGV0YWlscywgc2VlCiMgdGhlIGVuY2xvc2VkIGZpbGUgQ09QWUlORyBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbiAoQUdQTCkuIElmIHlvdQojIGRpZCBub3QgcmVjZWl2ZSB0aGlzIGZpbGUsIHNlZSBodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvYWdwbC50eHQuCiMgLS0KCnBhY2thZ2UgS2VybmVsOjpMYW5ndWFnZTo6ZW5fR0JfSVRSTVV6eXRrb3duaWN5RG9Lb2xlamtpOwoKdXNlIHN0cmljdDsKdXNlIHdhcm5pbmdzOwoKc3ViIERhdGEgewogICAgbXkgJFNlbGYgPSBzaGlmdDsKCiAgICAkU2VsZi0+e1RyYW5zbGF0aW9ufS0+eydVenl0a293bmljeS1Lb2xlamtpJ30gICA9ICdVc2VycyA8LT4gUXVldWVzJzsKICAgICRTZWxmLT57VHJhbnNsYXRpb259LT57J1BvbGFjeiB1enl0a293bmlrb3cgeiBrb2xlamthbWknfSAgID0gJ0xpbmsgdXNlcnMgd2l0aCBxdWV1ZXMuJzsKICAgICRTZWxmLT57VHJhbnNsYXRpb259LT57J1ByenlwaXN6IG9zb2J5IGRvIGtvbGVqZWsnfSAgID0gJ1NldCBwZXJjZW50YWdlIGF2YWlsYWJpbGl0eSBvZiB1c2VyIGZvciBwYXJ0aWN1bGFyIHF1ZXVlcyc7CiAgICAkU2VsZi0+e1RyYW5zbGF0aW9ufS0+eydMaXN0YSBvc29iJ30gICA9ICdMaXN0IG9mIHVzZXJzJzsKICAgICRTZWxmLT57VHJhbnNsYXRpb259LT57J1Byb2NlbnRvd3kgdWR6aWFsJ30gICA9ICdQZXJjZW50YWdlIGF2YWlsYWJpbGl0eSBvZiB3b3JrdGltZSc7CiAgICAkU2VsZi0+e1RyYW5zbGF0aW9ufS0+eyd3IGtvbGVqa2FjaCd9ICAgPSAnaW4gcXVldWVzOic7CiAgICAkU2VsZi0+e1RyYW5zbGF0aW9ufS0+eydaYXBpc3onfSAgID0gJ1NhdmUnOwoJCn0KCjE7Cg==</File>
        <File Location="Kernel/Language/en_GB_ITRMCustom.pm" Permission="644" Encode="Base64">IyAtLQojIEtlcm5lbC9MYW5ndWFnZS9lbl9HQl9JVFJNQ3VzdG9tLnBtIC0gcHJvdmlkZXMgeHggY3VzdG9tIGxhbmd1YWdlIHRyYW5zbGF0aW9uCiMgQ29weXJpZ2h0IChDKSAyMDAxLTIwMTMgT1RSUyBBRywgaHR0cDovL290cnMuY29tLwojIC0tCiMgVGhpcyBzb2Z0d2FyZSBjb21lcyB3aXRoIEFCU09MVVRFTFkgTk8gV0FSUkFOVFkuIEZvciBkZXRhaWxzLCBzZWUKIyB0aGUgZW5jbG9zZWQgZmlsZSBDT1BZSU5HIGZvciBsaWNlbnNlIGluZm9ybWF0aW9uIChBR1BMKS4gSWYgeW91CiMgZGlkIG5vdCByZWNlaXZlIHRoaXMgZmlsZSwgc2VlIGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy9hZ3BsLnR4dC4KIyAtLQoKcGFja2FnZSBLZXJuZWw6Okxhbmd1YWdlOjplbl9HQl9JVFJNQ3VzdG9tOwoKdXNlIHN0cmljdDsKdXNlIHdhcm5pbmdzOwoKc3ViIERhdGEgewogICAgbXkgJFNlbGYgPSBzaGlmdDsKCiAgICAjICQkU1RBUlQkJAoKICAgICMgb3duIHRyYW5zbGF0aW9ucwogICAgJFNlbGYtPntUcmFuc2xhdGlvbn0tPnsnV3ljZW4gemdsb3N6ZW5pZSd9ID0gJ0VzdGltYXRlIHdvcmtsb2FkIG9mIHRpY2tldCc7CiAgICAkU2VsZi0+e1RyYW5zbGF0aW9ufS0+eydaYXNvYnknfSA9ICdSZXNvdXJjZXMnOwogICAgJFNlbGYtPntUcmFuc2xhdGlvbn0tPnsnWmFzb2J5IHpnbG9zemVuaWEnfSA9ICdUaWNrZXQgcmVzb3VyY2VzJzsKICAgICRTZWxmLT57VHJhbnNsYXRpb259LT57J1ByemVsaWN6YSBkb3N0ZXBuZSBkbGEgb2tyZXNvdyB6YXNvYnknfSA9ICdSZWNhbGN1bGF0ZXMgYXZhaWxhYmxlIHJlc291cmNlcyBmb3IgcGVyaW9kcyBhZnRlciBxdWV1ZSBjYWxlbmRhciBjaGFuZ2UuJzsKICAgICRTZWxmLT57VHJhbnNsYXRpb259LT57J0tvbGVqa293YW5pZSB0aWNrZXRvdyd9ID0gJ1RpY2tldHMgcXVldWluZyc7CiAgICAkU2VsZi0+e1RyYW5zbGF0aW9ufS0+eydLb2xlamtvd2FuaWUnfSA9ICdRdWV1aW5nJzsKICAgICRTZWxmLT57VHJhbnNsYXRpb259LT57J0RvbXlzbG55IHN0YXR1cyBha3R1YWxuaWUgcmVhbGl6b3dhbmVnbyB0aWNrZXRhJ30gPSAnRGVmYXVsdCBzdGF0ZSBvZiBjdXJyZW50bHkgZXhlY3V0ZWQgdGlja2V0JzsKICAgICRTZWxmLT57VHJhbnNsYXRpb259LT57J1N0YXR1c3kgd3lzenVraXdhbnljaCBkbyBrb2xlamtvd2FuaWEgemdsb3N6ZW4nfSA9ICdUaWNrZXRzIGluIGZvbGxvd2luZyBzdGF0ZXMgc2hvdWxkIGJlIHF1ZXVlZCc7CiAgICAkU2VsZi0+e1RyYW5zbGF0aW9ufS0+eydQb2thenVqZSBsaW5rIHcgbWVudSBkbyB3eWNlbnkgemdsb3N6ZW5pYSd9ID0gJ1Nob3dzIHRpY2tldCBtZW51IGl0ZW0gZm9yIHdvcmtsb2FkIGVzdGltYXRpb24nOwoKICAgICMgb3IgYSBvdGhlciBzeW50YXggd291bGQgYmUKICAgICMgICAgJFNlbGYtPntUcmFuc2xhdGlvbn0gPSB7CiAgICAjICAgICAgICAleyRTZWxmLT57VHJhbnNsYXRpb259fSwKICAgICMgICAgICAgICMgb3duIHRyYW5zbGF0aW9ucwogICAgIyAgICAgICAgTG9jayA9PiAnTGFsYScsCiAgICAjICAgICAgICBVbkxvY2sgPT4gJ0x1bHUnLAogICAgIyAgICB9OwoKICAgICMgJCRTVE9QJCQKfQoKMTsK</File>
        <File Location="Kernel/Language/en_CA_ITRMKolejkowanieTicketow.pm" Permission="644" Encode="Base64">IyAtLQojIEtlcm5lbC9MYW5ndWFnZS9lbl9DQV9JVFJNS29sZWprb3dhbmllVGlja2V0b3cucG0gLSBwcm92aWRlcyB4eCBLZXJuZWwvTW9kdWxlcy8qLnBtIG1vZHVsZSBsYW5ndWFnZSB0cmFuc2xhdGlvbgojIENvcHlyaWdodCAoQykgMjAwMS0yMDEzIE9UUlMgQUcsIGh0dHA6Ly9vdHJzLmNvbS8KIyAtLQojIFRoaXMgc29mdHdhcmUgY29tZXMgd2l0aCBBQlNPTFVURUxZIE5PIFdBUlJBTlRZLiBGb3IgZGV0YWlscywgc2VlCiMgdGhlIGVuY2xvc2VkIGZpbGUgQ09QWUlORyBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbiAoQUdQTCkuIElmIHlvdQojIGRpZCBub3QgcmVjZWl2ZSB0aGlzIGZpbGUsIHNlZSBodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvYWdwbC50eHQuCiMgLS0KCnBhY2thZ2UgS2VybmVsOjpMYW5ndWFnZTo6ZW5fQ0FfSVRSTUtvbGVqa293YW5pZVRpY2tldG93OwoKdXNlIHN0cmljdDsKdXNlIHdhcm5pbmdzOwoKc3ViIERhdGEgewogICAgbXkgJFNlbGYgPSBzaGlmdDsKCiAgICAkU2VsZi0+e1RyYW5zbGF0aW9ufS0+eydLb2xlamt1aiB0aWNrZXR5J30gICA9ICdUaWNrZXRzIHF1ZXVpbmcnOwogICAgJFNlbGYtPntUcmFuc2xhdGlvbn0tPnsnS29sZWprYSd9ICAgPSAnUXVldWUnOwogICAgJFNlbGYtPntUcmFuc2xhdGlvbn0tPnsnQWtjamEnfSAgID0gJ0FjdGlvbic7CiAgICAkU2VsZi0+e1RyYW5zbGF0aW9ufS0+eydVcnVjaG9tIGtvbGVqa293YW5pZSd9ICAgPSAnUnVuIFRpY2tldHMgcXVldWluZyc7CiAgICAkU2VsZi0+e1RyYW5zbGF0aW9ufS0+eydVcnVjaG9tIG1vZHVsJ30gICA9ICdSdW4gSVRSTSBmb3IgcXVldWUnOwogICAgJFNlbGYtPntUcmFuc2xhdGlvbn0tPnsnVXJ1Y2hvbSBrb2xlamtvd2FuaWUnfSAgID0gJ1J1biBUaWNrZXRzIHF1ZXVpbmcnOwogICAgJFNlbGYtPntUcmFuc2xhdGlvbn0tPnsnV3luaWsgZGxhIGtvbGVqa2knfSAgID0gJ1Jlc3VsdCBmb3IgcXVldWUnOwogICAgJFNlbGYtPntUcmFuc2xhdGlvbn0tPnsnT2JlY25pZSByZWFsaXpvd2FuZSB6Z2xvc3plbmlhJ30gICA9ICdDdXJyZW50bHkgZXhlY3V0ZWQgdGlja2V0cyc7CiAgICAkU2VsZi0+e1RyYW5zbGF0aW9ufS0+eydTdGF0dXMnfSAgID0gJ1N0YXRlJzsKICAgICRTZWxmLT57VHJhbnNsYXRpb259LT57J1psZWNhamFjeSd9ICAgPSAnWmxlY2FqxIVjeSc7CiAgICAkU2VsZi0+e1RyYW5zbGF0aW9ufS0+eydPZHBvd2llZHppYWxueSd9ICAgPSAnUmVzcG9uc2libGUnOwogICAgJFNlbGYtPntUcmFuc2xhdGlvbn0tPnsnUHJpb3J5dGV0J30gICA9ICdQcmlvcml0eSc7CiAgICAkU2VsZi0+e1RyYW5zbGF0aW9ufS0+eydaYXNvYnknfSAgID0gJ1Jlc291cmNlcyc7CiAgICAkU2VsZi0+e1RyYW5zbGF0aW9ufS0+eydPa3JlcyByZWFsaXphY2ppJ30gICA9ICdQZXJpb2Qgb2YgZXhlY3V0aW9uJzsKICAgICRTZWxmLT57VHJhbnNsYXRpb259LT57J09rcmVzIG9kJ30gICA9ICdQZXJpb2QgZnJvbSAnOwogICAgJFNlbGYtPntUcmFuc2xhdGlvbn0tPnsnZG8nfSAgID0gJyB0byAnOwogICAgJFNlbGYtPntUcmFuc2xhdGlvbn0tPnsnWmFzb2J5IGRvc3RlcG5lIGRsYSBva3Jlc3UnfSAgID0gJ1Jlc291cmNlcyBhdmFpbGFibGUgZm9yIHBlcmlvZDogJzsKICAgICRTZWxmLT57VHJhbnNsYXRpb259LT57J1RpY2tldHkgbmllIGtvbGVqa293YW5lJ30gICA9ICdUaWNrZXRzIHdhaXRpbmcgZm9yIHF1ZXVpbmcnOwogICAgJFNlbGYtPntUcmFuc2xhdGlvbn0tPnsnWmFwaXN6IGtvbGVqbm9zYyd9ICAgPSAnU2F2ZSBvcmRlcic7CiAgICAkU2VsZi0+e1RyYW5zbGF0aW9ufS0+eydCcmFrIHd5c3RhcmN6YWphY2VqIGxpY3pieSBnb2R6aW4nfSAgID0gJ05vIGF2YWlsYWJsZSByZXNvdXJjZXMgZm9yIGV4ZWN1dGlvbiBvZiB0aGF0IHRpY2tldCBpbiBzZWxlY3RlZCBwZXJpb2QuJzsKCQp9CgoxOwo=</File>
        <File Location="Kernel/Language/en_CA_ITRMKolejkiZasoby.pm" Permission="644" Encode="Base64">IyAtLQojIEtlcm5lbC9MYW5ndWFnZS9lbl9DQV9JVFJNS29sZWpraVphc29ieS5wbSAtIHByb3ZpZGVzIHh4IEtlcm5lbC9Nb2R1bGVzLyoucG0gbW9kdWxlIGxhbmd1YWdlIHRyYW5zbGF0aW9uCiMgQ29weXJpZ2h0IChDKSAyMDAxLTIwMTMgT1RSUyBBRywgaHR0cDovL290cnMuY29tLwojIC0tCiMgVGhpcyBzb2Z0d2FyZSBjb21lcyB3aXRoIEFCU09MVVRFTFkgTk8gV0FSUkFOVFkuIEZvciBkZXRhaWxzLCBzZWUKIyB0aGUgZW5jbG9zZWQgZmlsZSBDT1BZSU5HIGZvciBsaWNlbnNlIGluZm9ybWF0aW9uIChBR1BMKS4gSWYgeW91CiMgZGlkIG5vdCByZWNlaXZlIHRoaXMgZmlsZSwgc2VlIGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy9hZ3BsLnR4dC4KIyAtLQoKcGFja2FnZSBLZXJuZWw6Okxhbmd1YWdlOjplbl9DQV9JVFJNS29sZWpraVphc29ieTsKCnVzZSBzdHJpY3Q7CnVzZSB3YXJuaW5nczsKCnN1YiBEYXRhIHsKICAgIG15ICRTZWxmID0gc2hpZnQ7CgogICAgJFNlbGYtPntUcmFuc2xhdGlvbn0tPnsnUG9sYWN6IGtvbGVqa2kgeiB6YXNvYmFtaSd9ICAgPSAnQXNzaWduIHJlc291cmNlcyB0byBxdWV1ZXMuJzsKICAgICRTZWxmLT57VHJhbnNsYXRpb259LT57J0tvbGVqa2ktWmFzb2J5J30gICA9ICdRdWV1ZXMgPC0+IFJlc291cmNlcyc7CiAgICAkU2VsZi0+e1RyYW5zbGF0aW9ufS0+eydQcnp5cGlzeiB6YXNvYnknfSAgID0gJ0Fzc2lnbiByZXNvdXJjZXMgdG8gcXVldWVzJzsKICAgICRTZWxmLT57VHJhbnNsYXRpb259LT57J1RhIGtvbGVqa2EgbmllIG1hIHByenlwaXNhbmVnbyBrYWxlbmRhcnphJ30gICA9ICdUaGF0IHF1ZXVlIGRvZXMgbm90IGhhdmUgY2FsZW5kYXIgYXNzaWduZWQhIFBsZWFzZSBhc3NpZ24gY2FsZW5kYXIgZG8gdGhlIHF1ZXVlISc7CiAgICAkU2VsZi0+e1RyYW5zbGF0aW9ufS0+eydLb2xlamtvd2FuaWUnfSAgID0gJ1RpY2tldHMgcXVldWluZyc7CiAgICAkU2VsZi0+e1RyYW5zbGF0aW9ufS0+eydLb2xlamtvd2FuaWUgdGlja2V0b3cnfSAgID0gJ1RpY2tldHMgcXVldWluZy4nOwogICAgJFNlbGYtPntUcmFuc2xhdGlvbn0tPnsnSVRSTSBLb2xlamtvd2FuaWUnfSAgID0gJ1ZpZXcgb2YgVGlja2V0cyBxdWV1aW5nJzsKICAgICRTZWxmLT57VHJhbnNsYXRpb259LT57J0lUUk0gS29sZWprb3dhbmllIG9waXMnfSAgID0gJ092ZXJ2aWV3IG9mIElUUk0gcmVzdWx0IGZvciBwYXJ0aWN1bGFyIHF1ZXVlcyc7CiAgICAkU2VsZi0+e1RyYW5zbGF0aW9ufS0+eydMaXN0YSBrb2xlamVrJ30gICA9ICdRdWV1ZSBsaXN0JzsKICAgICRTZWxmLT57VHJhbnNsYXRpb259LT57J1VydWNob20gbW9kdWwgbmEga29sZWpjZSd9ICAgPSAnUnVuIElUUk0gZm9yIHF1ZXVlJzsKICAgICRTZWxmLT57VHJhbnNsYXRpb259LT57J1VydWNob20gbW9kdWwgZGxhIGtvbGVqa2knfSAgID0gJ1J1biBJVFJNIGZvciBxdWV1ZSc7CiAgICAkU2VsZi0+e1RyYW5zbGF0aW9ufS0+eydEemllbiBwb2N6YXRrdSd9ICAgPSAnRGF5IG9mIHBlcmlvZCBiZWdpbjogJzsKICAgICRTZWxmLT57VHJhbnNsYXRpb259LT57J09rcmVzeSBkbGEga29sZWpraSd9ICAgPSAnUGVyaW9kcyBmb3IgcXVldWUgJzsKICAgICRTZWxmLT57VHJhbnNsYXRpb259LT57J1BvY3phdGVrJ30gICA9ICdCZWdpbiBvZiBwZXJpb2QnOwogICAgJFNlbGYtPntUcmFuc2xhdGlvbn0tPnsnS29uaWVjJ30gICA9ICdFbmQgb2YgcGVyaW9kJzsKICAgICRTZWxmLT57VHJhbnNsYXRpb259LT57J0Rvc3RlcG5lIHphc29ieSd9ICAgPSAnQXZhaWxhYmxlIHJlc291cmNlcyc7CiAgICAkU2VsZi0+e1RyYW5zbGF0aW9ufS0+eydEb2RhaiBva3Jlcyd9ICAgPSAnQWRkIG5ldyBwZXJpb2QnOwoJCn0KCjE7Cg==</File>
        <File Location="Kernel/Language/en_CA_ITRMAdminITRM.pm" Permission="644" Encode="Base64">77u/IyAtLQojIEtlcm5lbC9MYW5ndWFnZS9lbl9DQV9JVFJNQWRtaW5JVFJNLnBtIC0gcHJvdmlkZXMgeHggS2VybmVsL01vZHVsZXMvKi5wbSBtb2R1bGUgbGFuZ3VhZ2UgdHJhbnNsYXRpb24KIyBDb3B5cmlnaHQgKEMpIDIwMDEtMjAxMyBPVFJTIEFHLCBodHRwOi8vb3Rycy5jb20vCiMgLS0KIyBUaGlzIHNvZnR3YXJlIGNvbWVzIHdpdGggQUJTT0xVVEVMWSBOTyBXQVJSQU5UWS4gRm9yIGRldGFpbHMsIHNlZQojIHRoZSBlbmNsb3NlZCBmaWxlIENPUFlJTkcgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24gKEFHUEwpLiBJZiB5b3UKIyBkaWQgbm90IHJlY2VpdmUgdGhpcyBmaWxlLCBzZWUgaHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzL2FncGwudHh0LgojIC0tCgpwYWNrYWdlIEtlcm5lbDo6TGFuZ3VhZ2U6OmVuX0NBX0lUUk1BZG1pbklUUk07Cgp1c2Ugc3RyaWN0Owp1c2Ugd2FybmluZ3M7CgpzdWIgRGF0YSB7CiAgICBteSAkU2VsZiA9IHNoaWZ0OwoKICAgICRTZWxmLT57VHJhbnNsYXRpb259LT57J0lUUk0nfSAgID0gJ0lUUk0nOwogICAgJFNlbGYtPntUcmFuc2xhdGlvbn0tPnsnT3BjamUnfSAgID0gJ0lUUk0gb3B0aW9ucyc7CgkKfQoKMTsK</File>
        <File Location="Kernel/Language/en_CA_ITRMUzytkownicyDoKolejki.pm" Permission="644" Encode="Base64">IyAtLQojIEtlcm5lbC9MYW5ndWFnZS9lbl9DQV9JVFJNVXp5dGtvd25pY3lEb0tvbGVqa2kucG0gLSBwcm92aWRlcyB4eCBLZXJuZWwvTW9kdWxlcy8qLnBtIG1vZHVsZSBsYW5ndWFnZSB0cmFuc2xhdGlvbgojIENvcHlyaWdodCAoQykgMjAwMS0yMDEzIE9UUlMgQUcsIGh0dHA6Ly9vdHJzLmNvbS8KIyAtLQojIFRoaXMgc29mdHdhcmUgY29tZXMgd2l0aCBBQlNPTFVURUxZIE5PIFdBUlJBTlRZLiBGb3IgZGV0YWlscywgc2VlCiMgdGhlIGVuY2xvc2VkIGZpbGUgQ09QWUlORyBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbiAoQUdQTCkuIElmIHlvdQojIGRpZCBub3QgcmVjZWl2ZSB0aGlzIGZpbGUsIHNlZSBodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvYWdwbC50eHQuCiMgLS0KCnBhY2thZ2UgS2VybmVsOjpMYW5ndWFnZTo6ZW5fQ0FfSVRSTVV6eXRrb3duaWN5RG9Lb2xlamtpOwoKdXNlIHN0cmljdDsKdXNlIHdhcm5pbmdzOwoKc3ViIERhdGEgewogICAgbXkgJFNlbGYgPSBzaGlmdDsKCiAgICAkU2VsZi0+e1RyYW5zbGF0aW9ufS0+eydVenl0a293bmljeS1Lb2xlamtpJ30gICA9ICdVc2VycyA8LT4gUXVldWVzJzsKICAgICRTZWxmLT57VHJhbnNsYXRpb259LT57J1BvbGFjeiB1enl0a293bmlrb3cgeiBrb2xlamthbWknfSAgID0gJ0xpbmsgdXNlcnMgd2l0aCBxdWV1ZXMuJzsKICAgICRTZWxmLT57VHJhbnNsYXRpb259LT57J1ByenlwaXN6IG9zb2J5IGRvIGtvbGVqZWsnfSAgID0gJ1NldCBwZXJjZW50YWdlIGF2YWlsYWJpbGl0eSBvZiB1c2VyIGZvciBwYXJ0aWN1bGFyIHF1ZXVlcyc7CiAgICAkU2VsZi0+e1RyYW5zbGF0aW9ufS0+eydMaXN0YSBvc29iJ30gICA9ICdMaXN0IG9mIHVzZXJzJzsKICAgICRTZWxmLT57VHJhbnNsYXRpb259LT57J1Byb2NlbnRvd3kgdWR6aWFsJ30gICA9ICdQZXJjZW50YWdlIGF2YWlsYWJpbGl0eSBvZiB3b3JrdGltZSc7CiAgICAkU2VsZi0+e1RyYW5zbGF0aW9ufS0+eyd3IGtvbGVqa2FjaCd9ICAgPSAnaW4gcXVldWVzOic7CiAgICAkU2VsZi0+e1RyYW5zbGF0aW9ufS0+eydaYXBpc3onfSAgID0gJ1NhdmUnOwoJCn0KCjE7Cg==</File>
        <File Location="Kernel/Language/en_CA_ITRMCustom.pm" Permission="644" Encode="Base64">IyAtLQojIEtlcm5lbC9MYW5ndWFnZS9lbl9DQV9JVFJNQ3VzdG9tLnBtIC0gcHJvdmlkZXMgeHggY3VzdG9tIGxhbmd1YWdlIHRyYW5zbGF0aW9uCiMgQ29weXJpZ2h0IChDKSAyMDAxLTIwMTMgT1RSUyBBRywgaHR0cDovL290cnMuY29tLwojIC0tCiMgVGhpcyBzb2Z0d2FyZSBjb21lcyB3aXRoIEFCU09MVVRFTFkgTk8gV0FSUkFOVFkuIEZvciBkZXRhaWxzLCBzZWUKIyB0aGUgZW5jbG9zZWQgZmlsZSBDT1BZSU5HIGZvciBsaWNlbnNlIGluZm9ybWF0aW9uIChBR1BMKS4gSWYgeW91CiMgZGlkIG5vdCByZWNlaXZlIHRoaXMgZmlsZSwgc2VlIGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy9hZ3BsLnR4dC4KIyAtLQoKcGFja2FnZSBLZXJuZWw6Okxhbmd1YWdlOjplbl9DQV9JVFJNQ3VzdG9tOwoKdXNlIHN0cmljdDsKdXNlIHdhcm5pbmdzOwoKc3ViIERhdGEgewogICAgbXkgJFNlbGYgPSBzaGlmdDsKCiAgICAjICQkU1RBUlQkJAoKICAgICMgb3duIHRyYW5zbGF0aW9ucwogICAgJFNlbGYtPntUcmFuc2xhdGlvbn0tPnsnV3ljZW4gemdsb3N6ZW5pZSd9ID0gJ0VzdGltYXRlIHdvcmtsb2FkIG9mIHRpY2tldCc7CiAgICAkU2VsZi0+e1RyYW5zbGF0aW9ufS0+eydaYXNvYnknfSA9ICdSZXNvdXJjZXMnOwogICAgJFNlbGYtPntUcmFuc2xhdGlvbn0tPnsnWmFzb2J5IHpnbG9zemVuaWEnfSA9ICdUaWNrZXQgcmVzb3VyY2VzJzsKICAgICRTZWxmLT57VHJhbnNsYXRpb259LT57J1ByemVsaWN6YSBkb3N0ZXBuZSBkbGEgb2tyZXNvdyB6YXNvYnknfSA9ICdSZWNhbGN1bGF0ZXMgYXZhaWxhYmxlIHJlc291cmNlcyBmb3IgcGVyaW9kcyBhZnRlciBxdWV1ZSBjYWxlbmRhciBjaGFuZ2UuJzsKICAgICRTZWxmLT57VHJhbnNsYXRpb259LT57J0tvbGVqa293YW5pZSB0aWNrZXRvdyd9ID0gJ1RpY2tldHMgcXVldWluZyc7CiAgICAkU2VsZi0+e1RyYW5zbGF0aW9ufS0+eydLb2xlamtvd2FuaWUnfSA9ICdRdWV1aW5nJzsKICAgICRTZWxmLT57VHJhbnNsYXRpb259LT57J0RvbXlzbG55IHN0YXR1cyBha3R1YWxuaWUgcmVhbGl6b3dhbmVnbyB0aWNrZXRhJ30gPSAnRGVmYXVsdCBzdGF0ZSBvZiBjdXJyZW50bHkgZXhlY3V0ZWQgdGlja2V0JzsKICAgICRTZWxmLT57VHJhbnNsYXRpb259LT57J1N0YXR1c3kgd3lzenVraXdhbnljaCBkbyBrb2xlamtvd2FuaWEgemdsb3N6ZW4nfSA9ICdUaWNrZXRzIGluIGZvbGxvd2luZyBzdGF0ZXMgc2hvdWxkIGJlIHF1ZXVlZCc7CiAgICAkU2VsZi0+e1RyYW5zbGF0aW9ufS0+eydQb2thenVqZSBsaW5rIHcgbWVudSBkbyB3eWNlbnkgemdsb3N6ZW5pYSd9ID0gJ1Nob3dzIHRpY2tldCBtZW51IGl0ZW0gZm9yIHdvcmtsb2FkIGVzdGltYXRpb24nOwoKICAgICMgb3IgYSBvdGhlciBzeW50YXggd291bGQgYmUKICAgICMgICAgJFNlbGYtPntUcmFuc2xhdGlvbn0gPSB7CiAgICAjICAgICAgICAleyRTZWxmLT57VHJhbnNsYXRpb259fSwKICAgICMgICAgICAgICMgb3duIHRyYW5zbGF0aW9ucwogICAgIyAgICAgICAgTG9jayA9PiAnTGFsYScsCiAgICAjICAgICAgICBVbkxvY2sgPT4gJ0x1bHUnLAogICAgIyAgICB9OwoKICAgICMgJCRTVE9QJCQKfQoKMTsK</File>
        <File Location="Kernel/Output/HTML/NavBarModuleAdminITRM.pm" Permission="644" Encode="Base64">IyAtLQ0KIyBLZXJuZWwvT3V0cHV0L0hUTUwvTmF2QmFyTW9kdWxlQWRtaW5JVFJNLnBtDQojIENvcHlyaWdodCAoQykgMjAwMS0yMDEwIE9UUlMgQUcsIGh0dHA6Ly9vdHJzLm9yZy8NCiMgLS0NCiMgJElkOiBOYXZCYXJNb2R1bGVBZG1pbklUUk0ucG0sdiAxLjExIDIwMTAvMDcvMTUgMTI6MzE6NDUgbWcgRXhwICQNCiMgLS0NCiMgVGhpcyBzb2Z0d2FyZSBjb21lcyB3aXRoIEFCU09MVVRFTFkgTk8gV0FSUkFOVFkuIEZvciBkZXRhaWxzLCBzZWUNCiMgdGhlIGVuY2xvc2VkIGZpbGUgQ09QWUlORyBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbiAoQUdQTCkuIElmIHlvdQ0KIyBkaWQgbm90IHJlY2VpdmUgdGhpcyBmaWxlLCBzZWUgaHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzL2FncGwudHh0Lg0KIyAtLQ0KDQpwYWNrYWdlIEtlcm5lbDo6T3V0cHV0OjpIVE1MOjpOYXZCYXJNb2R1bGVBZG1pbklUUk07DQoNCnVzZSBzdHJpY3Q7DQp1c2Ugd2FybmluZ3M7DQoNCnVzZSB2YXJzIHF3KCRWRVJTSU9OKTsNCiRWRVJTSU9OID0gcXcoJFJldmlzaW9uOiAxLjExICQpIFsxXTsNCg0Kc3ViIG5ldyB7DQogICAgbXkgKCAkVHlwZSwgJVBhcmFtICkgPSBAXzsNCg0KICAgICMgYWxsb2NhdGUgbmV3IGhhc2ggZm9yIG9iamVjdA0KICAgIG15ICRTZWxmID0ge307DQogICAgYmxlc3MoICRTZWxmLCAkVHlwZSApOw0KDQogICAgIyBnZXQgbmVlZGVkIG9iamVjdHMNCiAgICBmb3IgKHF3KENvbmZpZ09iamVjdCBMb2dPYmplY3QgREJPYmplY3QgVGlja2V0T2JqZWN0IExheW91dE9iamVjdCBVc2VySUQpKSB7DQogICAgICAgICRTZWxmLT57JF99ID0gJFBhcmFteyRffSB8fCBkaWUgIkdvdCBubyAkXyEiOw0KICAgIH0NCiAgICByZXR1cm4gJFNlbGY7DQp9DQoNCnN1YiBSdW4gew0KICAgIG15ICggJFNlbGYsICVQYXJhbSApID0gQF87DQoNCiAgICAjIG9ubHkgc2hvdyBpdCBvbiBhZG1pbiBzdGFydCBzY3JlZW4NCiAgICByZXR1cm4gJycgaWYgJFNlbGYtPntMYXlvdXRPYmplY3R9LT57QWN0aW9ufSBuZSAnQWRtaW5JVFJNJzsNCg0KICAgICRTZWxmLT57TGF5b3V0T2JqZWN0fS0+QmxvY2soDQogICAgICAgIE5hbWUgPT4gJ0FkbWluTmF2QmFyJywNCiAgICAgICAgRGF0YSA9PiB7fSwNCiAgICApOw0KDQogICAgIyBnZXQgYWxsIEZyb250ZW5kOjpNb2R1bGUNCiAgICBteSAlTmF2QmFyTW9kdWxlOw0KICAgIG15ICRGcm9udGVuZE1vZHVsZUNvbmZpZyA9ICRTZWxmLT57Q29uZmlnT2JqZWN0fS0+R2V0KCdGcm9udGVuZDo6TW9kdWxlJyk7DQogICAgZm9yIG15ICRNb2R1bGUgKCBzb3J0IGtleXMgJXskRnJvbnRlbmRNb2R1bGVDb25maWd9ICkgew0KICAgICAgICBteSAlSGFzaCA9ICV7ICRGcm9udGVuZE1vZHVsZUNvbmZpZy0+eyRNb2R1bGV9IH07DQogICAgICAgIGlmICgNCiAgICAgICAgICAgICRIYXNoe05hdkJhck1vZHVsZX0NCiAgICAgICAgICAgICYmICRIYXNoe05hdkJhck1vZHVsZX0tPntNb2R1bGV9IGVxICdLZXJuZWw6Ok91dHB1dDo6SFRNTDo6TmF2QmFyTW9kdWxlQWRtaW5JVFJNJw0KICAgICAgICAgICAgKQ0KICAgICAgICB7DQoNCiAgICAgICAgICAgICMgY2hlY2sgcGVybWlzc2lvbnMgKG9ubHkgc2hvdyBhY2Nlc3NhYmxlIG1vZHVsZXMpDQogICAgICAgICAgICBteSAkU2hvd24gPSAwOw0KICAgICAgICAgICAgZm9yIG15ICRQZXJtaXNzaW9uIChxdyhHcm91cFJvIEdyb3VwKSkgew0KDQogICAgICAgICAgICAgICAgIyBhcnJheSBhY2Nlc3MgcmVzdHJpY3Rpb24NCiAgICAgICAgICAgICAgICBpZiAoICRIYXNoeyRQZXJtaXNzaW9ufSAmJiByZWYgJEhhc2h7JFBlcm1pc3Npb259IGVxICdBUlJBWScgKSB7DQogICAgICAgICAgICAgICAgICAgIGZvciAoIEB7ICRIYXNoeyRQZXJtaXNzaW9ufSB9ICkgew0KICAgICAgICAgICAgICAgICAgICAgICAgbXkgJEtleSA9ICdVc2VySXMnIC4gJFBlcm1pc3Npb24gLiAnWycgLiAkXyAuICddJzsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkU2VsZi0+e0xheW91dE9iamVjdH0tPnskS2V5fQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICYmICRTZWxmLT57TGF5b3V0T2JqZWN0fS0+eyRLZXl9IGVxICdZZXMnDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgKQ0KICAgICAgICAgICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICRTaG93biA9IDE7DQogICAgICAgICAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgICMgc2NhbGFyIGFjY2VzcyByZXN0cmljdGlvbg0KICAgICAgICAgICAgICAgIGVsc2lmICggJEhhc2h7JFBlcm1pc3Npb259ICkgew0KICAgICAgICAgICAgICAgICAgICBteSAkS2V5ID0gJ1VzZXJJcycgLiAkUGVybWlzc2lvbiAuICdbJyAuICRIYXNoeyRQZXJtaXNzaW9ufSAuICddJzsNCiAgICAgICAgICAgICAgICAgICAgaWYgKCAkU2VsZi0+e0xheW91dE9iamVjdH0tPnskS2V5fSAmJiAkU2VsZi0+e0xheW91dE9iamVjdH0tPnskS2V5fSBlcSAnWWVzJyApIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICRTaG93biA9IDE7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICAjIG5vIGFjY2VzcyByZXN0cmljdGlvbg0KICAgICAgICAgICAgICAgIGVsc2lmICggISRIYXNoe0dyb3VwUm99ICYmICEkSGFzaHtHcm91cH0gKSB7DQogICAgICAgICAgICAgICAgICAgICRTaG93biA9IDE7DQogICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICB9DQogICAgICAgICAgICBuZXh0IGlmICEkU2hvd247DQoNCiAgICAgICAgICAgIG15ICRLZXkgPSBzcHJpbnRmKCAiJTA3ZCIsICRIYXNoe05hdkJhck1vZHVsZX0tPntQcmlvfSB8fCAwICk7DQogICAgICAgICAgICBmb3IgKCAxIC4uIDUxICkgew0KICAgICAgICAgICAgICAgIGlmICggJE5hdkJhck1vZHVsZXskS2V5fSApIHsNCiAgICAgICAgICAgICAgICAgICAgJEhhc2h7TmF2QmFyTW9kdWxlfS0+e1ByaW99Kys7DQogICAgICAgICAgICAgICAgICAgICRLZXkgPSBzcHJpbnRmKCAiJTA3ZCIsICRIYXNoe05hdkJhck1vZHVsZX0tPntQcmlvfSApOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBpZiAoICEkTmF2QmFyTW9kdWxleyRLZXl9ICkgew0KICAgICAgICAgICAgICAgICAgICBsYXN0Ow0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgICROYXZCYXJNb2R1bGV7JEtleX0gPSB7DQogICAgICAgICAgICAgICAgJ0Zyb250ZW5kOjpNb2R1bGUnID0+ICRNb2R1bGUsDQogICAgICAgICAgICAgICAgJUhhc2gsDQogICAgICAgICAgICAgICAgJXsgJEhhc2h7TmF2QmFyTW9kdWxlfSB9LA0KICAgICAgICAgICAgfTsNCg0KICAgICAgICB9DQogICAgfQ0KICAgIG15ICVDb3VudDsNCiAgICBmb3IgbXkgJE1vZHVsZSAoIHNvcnQga2V5cyAlTmF2QmFyTW9kdWxlICkgew0KICAgICAgICBteSAkQmxvY2tOYW1lID0gJE5hdkJhck1vZHVsZXskTW9kdWxlfS0+e05hdkJhck1vZHVsZX0tPntCbG9ja30gfHwgJ0l0ZW0nOw0KICAgICAgICAkU2VsZi0+e0xheW91dE9iamVjdH0tPkJsb2NrKA0KICAgICAgICAgICAgTmFtZSA9PiAkQmxvY2tOYW1lLA0KICAgICAgICAgICAgRGF0YSA9PiAkTmF2QmFyTW9kdWxleyRNb2R1bGV9LA0KICAgICAgICApOw0KICAgICAgICBpZiAoICRDb3VudHskQmxvY2tOYW1lfSsrICUgMiApIHsNCiAgICAgICAgICAgICRTZWxmLT57TGF5b3V0T2JqZWN0fS0+QmxvY2soIE5hbWUgPT4gJEJsb2NrTmFtZSAuICdDbGVhcicgKTsNCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIG15ICRPdXRwdXQgPSAkU2VsZi0+e0xheW91dE9iamVjdH0tPk91dHB1dCgNCiAgICAgICAgVGVtcGxhdGVGaWxlID0+ICdBZG1pbk5hdmlnYXRpb25CYXJJVFJNJywNCiAgICAgICAgRGF0YSAgICAgICAgID0+IFwlUGFyYW0sDQogICAgKTsNCg0KICAgIHJldHVybiAkT3V0cHV0Ow0KfQ0KDQoxOw0K</File>
        <File Location="Kernel/Output/HTML/Standard/AgentTicketZasoby.dtl" Permission="644" Encode="Base64">IyAtLQojIEFnZW50VGlja2V0Q2xvc2UuZHRsIC0gcHJvdmlkZXMgSFRNTCBmb3JtIGZvciBjbG9zZSBtYXNrCiMgQ29weXJpZ2h0IChDKSAyMDAxLTIwMTMgT1RSUyBBRywgaHR0cDovL290cnMuY29tLwojIC0tCiMgVGhpcyBzb2Z0d2FyZSBjb21lcyB3aXRoIEFCU09MVVRFTFkgTk8gV0FSUkFOVFkuIEZvciBkZXRhaWxzLCBzZWUKIyB0aGUgZW5jbG9zZWQgZmlsZSBDT1BZSU5HIGZvciBsaWNlbnNlIGluZm9ybWF0aW9uIChBR1BMKS4gSWYgeW91CiMgZGlkIG5vdCByZWNlaXZlIHRoaXMgZmlsZSwgc2VlIGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy9hZ3BsLnR4dC4KIyAtLQoKJEluY2x1ZGV7IkFnZW50VGlja2V0QWN0aW9uQ29tbW9uIn0K</File>
        <File Location="Kernel/Output/HTML/Standard/KolejkowanieTicketow.dtl" Permission="644" Encode="Base64">IyAtLQ0KIyBLb2xlamtpWmFzb2J5LmR0bCAtIHByb3ZpZGVzIEhUTUwgZm9ybSBmb3IgS29sZWpraVphc29ieQ0KIyBDb3B5cmlnaHQgKEMpIDIwMDEtMjAxMiBPVFJTIEFHLCBodHRwOi8vb3Rycy5vcmcvDQojIC0tDQojICRJZDogS29sZWpraVphc29ieS5kdGwsdiAxLjI2IDIwMTIvMDEvMDkgMTQ6MDQ6MjkgbWcgRXhwICQNCiMgLS0NCiMgVGhpcyBzb2Z0d2FyZSBjb21lcyB3aXRoIEFCU09MVVRFTFkgTk8gV0FSUkFOVFkuIEZvciBkZXRhaWxzLCBzZWUNCiMgdGhlIGVuY2xvc2VkIGZpbGUgQ09QWUlORyBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbiAoQUdQTCkuIElmIHlvdQ0KIyBkaWQgbm90IHJlY2VpdmUgdGhpcyBmaWxlLCBzZWUgaHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzL2FncGwudHh0Lg0KIyAtLQ0KDQo8IS0tIGR0bDpibG9jazpPdmVydmlldyAtLT4NCg0KPGRpdiBjbGFzcz0iTWFpbkJveCBBUklBUm9sZU1haW4gTGF5b3V0Rml4ZWRTaWRlYmFyIFNpZGViYXJGaXJzdCI+DQogICAgPGgxPiRUZXh0eyJLb2xlamt1aiB0aWNrZXR5In08L2gxPg0KICAgIDxkaXYgY2xhc3M9IkNvbnRlbnRDb2x1bW4iPgkNCjwhLS0gZHRsOmJsb2NrOk92ZXJ2aWV3UmVzdWx0IC0tPg0KICAgICAgICA8ZGl2IGNsYXNzPSJXaWRnZXRTaW1wbGUiPg0KICAgICAgICAgICAgPGRpdiBjbGFzcz0iSGVhZGVyIj4NCiAgICAgICAgICAgICAgICA8aDI+JFRleHR7Ikxpc3QifTwvaDI+DQogICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgIDxkaXYgY2xhc3M9IkNvbnRlbnQiPg0KICAgICAgICAgICAgICAgIDx0YWJsZSBjbGFzcz0iRGF0YVRhYmxlIiBpZD0idGFiZWxha29sZWprb3dhbmlhIj4NCiAgICAgICAgICAgICAgICAgICAgPHRoZWFkPg0KICAgICAgICAgICAgICAgICAgICAgICAgPHRyPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0aD4kVGV4dHsiS29sZWprYSJ9PC90aD4NCgkJCQkJCQk8dGggY29sc3Bhbj0iMiI+JFRleHR7IkFrY2phIn08L3RoPg0KICAgICAgICAgICAgICAgICAgICAgICAgPC90cj4NCiAgICAgICAgICAgICAgICAgICAgPC90aGVhZD4NCiAgICAgICAgICAgICAgICAgICAgPHRib2R5Pg0KPCEtLSBkdGw6YmxvY2s6Tm9EYXRhRm91bmRNc2cgLS0+DQogICAgICAgICAgICAgICAgICAgICAgICA8dHI+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkIGNvbHNwYW49IjIiPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkVGV4dHsiTm8gZGF0YSBmb3VuZC4ifQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdGQ+DQogICAgICAgICAgICAgICAgICAgICAgICA8L3RyPg0KPCEtLSBkdGw6YmxvY2s6Tm9EYXRhRm91bmRNc2cgLS0+DQo8IS0tIGR0bDpibG9jazpPdmVydmlld1Jlc3VsdFJvdyAtLT4NCiAgICAgICAgICAgICAgICAgICAgICAgIDx0cj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQ+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGNsYXNzPSJBc0Jsb2NrIiBocmVmPSIkRW52eyJCYXNlbGluayJ9QWN0aW9uPSRFbnZ7IkFjdGlvbiJ9O1N1YmFjdGlvbj1XeW5paztRdWV1ZUlEPSRMUURhdGF7IlF1ZXVlSUQifSI+JFFEYXRheyJOYW1lIn08L2E+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90ZD4NCgkJCQkJCQk8dGQgY2xhc3M9ImtvbnRlbmVyYWtjamkiPg0KPCEtLSBkdGw6YmxvY2s6T3ZlcnZpZXdSZXN1bHRSb3dSdW5Lb2xlamtvd2FuaWUgLS0+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgY2xhc3M9IkNhbGxGb3JBY3Rpb24iIGhyZWY9IiRFbnZ7IkJhc2VsaW5rIn1BY3Rpb249JEVudnsiQWN0aW9uIn07U3ViYWN0aW9uPUtvbGVqa3VqO1F1ZXVlSUQ9JExRRGF0YXsiUXVldWVJRCJ9Ij48c3Bhbj4kVGV4dHsiVXJ1Y2hvbSBrb2xlamtvd2FuaWUifTwvc3Bhbj48L2E+DQo8IS0tIGR0bDpibG9jazpPdmVydmlld1Jlc3VsdFJvd1J1bktvbGVqa293YW5pZSAtLT4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RkPg0KCQkJCQkJCTx0ZCBjbGFzcz0ia29udGVuZXJha2NqaSI+DQo8IS0tIGR0bDpibG9jazpPdmVydmlld1Jlc3VsdFJvd1J1bk1vZHVsZSAtLT4JCQkJCQkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgY2xhc3M9IkNhbGxGb3JBY3Rpb24iIGhyZWY9IiRFbnZ7IkJhc2VsaW5rIn1BY3Rpb249S29sZWpraVphc29ieTtTdWJhY3Rpb249Q2hhbmdlO1F1ZXVlSUQ9JExRRGF0YXsiUXVldWVJRCJ9Ij48c3Bhbj4kVGV4dHsiVXJ1Y2hvbSBtb2R1bCJ9PC9zcGFuPjwvYT4NCjwhLS0gZHRsOmJsb2NrOk92ZXJ2aWV3UmVzdWx0Um93UnVuTW9kdWxlIC0tPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdGQ+DQogICAgICAgICAgICAgICAgICAgICAgICA8L3RyPg0KPCEtLSBkdGw6YmxvY2s6T3ZlcnZpZXdSZXN1bHRSb3cgLS0+DQogICAgICAgICAgICAgICAgICAgIDwvdGJvZHk+DQogICAgICAgICAgICAgICAgPC90YWJsZT4NCiAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICA8L2Rpdj4NCjwhLS0gZHRsOmJsb2NrOk92ZXJ2aWV3UmVzdWx0IC0tPg0KICAgIDwvZGl2Pg0KICAgIDxkaXYgY2xhc3M9IkNsZWFyIj48L2Rpdj4NCjwvZGl2Pg0KPCEtLSBkdGw6YmxvY2s6T3ZlcnZpZXcgLS0+DQo8IS0tIGR0bDpibG9jazpFZGl0UmVzdWx0T3ZlcnZpZXcgLS0+DQo8ZGl2IGNsYXNzPSJNYWluQm94IEFSSUFSb2xlTWFpbiBMYXlvdXRGaXhlZFNpZGViYXIgU2lkZWJhckZpcnN0IiBpZD0idGFiZWxha29sZWprb3dhbmlhc2VjIj4NCiAgICA8IS0tPGgxPiRUZXh0eyJLb2xlamt1aiB0aWNrZXR5In08L2gxPi0tPg0KICAgIDxkaXYgY2xhc3M9IkNvbnRlbnRDb2x1bW4iPg0KCQk8ZGl2IGNsYXNzPSJXaWRnZXRTaW1wbGUiPg0KICAgICAgICAgICAgPGRpdiBjbGFzcz0iSGVhZGVyIj4NCiAgICAgICAgICAgICAgICA8aDI+JFRleHR7Ild5bmlrIGRsYSBrb2xlamtpIn0gJFFEYXRheyJOYW1lIn08L2gyPg0KICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICA8ZGl2IGNsYXNzPSJDb250ZW50Ij4NCgkJCTxmb3JtIGFjdGlvbj0iJEVudnsiQ0dJSGFuZGxlIn0iIG1ldGhvZD0icG9zdCIgY2xhc3M9IlZhbGlkYXRlIFByZXZlbnRNdWx0aXBsZVN1Ym1pdHMiPg0KCQkJCTxpbnB1dCB0eXBlPSJoaWRkZW4iIG5hbWU9IkFjdGlvbiIgdmFsdWU9IiRFbnZ7IkFjdGlvbiJ9Ii8+DQoJCQkJPGlucHV0IHR5cGU9ImhpZGRlbiIgbmFtZT0iU3ViYWN0aW9uIiB2YWx1ZT0iU2F2ZSIvPg0KCQkJCTxpbnB1dCB0eXBlPSJoaWRkZW4iIG5hbWU9IlF1ZXVlSUQiIHZhbHVlPSIkUURhdGF7IlF1ZXVlSUQifSIvPgkNCjwhLS0gZHRsOmJsb2NrOk9iZWNuaWVSZWFsaXpvd2FuZSAtLT4JCQkNCgkJCQk8ZGl2IGNsYXNzPSJXaWRnZXRTaW1wbGUiPg0KCQkJCQk8ZGl2IGNsYXNzPSJIZWFkZXIiPg0KCQkJCQkJPGgyPiRUZXh0eyJPYmVjbmllIHJlYWxpem93YW5lIHpnbG9zemVuaWEifTwvaDI+DQoJCQkJCTwvZGl2Pg0KCQkJCQk8ZGl2IGNsYXNzPSJDb250ZW50Ij4NCgkJCQkJCTx0YWJsZSBjbGFzcz0iRGF0YVRhYmxlIiBpZD0idGFiZWxhYWt0dWFsbmllIj4NCgkJCQkJCQk8dGhlYWQ+DQoJCQkJCQkJCTx0cj4NCgkJCQkJCQkJCTx0aD4kVGV4dHsiVGlja2V0IE51bWJlciJ9PC90aD4NCgkJCQkJCQkJCTx0aD4kVGV4dHsiVGl0bGUifTwvdGg+DQoJCQkJCQkJCQk8dGg+JFRleHR7IlN0YXR1cyJ9PC90aD4NCgkJCQkJCQkJCTx0aD4kVGV4dHsiWmxlY2FqYWN5In08L3RoPg0KCQkJCQkJCQkJPHRoPiRUZXh0eyJPZHBvd2llZHppYWxueSJ9PC90aD4NCgkJCQkJCQkJCTx0aD4kVGV4dHsiUHJpb3J5dGV0In08L3RoPg0KCQkJCQkJCQkJPHRoPiRUZXh0eyJaYXNvYnkifTwvdGg+DQoJCQkJCQkJCTwvdHI+DQoJCQkJCQkJPC90aGVhZD4NCgkJCQkJCQk8dGJvZHk+DQo8IS0tIGR0bDpibG9jazpPYmVjbmllUmVhbGl6b3dhbmVSZXN1bHRSb3cgLS0+DQoJCQkJCQkJCTx0cj4NCgkJCQkJCQkJCTx0ZCBjbGFzcz0nJFFEYXRheyJLbGFzYVByemV0ZXJtaW5vd2FuaWEifSc+DQoJCQkJCQkJCQkJPGEgaHJlZj0iJEVudnsiQmFzZWxpbmsifUFjdGlvbj1BZ2VudFRpY2tldFpvb207VGlja2V0SUQ9JERhdGF7IlRpY2tldElEIn0iIHRpdGxlPSIkUURhdGF7IlRpdGxlIn0iIGNsYXNzPSJBc0Jsb2NrIE1hc3RlckFjdGlvbkxpbmsiPiRRRGF0YXsiVGlja2V0TnVtYmVyIn08L2E+DQoJCQkJCQkJCQk8L3RkPg0KCQkJCQkJCQkJPHRkIGNsYXNzPSckUURhdGF7IktsYXNhUHJ6ZXRlcm1pbm93YW5pYSJ9Jz4NCgkJCQkJCQkJCQk8ZGl2IHRpdGxlPSIkUURhdGF7IlRpY2tldFRpdGxlIn0iIHN0eWxlPSd3aWR0aDozMDBweDsnPiRRRGF0YXsiVGl0bGUiLCIxNTAifTwvZGl2Pg0KCQkJCQkJCQkJPC90ZD4NCgkJCQkJCQkJCTx0ZCBjbGFzcz0nJFFEYXRheyJLbGFzYVByemV0ZXJtaW5vd2FuaWEifSc+DQoJCQkJCQkJCQkJJFRleHR7IiRRRGF0YXsiU3RhdGUifSJ9DQoJCQkJCQkJCQk8L3RkPg0KCQkJCQkJCQkJPHRkIGNsYXNzPSckUURhdGF7IktsYXNhUHJ6ZXRlcm1pbm93YW5pYSJ9Jz4kUURhdGF7IkN1c3RvbWVyTmFtZSJ9PC90ZD4NCgkJCQkJCQkJCTx0ZCBjbGFzcz0nJFFEYXRheyJLbGFzYVByemV0ZXJtaW5vd2FuaWEifSc+JFFEYXRheyJSZXNwb25zaWJsZU5hbWUifTwvdGQ+DQoJCQkJCQkJCQk8dGQgY2xhc3M9JyRRRGF0YXsiS2xhc2FQcnpldGVybWlub3dhbmlhIn0nPg0KCQkJCQkJCQkJCSRRRGF0YXsiUHJpb3JpdHkifQ0KCQkJCQkJCQkJPC90ZD4NCgkJCQkJCQkJCTx0ZCBjbGFzcz0nJFFEYXRheyJLbGFzYVByemV0ZXJtaW5vd2FuaWEifSc+JFFEYXRheyJEeW5hbWljRmllbGRfWmFzb2J5In08L3RkPg0KCQkJCQkJCQk8L3RyPg0KPCEtLSBkdGw6YmxvY2s6T2JlY25pZVJlYWxpem93YW5lUmVzdWx0Um93IC0tPgkNCjwhLS0gZHRsOmJsb2NrOk9iZWNuaWVSZWFsaXpvd2FuZU5vRGF0YUZvdW5kTXNnIC0tPg0KCQkJCQkJCQk8dHI+DQoJCQkJCQkJCQk8dGQgY29sc3Bhbj0iNyI+DQoJCQkJCQkJCQkJJFRleHR7Ik5vIGRhdGEgZm91bmQuIn0NCgkJCQkJCQkJCTwvdGQ+DQoJCQkJCQkJCTwvdHI+DQo8IS0tIGR0bDpibG9jazpPYmVjbmllUmVhbGl6b3dhbmVOb0RhdGFGb3VuZE1zZyAtLT4JCQkJCQkJDQoJCQkJCQkJPC90Ym9keT4NCgkJCQkJCTwvdGFibGU+DQoJCQkJCTwvZGl2Pg0KCQkJCTwvZGl2Pg0KPCEtLSBkdGw6YmxvY2s6T2JlY25pZVJlYWxpem93YW5lIC0tPg0KCQkJPGZpZWxkc2V0Pg0KPCEtLSBkdGw6YmxvY2s6T2tyZXN5IC0tPgkJCQ0KCQkJCTxkaXYgY2xhc3M9IldpZGdldFNpbXBsZSI+DQoJCQkJCTxkaXYgY2xhc3M9IkhlYWRlciI+DQoJCQkJCQk8aDI+JFRleHR7Ik9rcmVzIG9kIn0kUURhdGF7Im9kIn0kVGV4dHsiZG8ifSRRRGF0YXsiZG8ifSA8c3BhbiBzdHlsZT0iZmxvYXQ6IHJpZ2h0OyI+JFRleHR7Ilphc29ieSBkb3N0ZXBuZSBkbGEgb2tyZXN1In08aW5wdXQgaWQ9Inphc29ieV9tYXhfbnJfJFFEYXRheyJpZCJ9IiB0eXBlPSJ0ZXh0IiByZWFkb25seT0icmVhZG9ubHkiIHZhbHVlPSIkUURhdGF7Inphc29ieW1heCJ9IiBuYW1lPSJ6YXNvYnlfbWF4X25yXyRRRGF0YXsiaWQifSIgc3R5bGU9IndpZHRoOiA1MHB4OyBoZWlnaHQ6IDEwcHg7IHRleHQtYWxpZ246IGNlbnRlcjsiPjwvc3Bhbj48L2gyPg0KCQkJCQk8L2Rpdj4NCgkJCQkJPGRpdiBjbGFzcz0iQ29udGVudCI+DQoJCQkJCQk8dGFibGUgY2xhc3M9InRhYmxlc29ydGVyIERhdGFUYWJsZSIgaWQ9InRhYmVsYW9rcmVzdV8kUURhdGF7ImlkIn0iPg0KCQkJCQkJCTx0aGVhZD4NCgkJCQkJCQkJPHRyPg0KCQkJCQkJCQkJPHRoPiRUZXh0eyJUaWNrZXQgTnVtYmVyIn08L3RoPg0KCQkJCQkJCQkJPHRoPiRUZXh0eyJUaXRsZSJ9PC90aD4NCgkJCQkJCQkJCTx0aD4kVGV4dHsiU3RhdHVzIn08L3RoPg0KCQkJCQkJCQkJPHRoPiRUZXh0eyJabGVjYWphY3kifTwvdGg+DQoJCQkJCQkJCQk8dGg+JFRleHR7Ik9kcG93aWVkemlhbG55In08L3RoPg0KCQkJCQkJCQkJPHRoPiRUZXh0eyJQcmlvcnl0ZXQifTwvdGg+DQoJCQkJCQkJCQkNCgkJCQkJCQkJCTx0aD4kVGV4dHsiT2tyZXMgcmVhbGl6YWNqaSJ9PC90aD4NCgkJCQkJCQkJCTx0aD4kVGV4dHsiWmFzb2J5In08L3RoPg0KCQkJCQkJCQk8L3RyPg0KCQkJCQkJCTwvdGhlYWQ+DQoJCQkJCQkJPHRib2R5IGlkPSdzb3J0YWJsZV8kUURhdGF7ImlkIn0nIG9rZXJzaWQ9JyRRRGF0YXsiaWQifSc+DQo8IS0tIGR0bDpibG9jazpPa3Jlc3lSZXN1bHRSb3cgLS0+DQoJCQkJCQkJCTx0ciBjbGFzcz0iTWFzdGVyQWN0aW9uIj4NCgkJCQkJCQkJCTx0ZD4NCgkJCQkJCQkJCQk8YSBocmVmPSIkRW52eyJCYXNlbGluayJ9QWN0aW9uPUFnZW50VGlja2V0Wm9vbTtUaWNrZXRJRD0kRGF0YXsiVGlja2V0SUQifSIgdGl0bGU9IiRRRGF0YXsiVGl0bGUifSIgY2xhc3M9IkFzQmxvY2sgTWFzdGVyQWN0aW9uTGluayI+JFFEYXRheyJUaWNrZXROdW1iZXIifTwvYT4NCgkJCQkJCQkJCTwvdGQ+DQoJCQkJCQkJCQk8dGQ+DQoJCQkJCQkJCQkJPGRpdiB0aXRsZT0iJFFEYXRheyJUaWNrZXRUaXRsZSJ9IiBzdHlsZT0nd2lkdGg6MzAwcHg7Jz4kUURhdGF7IlRpdGxlIiwiMTUwIn08L2Rpdj4NCgkJCQkJCQkJCTwvdGQ+DQoJCQkJCQkJCQk8dGQ+DQoJCQkJCQkJCQkJJFRleHR7IiRRRGF0YXsiU3RhdGUifSJ9DQoJCQkJCQkJCQk8L3RkPg0KCQkJCQkJCQkJPHRkPiRRRGF0YXsiQ3VzdG9tZXJOYW1lIn08L3RkPg0KCQkJCQkJCQkJPHRkPiRRRGF0YXsiUmVzcG9uc2libGVOYW1lIn08L3RkPg0KCQkJCQkJCQkJPHRkPg0KCQkJCQkJCQkJCSRRRGF0YXsiUHJpb3JpdHkifQ0KCQkJCQkJCQkJPC90ZD4NCgkJCQkJCQkJCQ0KCQkJCQkJCQkJPHRkIGNsYXNzPSJva3Jlc3JlYWxpemFjamkiPg0KPCEtLSBkdGw6YmxvY2s6T2tyZXN5U2VsZWN0YSAtLT4NCgkJCQkJCQkJCQk8c2VsZWN0IGlkPSdjaGFuZ2Vfb2tyZXNfcmVhbGl6YWNqaV8kUURhdGF7ImlkIn1fJFFEYXRheyJUaWNrZXRJRCJ9JyBuYW1lPSdjaGFuZ2Vfb2tyZXNfcmVhbGl6YWNqaV8kUURhdGF7ImlkIn1fJFFEYXRheyJUaWNrZXRJRCJ9JyB0aWNrZXR6YXNvYnk9JyRRRGF0YXsiRHluYW1pY0ZpZWxkX1phc29ieSJ9JyB0aWNrZXRpZD0nJFFEYXRheyJUaWNrZXRJRCJ9JyBvbGR2YWw9JyRRRGF0YXsiaWQifSc+DQo8IS0tIGR0bDpibG9jazpPa3Jlc3lTZWxlY3RhUmVzdWx0Um93IC0tPg0KCQkJCQkJCQkJCQk8b3B0aW9uIHZhbHVlPSckUURhdGF7ImlkIn0nICRRRGF0YXsic2VsZWN0ZWQifSA+JFFEYXRheyJvZCJ9JFRleHR7IiAtICJ9JFFEYXRheyJkbyJ9PC9vcHRpb24+DQo8IS0tIGR0bDpibG9jazpPa3Jlc3lTZWxlY3RhUmVzdWx0Um93IC0tPgkJCQkJCQkJCQkNCgkJCQkJCQkJCQk8L3NlbGVjdD4NCjwhLS0gZHRsOmJsb2NrOk9rcmVzeVNlbGVjdGEgLS0+DQo8IS0tIGR0bDpibG9jazpPa3Jlc3lOb1NlbGVjdGEgLS0+DQoJCQkJCQkJCQkJJFFEYXRheyJvZCJ9JFRleHR7IiAtICJ9JFFEYXRheyJkbyJ9DQo8IS0tIGR0bDpibG9jazpPa3Jlc3lOb1NlbGVjdGEgLS0+DQoJCQkJCQkJCQk8L3RkPg0KCQkJCQkJCQkJPHRkIGNsYXNzPSJ6YXNvYnRpY2tldGEiPiRRRGF0YXsiemFzb2J5d29rcmVzaWUifS8kUURhdGF7IkR5bmFtaWNGaWVsZF9aYXNvYnkifTwvdGQ+DQoJCQkJCQkJCQk8dGQgc3R5bGU9J2Rpc3BsYXk6bm9uZTsnPjxpbnB1dCB0eXBlPSdoaWRkZW4nIGlkPSdrb2xlam5vc2NfJFFEYXRheyJpZCJ9XyRRRGF0YXsiVGlja2V0SUQifScgbmFtZT0na29sZWpub3NjXyRRRGF0YXsiaWQifV8kUURhdGF7IlRpY2tldElEIn0nIHZhbHVlPSckUURhdGF7InBvenljamEifScgIC8+DQoJCQkJCQkJCQk8aW5wdXQgdHlwZT0naGlkZGVuJyBpZD0nemFzb2J5XyRRRGF0YXsiaWQifV8kUURhdGF7IlRpY2tldElEIn0nIG5hbWU9J3phc29ieV8kUURhdGF7ImlkIn1fJFFEYXRheyJUaWNrZXRJRCJ9JyB2YWx1ZT0nJFFEYXRheyJEeW5hbWljRmllbGRfWmFzb2J5In0nICAvPg0KCQkJCQkJCQkJDQoJCQkJCQkJCQk8L3RkPg0KCQkJCQkJCQk8L3RyPg0KPCEtLSBkdGw6YmxvY2s6T2tyZXN5UmVzdWx0Um93IC0tPg0KPCEtLSBkdGw6YmxvY2s6T2tyZXN5Tm9EYXRhRm91bmRNc2cgLS0+DQoJCQkJCQkJCTx0cj4NCgkJCQkJCQkJCTx0ZCBjb2xzcGFuPSI4IiBjbGFzcz0ibm9kYXRhZm91bmQiPg0KCQkJCQkJCQkJCSRUZXh0eyJObyBkYXRhIGZvdW5kLiJ9DQoJCQkJCQkJCQk8L3RkPg0KCQkJCQkJCQk8L3RyPg0KPCEtLSBkdGw6YmxvY2s6T2tyZXN5Tm9EYXRhRm91bmRNc2cgLS0+CQkNCgkJCQkJCQk8L3Rib2R5Pg0KCQkJCQkJPC90YWJsZT4NCgkJCQkJPC9kaXY+DQoJCQkJPC9kaXY+DQo8IS0tIGR0bDpibG9jazpPa3Jlc3kgLS0+DQoJCQk8L2ZpZWxkc2V0Pg0KPCEtLSBkdGw6YmxvY2s6T2N6ZWt1amFjZSAtLT4JCQkNCgkJCQk8ZGl2IGNsYXNzPSJXaWRnZXRTaW1wbGUiPg0KCQkJCQk8ZGl2IGNsYXNzPSJIZWFkZXIiPg0KCQkJCQkJPGgyPiRUZXh0eyJUaWNrZXR5IG5pZSBrb2xlamtvd2FuZSJ9PC9oMj4NCgkJCQkJPC9kaXY+DQoJCQkJCTxkaXYgY2xhc3M9IkNvbnRlbnQiPg0KCQkJCQkJPHRhYmxlIGNsYXNzPSJEYXRhVGFibGUiIGlkPSJ0YWJlbGFrb2xlamtvd2FuaWEiPg0KCQkJCQkJCTx0aGVhZD4NCgkJCQkJCQkJPHRyPg0KCQkJCQkJCQkJPHRoPiRUZXh0eyJUaWNrZXQgTnVtYmVyIn08L3RoPg0KCQkJCQkJCQkJPHRoPiRUZXh0eyJUaXRsZSJ9PC90aD4NCgkJCQkJCQkJCTx0aD4kVGV4dHsiU3RhdHVzIn08L3RoPg0KCQkJCQkJCQkJPHRoPiRUZXh0eyJabGVjYWphY3kifTwvdGg+DQoJCQkJCQkJCQk8dGg+JFRleHR7Ik9kcG93aWVkemlhbG55In08L3RoPg0KCQkJCQkJCQkJPHRoPiRUZXh0eyJQcmlvcnl0ZXQifTwvdGg+DQoJCQkJCQkJCQk8dGg+JFRleHR7Ilphc29ieSJ9PC90aD4NCgkJCQkJCQkJPC90cj4NCgkJCQkJCQk8L3RoZWFkPg0KCQkJCQkJCTx0Ym9keT4NCjwhLS0gZHRsOmJsb2NrOk9jemVrdWphY2VSZXN1bHRSb3cgLS0+DQoJCQkJCQkJCTx0cj4NCgkJCQkJCQkJCTx0ZD4NCgkJCQkJCQkJCQk8YSBocmVmPSIkRW52eyJCYXNlbGluayJ9QWN0aW9uPUFnZW50VGlja2V0Wm9vbTtUaWNrZXRJRD0kRGF0YXsiVGlja2V0SUQifSIgdGl0bGU9IiRRRGF0YXsiVGl0bGUifSIgY2xhc3M9IkFzQmxvY2sgTWFzdGVyQWN0aW9uTGluayI+JFFEYXRheyJUaWNrZXROdW1iZXIifTwvYT4NCgkJCQkJCQkJCTwvdGQ+DQoJCQkJCQkJCQk8dGQ+DQoJCQkJCQkJCQkJPGRpdiB0aXRsZT0iJFFEYXRheyJUaWNrZXRUaXRsZSJ9IiBzdHlsZT0nd2lkdGg6MzAwcHg7Jz4kUURhdGF7IlRpdGxlIiwiMTUwIn08L2Rpdj4NCgkJCQkJCQkJCTwvdGQ+DQoJCQkJCQkJCQk8dGQ+DQoJCQkJCQkJCQkJJFRleHR7IiRRRGF0YXsiU3RhdGUifSJ9DQoJCQkJCQkJCQk8L3RkPg0KCQkJCQkJCQkJPHRkPiRRRGF0YXsiQ3VzdG9tZXJOYW1lIn08L3RkPg0KCQkJCQkJCQkJPHRkPiRRRGF0YXsiUmVzcG9uc2libGVOYW1lIn08L3RkPg0KCQkJCQkJCQkJPHRkPg0KCQkJCQkJCQkJCSRRRGF0YXsiUHJpb3JpdHkifQ0KCQkJCQkJCQkJPC90ZD4NCgkJCQkJCQkJCQ0KCQkJCQkJCQkJPHRkPiRRRGF0YXsiRHluYW1pY0ZpZWxkX1phc29ieSJ9PC90ZD4NCgkJCQkJCQkJPC90cj4NCjwhLS0gZHRsOmJsb2NrOk9jemVrdWphY2VSZXN1bHRSb3cgLS0+DQo8IS0tIGR0bDpibG9jazpPY3pla3VqYWNlTm9EYXRhRm91bmRNc2cgLS0+DQoJCQkJCQkJCTx0cj4NCgkJCQkJCQkJCTx0ZCBjb2xzcGFuPSI4Ij4NCgkJCQkJCQkJCQkkVGV4dHsiTm8gZGF0YSBmb3VuZC4ifQ0KCQkJCQkJCQkJPC90ZD4NCgkJCQkJCQkJPC90cj4NCjwhLS0gZHRsOmJsb2NrOk9jemVrdWphY2VOb0RhdGFGb3VuZE1zZyAtLT4JCQ0KCQkJCQkJCTwvdGJvZHk+DQoJCQkJCQk8L3RhYmxlPg0KCQkJCQk8L2Rpdj4NCgkJCQk8L2Rpdj4NCjwhLS0gZHRsOmJsb2NrOk9jemVrdWphY2UgLS0+DQoJCQkNCgkJCTxidXR0b24gY2xhc3M9IlByaW1hcnkiIGlkPSJTdWJtaXQiIHR5cGU9InN1Ym1pdCIgdmFsdWU9IiRUZXh0eyJTdWJtaXQifSI+JFRleHR7IlphcGlzeiBrb2xlam5vc2MifTwvYnV0dG9uPg0KCQkJPC9mb3JtPgkNCgkJCTwvZGl2Pg0KCQk8L2Rpdj4NCgk8L2Rpdj4NCjwvZGl2Pg0KPGRpdiBpZD0iZGlhbG9nLWNvbmZpcm0iIHN0eWxlPSdkaXNwbGF5Om5vbmU7Jz4NCgk8cD48c3BhbiBjbGFzcz0idWktaWNvbiB1aS1pY29uLWFsZXJ0IiBzdHlsZT0iZmxvYXQ6bGVmdDsgbWFyZ2luOjAgN3B4IDIwcHggMDsiPjwvc3Bhbj4kVGV4dHsiQnJhayB3eXN0YXJjemFqYWNlaiBsaWN6YnkgZ29kemluIn08L3A+DQo8L2Rpdj4JDQo8IS0tIGR0bDpibG9jazpFZGl0UmVzdWx0T3ZlcnZpZXcgLS0+</File>
        <File Location="Kernel/Output/HTML/Standard/KolejkiZasoby.dtl" Permission="644" Encode="Base64">IyAtLQ0KIyBLb2xlamtpWmFzb2J5LmR0bCAtIHByb3ZpZGVzIEhUTUwgZm9ybSBmb3IgS29sZWpraVphc29ieQ0KIyBDb3B5cmlnaHQgKEMpIDIwMDEtMjAxMiBPVFJTIEFHLCBodHRwOi8vb3Rycy5vcmcvDQojIC0tDQojICRJZDogS29sZWpraVphc29ieS5kdGwsdiAxLjI2IDIwMTIvMDEvMDkgMTQ6MDQ6MjkgbWcgRXhwICQNCiMgLS0NCiMgVGhpcyBzb2Z0d2FyZSBjb21lcyB3aXRoIEFCU09MVVRFTFkgTk8gV0FSUkFOVFkuIEZvciBkZXRhaWxzLCBzZWUNCiMgdGhlIGVuY2xvc2VkIGZpbGUgQ09QWUlORyBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbiAoQUdQTCkuIElmIHlvdQ0KIyBkaWQgbm90IHJlY2VpdmUgdGhpcyBmaWxlLCBzZWUgaHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzL2FncGwudHh0Lg0KIyAtLQ0KDQo8IS0tIGR0bDpibG9jazpPdmVydmlldyAtLT4NCg0KPGRpdiBjbGFzcz0iTWFpbkJveCBBUklBUm9sZU1haW4gTGF5b3V0Rml4ZWRTaWRlYmFyIFNpZGViYXJGaXJzdCI+DQogICAgPGgxPiRUZXh0eyJQcnp5cGlzeiB6YXNvYnkifTwvaDE+DQogICAgPGRpdiBjbGFzcz0iQ29udGVudENvbHVtbiI+DQoJDQo8IS0tIGR0bDpibG9jazpPdmVydmlld0tvbXVuaWthdCAtLT4JDQoJPGRpdiBjbGFzcz0iV2lkZ2V0U2ltcGxlIj4NCiAgICAgICAgICAgIDxkaXYgY2xhc3M9IkNvbnRlbnQiPg0KCQkJCTxkaXYgc3R5bGU9ImJhY2tncm91bmQ6IHJlZDsgcGFkZGluZzogMTBweDsgZm9udC13ZWlnaHQ6IGJvbGQ7Ij4NCgkJCQkJPHA+DQoJCQkJCQkkVGV4dHsiVGEga29sZWprYSBuaWUgbWEgcHJ6eXBpc2FuZWdvIGthbGVuZGFyemEifQ0KCQkJCQk8L3A+DQoJCQkJPC9kaXY+DQoJCQkJPC9kaXY+DQoJPC9kaXY+DQo8IS0tIGR0bDpibG9jazpPdmVydmlld0tvbXVuaWthdCAtLT4JDQoJDQo8IS0tIGR0bDpibG9jazpPdmVydmlld1Jlc3VsdCAtLT4NCiAgICAgICAgPGRpdiBjbGFzcz0iV2lkZ2V0U2ltcGxlIj4NCiAgICAgICAgICAgIDxkaXYgY2xhc3M9IkhlYWRlciI+DQogICAgICAgICAgICAgICAgPGgyPiRUZXh0eyJMaXN0YSBrb2xlamVrIn08L2gyPg0KICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICA8ZGl2IGNsYXNzPSJDb250ZW50Ij4NCiAgICAgICAgICAgICAgICA8dGFibGUgY2xhc3M9IkRhdGFUYWJsZSI+DQogICAgICAgICAgICAgICAgICAgIDx0aGVhZD4NCiAgICAgICAgICAgICAgICAgICAgICAgIDx0cj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGg+JFRleHR7Ik5hbWUifTwvdGg+DQogICAgICAgICAgICAgICAgICAgICAgICA8L3RyPg0KICAgICAgICAgICAgICAgICAgICA8L3RoZWFkPg0KICAgICAgICAgICAgICAgICAgICA8dGJvZHk+DQo8IS0tIGR0bDpibG9jazpOb0RhdGFGb3VuZE1zZyAtLT4NCiAgICAgICAgICAgICAgICAgICAgICAgIDx0cj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQgY29sc3Bhbj0iNiI+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRUZXh0eyJObyBkYXRhIGZvdW5kLiJ9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90ZD4NCiAgICAgICAgICAgICAgICAgICAgICAgIDwvdHI+DQo8IS0tIGR0bDpibG9jazpOb0RhdGFGb3VuZE1zZyAtLT4NCjwhLS0gZHRsOmJsb2NrOk92ZXJ2aWV3UmVzdWx0Um93IC0tPg0KICAgICAgICAgICAgICAgICAgICAgICAgPHRyPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZD4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgY2xhc3M9IkFzQmxvY2siIGhyZWY9IiRFbnZ7IkJhc2VsaW5rIn1BY3Rpb249JEVudnsiQWN0aW9uIn07U3ViYWN0aW9uPUNoYW5nZTtRdWV1ZUlEPSRMUURhdGF7IlF1ZXVlSUQifSI+JFFEYXRheyJOYW1lIn08L2E+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90ZD4NCiAgICAgICAgICAgICAgICAgICAgICAgIDwvdHI+DQo8IS0tIGR0bDpibG9jazpPdmVydmlld1Jlc3VsdFJvdyAtLT4NCiAgICAgICAgICAgICAgICAgICAgPC90Ym9keT4NCiAgICAgICAgICAgICAgICA8L3RhYmxlPg0KICAgICAgICAgICAgPC9kaXY+DQogICAgICAgIDwvZGl2Pg0KPCEtLSBkdGw6YmxvY2s6T3ZlcnZpZXdSZXN1bHQgLS0+DQoNCjwhLS0gZHRsOmJsb2NrOk92ZXJ2aWV3VXBkYXRlIC0tPg0KICAgICAgICA8ZGl2IGNsYXNzPSJXaWRnZXRTaW1wbGUiPg0KICAgICAgICAgICAgPGRpdiBjbGFzcz0iSGVhZGVyIj4NCiAgICAgICAgICAgICAgICA8aDI+JFRleHR7IlVydWNob20gbW9kdWwgZGxhIGtvbGVqa2kifSAkUURhdGF7Ik5hbWUifTwvaDI+DQogICAgICAgICAgICA8L2Rpdj4NCgkJCSA8ZGl2IGNsYXNzPSJDb250ZW50Ij4NCgkJCSA8Zm9ybSBhY3Rpb249IiRFbnZ7IkNHSUhhbmRsZSJ9IiBtZXRob2Q9InBvc3QiIGNsYXNzPSJWYWxpZGF0ZSBQcmV2ZW50TXVsdGlwbGVTdWJtaXRzIj4NCgkJCQk8aW5wdXQgdHlwZT0iaGlkZGVuIiBuYW1lPSJBY3Rpb24iIHZhbHVlPSIkRW52eyJBY3Rpb24ifSIvPg0KICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJoaWRkZW4iIG5hbWU9IlN1YmFjdGlvbiIgdmFsdWU9IlJ1bk1vZHVsZSIvPg0KICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJoaWRkZW4iIG5hbWU9IlF1ZXVlSUQiIHZhbHVlPSIkUURhdGF7IlF1ZXVlSUQifSIvPg0KCQkJCTxmaWVsZHNldD4NCgkJCQkJPGxhYmVsIGZvcj0iRGF0YVN0YXJ0dSI+JFRleHR7IkR6aWVuIHBvY3phdGt1In08L2xhYmVsPg0KCQkJCQk8aW5wdXQgaWQ9ImRhdGFzdGFydHUiIHZhbHVlPSIiIG5hbWU9IkRhdGFTdGFydHUiIHR5cGU9InRleHQiIHRhYmluZGV4PSIxIiAvPg0KCQkJCTwvZmllbGRzZXQ+DQoJCQkJDQoJCQkJPGJ1dHRvbiBjbGFzcz0iUHJpbWFyeSIgaWQ9IlN1Ym1pdCIgdHlwZT0ic3VibWl0IiB2YWx1ZT0iJFRleHR7IlN1Ym1pdCJ9Ij4kVGV4dHsiVXJ1Y2hvbSBtb2R1bCBuYSBrb2xlamNlIn08L2J1dHRvbj4NCgkJCSA8L2Zvcm0+DQoJCQkgPC9kaXY+DQogICAgICAgIDwvZGl2Pg0KPCEtLSBkdGw6YmxvY2s6T3ZlcnZpZXdVcGRhdGUgLS0+CQkJDQo8IS0tIGR0bDpibG9jazpPdmVydmlld0FkZCAtLT4NCiAgICAgICAgPGRpdiBjbGFzcz0iV2lkZ2V0U2ltcGxlIj4NCiAgICAgICAgICAgIDxkaXYgY2xhc3M9IkhlYWRlciI+DQogICAgICAgICAgICAgICAgPGgyPiRUZXh0eyJPa3Jlc3kgZGxhIGtvbGVqa2kifSRRRGF0YXsiTmFtZSJ9PC9oMj4NCiAgICAgICAgICAgIDwvZGl2Pg0KCQkJIDxkaXYgY2xhc3M9IkNvbnRlbnQiPg0KCQkJIDxmb3JtIGFjdGlvbj0iJEVudnsiQ0dJSGFuZGxlIn0iIG1ldGhvZD0icG9zdCIgY2xhc3M9IlZhbGlkYXRlIFByZXZlbnRNdWx0aXBsZVN1Ym1pdHMiPg0KCQkJCTxpbnB1dCB0eXBlPSJoaWRkZW4iIG5hbWU9IkFjdGlvbiIgdmFsdWU9IiRFbnZ7IkFjdGlvbiJ9Ii8+DQogICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9ImhpZGRlbiIgbmFtZT0iU3ViYWN0aW9uIiB2YWx1ZT0iRG9kYWpPa3JlcyIvPg0KICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJoaWRkZW4iIG5hbWU9IlF1ZXVlSUQiIHZhbHVlPSIkUURhdGF7IlF1ZXVlSUQifSIvPg0KPCEtLSBkdGw6YmxvY2s6T3ZlcnZpZXdsTGljemJhT2tyZXNvdyAtLT4NCgkJCQk8aW5wdXQgaWQ9ImxpY3piYW9rcmVzb3ciIHR5cGU9ImhpZGRlbiIgbmFtZT0iTGljemJhT2tyZXNvdyIgdmFsdWU9IiRRRGF0YXsiTGN6aWJhT2tyZXNvdyJ9Ii8+DQo8IS0tIGR0bDpibG9jazpPdmVydmlld2xMaWN6YmFPa3Jlc293IC0tPg0KCQkJCTxmaWVsZHNldD4NCgkJCQkJPHRhYmxlIGNsYXNzPSJEYXRhVGFibGUiIGlkPSJva3Jlc3l0YWJsZSI+DQoJCQkJCQk8dGhlYWQ+DQoJCQkJCQkJPHRyIGNsYXNzPSJzdWJuYWdsb3dlayI+DQoJCQkJCQkJCTx0aD4kVGV4dHsiUG9jemF0ZWsifTwvdGg+PHRoPiRUZXh0eyJLb25pZWMifTwvdGg+PHRoPiRUZXh0eyJEb3N0ZXBuZSB6YXNvYnkifTwvdGg+DQoJCQkJCQkJPC90cj4NCgkJCQkJCTwvdGhlYWQ+DQoJCQkJCQk8dGJvZHk+DQo8IS0tIGR0bDpibG9jazpPdmVydmlld0N5a2xlUmVzdWx0Um93IC0tPg0KCQkJCQkJCTx0cj4NCgkJCQkJCQkJPHRkPg0KCQkJCQkJCQkJPGlucHV0IGlkPSJvZF9ucl8kUURhdGF7Im51bWVyIn0iIHR5cGU9InRleHQiIHZhbHVlPSIkUURhdGF7Im9kIn0iIHJlYWRvbmx5PSJyZWFkb25seSIgbmFtZT0ib2RfbnJfJFFEYXRheyJudW1lciJ9IiBhcmlhLWludmFsaWQ9ImZhbHNlIj4NCgkJCQkJCQkJPC90ZD4NCgkJCQkJCQkJPHRkPg0KCQkJCQkJCQkJPGlucHV0IGlkPSJkb19ucl8kUURhdGF7Im51bWVyIn0iIHR5cGU9InRleHQiIHZhbHVlPSIkUURhdGF7ImRvIn0iIHJlYWRvbmx5PSJyZWFkb25seSIgbmFtZT0iZG9fbnJfJFFEYXRheyJudW1lciJ9IiBhcmlhLWludmFsaWQ9ImZhbHNlIj4NCgkJCQkJCQkJPC90ZD4NCgkJCQkJCQkJPHRkPg0KCQkJCQkJCQkJPGlucHV0IGlkPSJ6YXNvYnlfbWF4X25yXyRRRGF0YXsibnVtZXIifSIgdHlwZT0idGV4dCIgcmVhZG9ubHk9InJlYWRvbmx5IiB2YWx1ZT0iJFFEYXRheyJ6YXNvYnltYXgifSIgbmFtZT0iemFzb2J5X21heF9ucl8kUURhdGF7Im51bWVyIn0iIGFyaWEtaW52YWxpZD0iZmFsc2UiPiA8IS0tIGggLS0+DQoJCQkJCQkJCTwvdGQ+DQoJCQkJCQkJPC90cj4NCjwhLS0gZHRsOmJsb2NrOk92ZXJ2aWV3Q3lrbGVSZXN1bHRSb3cgLS0+DQoJCQkJCQk8L3Rib2R5Pg0KCQkJCQk8L3RhYmxlPg0KCQkJCTwvZmllbGRzZXQ+DQo8IS0tIGR0bDpibG9jazpPdmVydmlld0J1dHRvbkRvZGFqIC0tPgkJCQ0KCQkJCTxidXR0b24gY2xhc3M9IlByaW1hcnkiIGlkPSJTdWJtaXQiIHR5cGU9InN1Ym1pdCIgdmFsdWU9IiRUZXh0eyJTdWJtaXQifSI+JFRleHR7IkRvZGFqIG9rcmVzIn08L2J1dHRvbj4NCjwhLS0gZHRsOmJsb2NrOk92ZXJ2aWV3QnV0dG9uRG9kYWogLS0+CQ0KCQkJIDwvZm9ybT4NCgkJCSA8L2Rpdj4NCiAgICAgICAgPC9kaXY+DQo8IS0tIGR0bDpibG9jazpPdmVydmlld0FkZCAtLT4NCiAgICA8L2Rpdj4NCiAgICA8ZGl2IGNsYXNzPSJDbGVhciI+PC9kaXY+DQo8L2Rpdj4NCjwhLS0gZHRsOmJsb2NrOk92ZXJ2aWV3IC0tPg0K</File>
        <File Location="Kernel/Output/HTML/Standard/AdminNavigationBarITRM.dtl" Permission="644" Encode="Base64">IyAtLQ0KIyBBZG1pbk5hdmlnYXRpb25CYXJJVFJNLmR0bCAtIHByb3ZpZGVzIGdsb2JhbCBIVE1MIE5hdmlnYXRpb25CYXINCiMgQ29weXJpZ2h0IChDKSAyMDAxLTIwMTAgT1RSUyBBRywgaHR0cDovL290cnMub3JnLw0KIyAtLQ0KIyAkSWQ6IEFkbWluTmF2aWdhdGlvbkJhcklUUk0uZHRsLHYgMS40NSAyMDEwLzA3LzE5IDIwOjE2OjE3IGR6IEV4cCAkDQojIC0tDQojIFRoaXMgc29mdHdhcmUgY29tZXMgd2l0aCBBQlNPTFVURUxZIE5PIFdBUlJBTlRZLiBGb3IgZGV0YWlscywgc2VlDQojIHRoZSBlbmNsb3NlZCBmaWxlIENPUFlJTkcgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24gKEFHUEwpLiBJZiB5b3UNCiMgZGlkIG5vdCByZWNlaXZlIHRoaXMgZmlsZSwgc2VlIGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy9hZ3BsLnR4dC4NCiMgLS0NCjwhLS0gZHRsOmJsb2NrOkFkbWluTmF2QmFyIC0tPg0KPGRpdiBjbGFzcz0iTWFpbkJveCBBUklBUm9sZU1haW4gQWRtaW4iPg0KICAgIDxoMT4kVGV4dHsiSVRSTSJ9PC9oMT4NCiAgICA8ZGl2IGlkPSJSb3cxIiBjbGFzcz0iTGF5b3V0R3JpZCBDb2x1bW5zV2l0aFNwYWNpbmciPg0KICAgICAgICA8ZGl2IGNsYXNzPSJTaXplMW9mMyI+DQogICAgICAgICAgICA8ZGl2IGNsYXNzPSJXaWRnZXRTaW1wbGUiPg0KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9IkhlYWRlciI+DQoJCQkJPGgyPiRUZXh0eyJPcGNqZSJ9PC9oMj4NCiAgICAgICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJDb250ZW50Ij4NCiAgICAgICAgICAgICAgICAgICAgPHVsIGNsYXNzPSJMYXlvdXRHcmlkIENvbHVtbnNXaXRoU3BhY2luZyI+DQo8IS0tIGR0bDpibG9jazpabWlhbnkgLS0+DQogICAgICAgICAgICAgICAgICAgICAgICA8bGkgY2xhc3M9IlNpemUxb2YyIj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDQ+PHNwYW4+JFRleHR7IiREYXRheyJOYW1lIn0ifTwvc3Bhbj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgY2xhc3M9IkFzQmxvY2siIGhyZWY9IiRFbnZ7IkJhc2VsaW5rIn1BY3Rpb249JExRRGF0YXsiRnJvbnRlbmQ6Ok1vZHVsZSJ9Ij4kVGV4dHsiJERhdGF7Ik5hbWUifSJ9PC9hPjwvaDQ+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzPSJGaWVsZEV4cGxhbmF0aW9uIj4kVGV4dHsiJERhdGF7IkRlc2NyaXB0aW9uIn0ifTwvcD4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2xpPg0KPCEtLSBkdGw6YmxvY2s6Wm1pYW55Q2xlYXIgLS0+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpIGNsYXNzPSJDbGVhciI+PC9saT4NCjwhLS0gZHRsOmJsb2NrOlptaWFueUNsZWFyIC0tPg0KPCEtLSBkdGw6YmxvY2s6Wm1pYW55IC0tPg0KICAgICAgICAgICAgICAgICAgICAgICAgPC91bD4NCg0KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgDQogICAgICAgICAgICA8ZGl2IGNsYXNzPSJDbGVhciI+PC9kaXY+DQogICAgICAgIDwvZGl2Pg0KICAgIDwvZGl2Pg0KPCEtLSBkdGw6YmxvY2s6QWRtaW5OYXZCYXIgLS0+DQo=</File>
        <File Location="Kernel/Output/HTML/Standard/UzytkownicyKolejki.dtl" Permission="644" Encode="Base64">IyAtLQ0KIyBVenl0a293bmljeUtvbGVqa2kuZHRsIC0gcHJvdmlkZXMgSFRNTCBmb3JtIGZvciBVenl0a293bmljeUtvbGVqa2kNCiMgQ29weXJpZ2h0IChDKSAyMDAxLTIwMTIgT1RSUyBBRywgaHR0cDovL290cnMub3JnLw0KIyAtLQ0KIyAkSWQ6IFV6eXRrb3duaWN5S29sZWpraS5kdGwsdiAxLjI2IDIwMTIvMDEvMDkgMTQ6MDQ6MjkgbWcgRXhwICQNCiMgLS0NCiMgVGhpcyBzb2Z0d2FyZSBjb21lcyB3aXRoIEFCU09MVVRFTFkgTk8gV0FSUkFOVFkuIEZvciBkZXRhaWxzLCBzZWUNCiMgdGhlIGVuY2xvc2VkIGZpbGUgQ09QWUlORyBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbiAoQUdQTCkuIElmIHlvdQ0KIyBkaWQgbm90IHJlY2VpdmUgdGhpcyBmaWxlLCBzZWUgaHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzL2FncGwudHh0Lg0KIyAtLQ0KDQo8IS0tIGR0bDpibG9jazpPdmVydmlldyAtLT4NCg0KPGRpdiBjbGFzcz0iTWFpbkJveCBBUklBUm9sZU1haW4gTGF5b3V0Rml4ZWRTaWRlYmFyIFNpZGViYXJGaXJzdCI+DQogICAgPGgxPiRUZXh0eyJQcnp5cGlzeiBvc29ieSBkbyBrb2xlamVrIn08L2gxPg0KCQ0KICAgIDxkaXYgY2xhc3M9IkNvbnRlbnRDb2x1bW4iPg0KPCEtLSBkdGw6YmxvY2s6T3ZlcnZpZXdSZXN1bHQgLS0+DQoJPGRpdiBjbGFzcz0iV2lkZ2V0U2ltcGxlIj4NCiAgICAgICAgICAgIDxkaXYgY2xhc3M9IkhlYWRlciI+DQogICAgICAgICAgICAgICAgPGgyPiRUZXh0eyJMaXN0YSBvc29iIn08L2gyPg0KICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICA8ZGl2IGNsYXNzPSJDb250ZW50Ij4NCgkJCTx0YWJsZSBjbGFzcz0iRGF0YVRhYmxlIiBpZD0iVXNlciI+DQoJCQkJPHRoZWFkPg0KCQkJCQk8dHI+DQoJCQkJCQk8dGg+JFRleHR7IlVzZXJuYW1lIn08L3RoPg0KCQkJCQk8L3RyPg0KCQkJCTwvdGhlYWQ+DQoJCQkJPHRib2R5Pg0KPCEtLSBkdGw6YmxvY2s6T3ZlcnZpZXdSZXN1bHRSb3cgLS0+DQoJCQkJCTx0cj4NCgkJCQkJCTx0ZD4NCgkJCQkJCQk8YSBjbGFzcz0iQXNCbG9jayIgaHJlZj0iJEVudnsiQmFzZWxpbmsifUFjdGlvbj0kRW52eyJBY3Rpb24ifTtTdWJhY3Rpb249Q2hhbmdlO1VzZXJJRD0kTFFEYXRheyJVc2VySUQifSI+JFFEYXRheyJVc2VyTG9naW4ifSAoJFFEYXRheyJVc2VyRmlyc3RuYW1lIn0gJFFEYXRheyJVc2VyTGFzdG5hbWUifSk8L2E+DQoJCQkJCQk8L3RkPg0KCQkJCQk8L3RyPg0KPCEtLSBkdGw6YmxvY2s6T3ZlcnZpZXdSZXN1bHRSb3cgLS0+DQo8IS0tIGR0bDpibG9jazpOb0RhdGFGb3VuZE1zZyAtLT4NCgkJCQkJPHRyPg0KCQkJCQkJPHRkPg0KCQkJCQkJCSRUZXh0eyJObyBkYXRhIGZvdW5kLiJ9DQoJCQkJCQk8L3RkPg0KCQkJCQk8L3RyPg0KPCEtLSBkdGw6YmxvY2s6Tm9EYXRhRm91bmRNc2cgLS0+DQoJCQkJPC90Ym9keT4NCiAgICAgICAgICAgIDwvdGFibGU+DQoJCTwvZGl2Pg0KCQk8L2Rpdj4NCjwhLS0gZHRsOmJsb2NrOk92ZXJ2aWV3UmVzdWx0IC0tPg0KPCEtLSBkdGw6YmxvY2s6VXNlck92ZXJ2aWV3UmVzdWx0IC0tPg0KCQk8ZGl2IGNsYXNzPSJXaWRnZXRTaW1wbGUiPg0KICAgICAgICAgICAgPGRpdiBjbGFzcz0iSGVhZGVyIj4NCiAgICAgICAgICAgICAgICA8aDI+JFRleHR7IlByb2NlbnRvd3kgdWR6aWFsIn0gJFFEYXRheyJVc2VyTG9naW4ifSAkVGV4dHsidyBrb2xlamthY2gifTwvaDI+DQogICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgIDxkaXYgY2xhc3M9IkNvbnRlbnQiPg0KPCEtLSBkdGw6YmxvY2s6VXNlck92ZXJ2aWV3Rm9ybSAtLT4JCQ0KCQkJPGZvcm0gYWN0aW9uPSIkRW52eyJDR0lIYW5kbGUifSIgbWV0aG9kPSJwb3N0IiBjbGFzcz0iVmFsaWRhdGUgUHJldmVudE11bHRpcGxlU3VibWl0cyI+DQoJCQkJPGlucHV0IHR5cGU9ImhpZGRlbiIgbmFtZT0iQWN0aW9uIiB2YWx1ZT0iJEVudnsiQWN0aW9uIn0iLz4NCiAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0iaGlkZGVuIiBuYW1lPSJTdWJhY3Rpb24iIHZhbHVlPSJTYXZlIi8+DQogICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9ImhpZGRlbiIgbmFtZT0iVXNlcklEIiB2YWx1ZT0iJFFEYXRheyJVc2VySUQifSIvPg0KCQkJCTxmaWVsZHNldD4NCgkJCQk8dGFibGUgaWQ9IlVzZXJPdmVydmlld1Jlc3VsdFRhYmxlIj4NCgkJCQkJPCEtLTx0aGVhZD4NCgkJCQkJCTx0cj4NCgkJCQkJCQk8dGg+JFRleHR7Ik5hbWUifTwvdGg+DQoJCQkJCQk8L3RyPg0KCQkJCQk8L3RoZWFkPg0KCQkJCQk8dGJvZHk+LS0+DQoJCQkJCTx0cj4NCgkJCQkJCTx0ZD4NCgkJCQkJCQkJDQoJCQkJCQk8L3RkPg0KCQkJCQkJPHRkPg0KCQkJCQkJCTxpbnB1dCBpZD0ib2dvbGVtIiB2YWx1ZT0iJFFEYXRheyJTdW1hWmFzb2JvdyJ9IiBzaXplPSIyIiBuYW1lPSJvZ29sZW0iIHJlYWRvbmx5PSJyZWFkb25seSIgdHlwZT0idGV4dCIgdGFiaW5kZXg9IjEiIC8+ICUNCgkJCQkJCTwvdGQ+DQoJCQkJCTwvdHI+DQo8IS0tIGR0bDpibG9jazpVc2VyT3ZlcnZpZXdSZXN1bHRSb3cgLS0+DQoJCQkJCQk8dHI+DQoJCQkJCQkJPHRkPg0KCQkJCQkJCQkkUURhdGF7Ik5hbWUifQ0KCQkJCQkJCTwvdGQ+DQoJCQkJCQkJPHRkPg0KCQkJCQkJCQk8aW5wdXQgaWQ9InByb2NlbnR5XyRRRGF0YXsiUXVldWVJRCJ9IiB2YWx1ZT0iJFFEYXRheyJQcnp5ZHppZWxvbmVaYXNvYnkifSIgc2l6ZT0iMiIgbmFtZT0icHJvY2VudHlfJFFEYXRheyJRdWV1ZUlEIn0iIHR5cGU9InRleHQiIHRhYmluZGV4PSIxIiAvPiAlDQoJCQkJCQkJPC90ZD4NCgkJCQkJCTwvdHI+DQo8IS0tIGR0bDpibG9jazpVc2VyT3ZlcnZpZXdSZXN1bHRSb3cgLS0+DQoJCQkJCTwvdGJvZHk+DQogICAgICAgICAgICAgICAgPC90YWJsZT4NCgkJCTwvZmllbGRzZXQ+DQoJCQkJDQoJCQkJPGJ1dHRvbiBjbGFzcz0iUHJpbWFyeSIgaWQ9IlN1Ym1pdCIgdHlwZT0ic3VibWl0IiB2YWx1ZT0iJFRleHR7IlN1Ym1pdCJ9Ij4kVGV4dHsiWmFwaXN6In08L2J1dHRvbj4NCgkJCSA8L2Zvcm0+DQo8IS0tIGR0bDpibG9jazpVc2VyT3ZlcnZpZXdGb3JtIC0tPg0KPCEtLSBkdGw6YmxvY2s6VXNlck92ZXJ2aWV3Tm9EYXRhRm91bmRNc2cgLS0+DQoJCQk8dGFibGU+DQoJCQkJPHRyPg0KCQkJCQk8dGQ+DQoJCQkJCQkkVGV4dHsiTm8gZGF0YSBmb3VuZC4ifQ0KCQkJCQk8L3RkPg0KCQkJCTwvdHI+DQoJCQk8L3RhYmxlPg0KPCEtLSBkdGw6YmxvY2s6VXNlck92ZXJ2aWV3Tm9EYXRhRm91bmRNc2cgLS0+DQoJCQk8L2Rpdj4NCgkJPC9kaXY+DQo8IS0tIGR0bDpibG9jazpVc2VyT3ZlcnZpZXdSZXN1bHQgLS0+DQoJPC9kaXY+DQogICAgPGRpdiBjbGFzcz0iQ2xlYXIiPjwvZGl2Pg0KPC9kaXY+DQo8IS0tIGR0bDpibG9jazpPdmVydmlldyAtLT4NCg==</File>
        <File Location="var/httpd/htdocs/skins/Agent/default/css/thirdparty/itrm.css" Permission="644" Encode="Base64">I1VzZXJPdmVydmlld1Jlc3VsdFRhYmxlIHRkIHsKCXBhZGRpbmc6IDVweDsKfQoKI29rcmVzeXRhYmxlIHRoIHsKCXRleHQtYWxpZ246IGNlbnRlcjsKfQoKI29rcmVzeXRhYmxlIHRkIHsKCXRleHQtYWxpZ246IGNlbnRlcjsKCXBhZGRpbmc6IDJweDsKfQoKI3RhYmVsYWtvbGVqa293YW5pYSB0ZCB7CglwYWRkaW5nOiAzcHg7Cn0KCiN0YWJlbGFrb2xlamtvd2FuaWEgdGQua29udGVuZXJha2NqaSB7Cgl3aWR0aDogMTYwcHg7Cgl0ZXh0LWFsaWduOiBjZW50ZXI7Cn0KCiN0YWJlbGFrb2xlamtvd2FuaWFzZWMgLnphc29idGlja2V0YSB7Cgl3aWR0aDogNjBweDsKCXRleHQtYWxpZ246IGNlbnRlcjsKfQoKI3RhYmVsYWtvbGVqa293YW5pYXNlYyAub2tyZXNyZWFsaXphY2ppIHsKCXdpZHRoOiAxODBweDsKCXRleHQtYWxpZ246IGNlbnRlcjsKfQoKI3RhYmVsYWtvbGVqa293YW5pYXNlYyB0ZCB7CglwYWRkaW5nOiAzcHg7Cn0KCiN0YWJlbGFha3R1YWxuaWUgdGQucHJ6ZXRlcm1pbm93YW55IHsKCWJhY2tncm91bmQ6ICNGMDM0MzI7Cn0=</File>
        <File Location="var/httpd/htdocs/js/thirdparty/itrm/UzytkownicyDoKolejki.js" Permission="644" Encode="Base64">77u/Ly8gLS0NCi8vIFV6eXRrb3duaWN5RG9Lb2xlamtpLmpzIC0gcHJvdmlkZXMgZnVuY3Rpb25zIGZvciBhbGwgdGlja2V0IGFjdGlvbiBwb3B1cHMNCi8vIENvcHlyaWdodCAoQykgMjAwMS0yMDEyIE9UUlMgQUcsIGh0dHA6Ly9vdHJzLm9yZy8NCi8vIC0tDQovLyAkSWQ6IFV6eXRrb3duaWN5RG9Lb2xlamtpLmpzLHYgMS4xMyAyMDEyLzAxLzIzIDExOjM4OjMzIG1nIEV4cCAkDQovLyAtLQ0KLy8gVGhpcyBzb2Z0d2FyZSBjb21lcyB3aXRoIEFCU09MVVRFTFkgTk8gV0FSUkFOVFkuIEZvciBkZXRhaWxzLCBzZWUNCi8vIHRoZSBlbmNsb3NlZCBmaWxlIENPUFlJTkcgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24gKEFHUEwpLiBJZiB5b3UNCi8vIGRpZCBub3QgcmVjZWl2ZSB0aGlzIGZpbGUsIHNlZSBodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvYWdwbC50eHQuDQovLyAtLQ0KDQoidXNlIHN0cmljdCI7DQp2YXIgc3VtYV9wcm9jZW50b3c9MDsNCiQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCkgew0KCSQoJ2lucHV0W2lkXj0icHJvY2VudHlfIl0nKS5rZXl1cChmdW5jdGlvbigpew0KCQlzdW1hX3Byb2NlbnRvdyA9MDsNCgkJJCgnaW5wdXRbaWRePSJwcm9jZW50eV8iXScpLmVhY2goZnVuY3Rpb24oKXsNCgkJCXZhciBjdXJfbGljemJhID0gcGFyc2VGbG9hdCgkKHRoaXMpLmF0dHIoJ3ZhbHVlJykpOw0KCQkJaWYoIWlzTmFOKGN1cl9saWN6YmEpKSB7DQoJCQkJc3VtYV9wcm9jZW50b3cgKz0gY3VyX2xpY3piYTsNCgkJCX0NCgkJfSk7DQoJCQ0KCQlpZihzdW1hX3Byb2NlbnRvdyA+IDEwMCkgew0KCQkJYWxlcnQoJ1ByemVrcm9jem9ubyBwcm9jZW50b3fEhSBwdWzEmSBvZ8OzbG7EhScpOw0KCQkJJCh0aGlzKS5hdHRyKCd2YWx1ZScsJycpOw0KCQl9DQoJCQ0KCQlzdW1hX3Byb2NlbnRvdyAgPSAwOw0KCQkkKCdpbnB1dFtpZF49InByb2NlbnR5XyJdJykuZWFjaChmdW5jdGlvbigpew0KCQkJdmFyIGN1cl9saWN6YmEgPSBwYXJzZUZsb2F0KCQodGhpcykuYXR0cigndmFsdWUnKSk7DQoJCQlpZighaXNOYU4oY3VyX2xpY3piYSkpIHsNCgkJCQlzdW1hX3Byb2NlbnRvdyArPSBjdXJfbGljemJhOw0KCQkJfQ0KCQl9KTsNCgkJJCgnI29nb2xlbScpLmF0dHIoJ3ZhbHVlJyxwYXJzZUZsb2F0KCcxMDAnKS1wYXJzZUZsb2F0KHN1bWFfcHJvY2VudG93KSk7DQoJfSk7DQp9KTs=</File>
        <File Location="var/httpd/htdocs/js/thirdparty/itrm/KolejkowanieTicketow.js" Permission="644" Encode="Base64">77u/Ly8gLS0NCi8vIEtvbGVqa293YW5pZVRpY2tldG93LmpzIC0gcHJvdmlkZXMgZnVuY3Rpb25zIGZvciBhbGwgdGlja2V0IGFjdGlvbiBwb3B1cHMNCi8vIENvcHlyaWdodCAoQykgMjAwMS0yMDEyIE9UUlMgQUcsIGh0dHA6Ly9vdHJzLm9yZy8NCi8vIC0tDQovLyAkSWQ6IEtvbGVqa293YW5pZVRpY2tldG93LmpzLHYgMS4xMyAyMDEyLzAxLzIzIDExOjM4OjMzIG1nIEV4cCAkDQovLyAtLQ0KLy8gVGhpcyBzb2Z0d2FyZSBjb21lcyB3aXRoIEFCU09MVVRFTFkgTk8gV0FSUkFOVFkuIEZvciBkZXRhaWxzLCBzZWUNCi8vIHRoZSBlbmNsb3NlZCBmaWxlIENPUFlJTkcgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24gKEFHUEwpLiBJZiB5b3UNCi8vIGRpZCBub3QgcmVjZWl2ZSB0aGlzIGZpbGUsIHNlZSBodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvYWdwbC50eHQuDQovLyAtLQ0KDQoidXNlIHN0cmljdCI7DQp2YXIgc3RhcnQgPSAxOw0KdmFyIHN1bWFfZ29kemluX29rcmVzdTsNCihmdW5jdGlvbigkKSB7DQoJJCggJ3Rib2R5W2lkXj0ic29ydGFibGVfIl0nICkuc29ydGFibGUoew0KCQlzdG9wOiBmdW5jdGlvbigpew0KCQkJdmFyIG9rZXJzX2lkID0gJCh0aGlzKS5hdHRyKCdva2Vyc2lkJyk7DQoJCQl2YXIga29sZWpub3NjX29nb2xuYSA9IDE7DQoJCQkkKCdpbnB1dFtpZF49ImtvbGVqbm9zY18nK29rZXJzX2lkKyciXScpLmVhY2goZnVuY3Rpb24oKXsNCgkJCQkkKHRoaXMpLmF0dHIoJ3ZhbHVlJyxrb2xlam5vc2Nfb2dvbG5hKTsNCgkJCQlrb2xlam5vc2Nfb2dvbG5hKys7DQoJCQl9KTsNCgkJCQ0KCQl9LA0KCX0pOwkNCgkNCgkkKCdzZWxlY3RbaWRePSJjaGFuZ2Vfb2tyZXNfcmVhbGl6YWNqaV8iXScpLmxpdmUoJ2NoYW5nZScsZnVuY3Rpb24oKXsNCgkJdmFyIHNlbGVjdGVkX29wdGlvbiA9ICQodGhpcykuY2hpbGRyZW4oJ29wdGlvbjpzZWxlY3RlZCcpLmF0dHIoJ3ZhbHVlJyk7DQoJCXZhciBuYXp3YV9zZWxla3RhID0gJCh0aGlzKS5hdHRyKCdpZCcpOw0KCQl2YXIgdGlja2V0X3phc29ieSA9IHBhcnNlSW50KCQodGhpcykuYXR0cigndGlja2V0emFzb2J5JykpOw0KCQl2YXIgb2xkX29wdGlvbiA9IHBhcnNlSW50KCQodGhpcykuYXR0cignb2xkdmFsJykpOw0KCQl2YXIgdGlja2V0aWQgPSBwYXJzZUludCgkKHRoaXMpLmF0dHIoJ3RpY2tldGlkJykpOw0KCQl2YXIgcHVsYV9vZ29sbmEgPSBwYXJzZUludCgkKCcjemFzb2J5X21heF9ucl8nK3NlbGVjdGVkX29wdGlvbisnJykuYXR0cigndmFsdWUnKSk7DQoJCQ0KCQlzdW1hX2dvZHppbl9va3Jlc3UgPSAwOw0KCQkkKCdpbnB1dFtpZF49Inphc29ieV8nK3NlbGVjdGVkX29wdGlvbisnXyJdJykuZWFjaChmdW5jdGlvbigpew0KCQkJdmFyIGN1cl9saWN6YmEgPSBwYXJzZUZsb2F0KCQodGhpcykuYXR0cigndmFsdWUnKSk7DQoJCQlpZighaXNOYU4oY3VyX2xpY3piYSkpIHsNCgkJCQlzdW1hX2dvZHppbl9va3Jlc3UgKz0gY3VyX2xpY3piYTsNCgkJCX0NCgkJfSk7DQoJCWlmKChwdWxhX29nb2xuYSAtIHN1bWFfZ29kemluX29rcmVzdSkgPCB0aWNrZXRfemFzb2J5KSB7DQoJCQkkKHRoaXMpLmF0dHIoJ3ZhbHVlJyxvbGRfb3B0aW9uKTsNCgkJCSQoICIjZGlhbG9nLWNvbmZpcm0iICkuZGlhbG9nKHsNCgkJCQlyZXNpemFibGU6IGZhbHNlLA0KCQkJCW1vZGFsOiB0cnVlLA0KCQkJCXdpZHRoOiA2MDAsDQoJCQkJdGl0bGU6ICcnLA0KCQkJCWJ1dHRvbnM6IHsNCgkJCQkJIk9LIjogZnVuY3Rpb24oKSB7DQoJCQkJCQkkKCB0aGlzICkuZGlhbG9nKCAiY2xvc2UiICk7DQoJCQkJCX0sCQkJCQkNCgkJCQl9DQoJCQl9KTsNCgkJfSBlbHNlIHsNCgkJCSQodGhpcykuYXR0cignb2xkdmFsJyxzZWxlY3RlZF9vcHRpb24pOw0KCQkJJCh0aGlzKS5jaGlsZHJlbigpLnJlbW92ZUF0dHIoJ3NlbGVjdGVkJyk7DQoJCQkkKCcjJytuYXp3YV9zZWxla3RhKycgb3B0aW9uW3ZhbHVlPSInK3NlbGVjdGVkX29wdGlvbisnIl0nKS5hdHRyKCdzZWxlY3RlZCcsJ3NlbGVjdGVkJyk7DQoJCQkkKCcjc29ydGFibGVfJytzZWxlY3RlZF9vcHRpb24pLmFwcGVuZCgnPHRyPicrJCh0aGlzKS5wYXJlbnQoKS5wYXJlbnQoKS5jaGlsZHJlbigpLmNzcygnYmFja2dyb3VuZC1jb2xvcicsJ2dyZWVuJykucGFyZW50KCkuaHRtbCgpKyc8L3RyPicpOw0KCQkJJCh0aGlzKS5wYXJlbnQoKS5wYXJlbnQoKS5yZW1vdmUoKTsNCgkJCSQoJyNzb3J0YWJsZV8nK3NlbGVjdGVkX29wdGlvbikuZmluZCgndGQubm9kYXRhZm91bmQnKS5wYXJlbnQoKS5yZW1vdmUoKTsNCgkJfQ0KCQkNCgl9KTsNCn0pKGpRdWVyeSk7</File>
        <File Location="var/httpd/htdocs/js/thirdparty/itrm/jquery-ui-1.8.16/ui/jquery.ui.dialog.js" Permission="644" Encode="Base64">LyohCiAqIGpRdWVyeSBVSSBEaWFsb2cgMS44LjIxCiAqCiAqIENvcHlyaWdodCAyMDEyLCBBVVRIT1JTLnR4dCAoaHR0cDovL2pxdWVyeXVpLmNvbS9hYm91dCkKICogRHVhbCBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIG9yIEdQTCBWZXJzaW9uIDIgbGljZW5zZXMuCiAqIGh0dHA6Ly9qcXVlcnkub3JnL2xpY2Vuc2UKICoKICogaHR0cDovL2RvY3MuanF1ZXJ5LmNvbS9VSS9EaWFsb2cKICoKICogRGVwZW5kczoKICoJanF1ZXJ5LnVpLmNvcmUuanMKICoJanF1ZXJ5LnVpLndpZGdldC5qcwogKiAganF1ZXJ5LnVpLmJ1dHRvbi5qcwogKglqcXVlcnkudWkuZHJhZ2dhYmxlLmpzCiAqCWpxdWVyeS51aS5tb3VzZS5qcwogKglqcXVlcnkudWkucG9zaXRpb24uanMKICoJanF1ZXJ5LnVpLnJlc2l6YWJsZS5qcwogKi8KKGZ1bmN0aW9uKCAkLCB1bmRlZmluZWQgKSB7Cgp2YXIgdWlEaWFsb2dDbGFzc2VzID0KCQkndWktZGlhbG9nICcgKwoJCSd1aS13aWRnZXQgJyArCgkJJ3VpLXdpZGdldC1jb250ZW50ICcgKwoJCSd1aS1jb3JuZXItYWxsICcsCglzaXplUmVsYXRlZE9wdGlvbnMgPSB7CgkJYnV0dG9uczogdHJ1ZSwKCQloZWlnaHQ6IHRydWUsCgkJbWF4SGVpZ2h0OiB0cnVlLAoJCW1heFdpZHRoOiB0cnVlLAoJCW1pbkhlaWdodDogdHJ1ZSwKCQltaW5XaWR0aDogdHJ1ZSwKCQl3aWR0aDogdHJ1ZQoJfSwKCXJlc2l6YWJsZVJlbGF0ZWRPcHRpb25zID0gewoJCW1heEhlaWdodDogdHJ1ZSwKCQltYXhXaWR0aDogdHJ1ZSwKCQltaW5IZWlnaHQ6IHRydWUsCgkJbWluV2lkdGg6IHRydWUKCX0sCgkvLyBzdXBwb3J0IGZvciBqUXVlcnkgMS4zLjIgLSBoYW5kbGUgY29tbW9uIGF0dHJGbiBtZXRob2RzIGZvciBkaWFsb2cKCWF0dHJGbiA9ICQuYXR0ckZuIHx8IHsKCQl2YWw6IHRydWUsCgkJY3NzOiB0cnVlLAoJCWh0bWw6IHRydWUsCgkJdGV4dDogdHJ1ZSwKCQlkYXRhOiB0cnVlLAoJCXdpZHRoOiB0cnVlLAoJCWhlaWdodDogdHJ1ZSwKCQlvZmZzZXQ6IHRydWUsCgkJY2xpY2s6IHRydWUKCX07CgokLndpZGdldCgidWkuZGlhbG9nIiwgewoJb3B0aW9uczogewoJCWF1dG9PcGVuOiB0cnVlLAoJCWJ1dHRvbnM6IHt9LAoJCWNsb3NlT25Fc2NhcGU6IHRydWUsCgkJY2xvc2VUZXh0OiAnY2xvc2UnLAoJCWRpYWxvZ0NsYXNzOiAnJywKCQlkcmFnZ2FibGU6IHRydWUsCgkJaGlkZTogbnVsbCwKCQloZWlnaHQ6ICdhdXRvJywKCQltYXhIZWlnaHQ6IGZhbHNlLAoJCW1heFdpZHRoOiBmYWxzZSwKCQltaW5IZWlnaHQ6IDE1MCwKCQltaW5XaWR0aDogMTUwLAoJCW1vZGFsOiBmYWxzZSwKCQlwb3NpdGlvbjogewoJCQlteTogJ2NlbnRlcicsCgkJCWF0OiAnY2VudGVyJywKCQkJY29sbGlzaW9uOiAnZml0JywKCQkJLy8gZW5zdXJlIHRoYXQgdGhlIHRpdGxlYmFyIGlzIG5ldmVyIG91dHNpZGUgdGhlIGRvY3VtZW50CgkJCXVzaW5nOiBmdW5jdGlvbihwb3MpIHsKCQkJCXZhciB0b3BPZmZzZXQgPSAkKHRoaXMpLmNzcyhwb3MpLm9mZnNldCgpLnRvcDsKCQkJCWlmICh0b3BPZmZzZXQgPCAwKSB7CgkJCQkJJCh0aGlzKS5jc3MoJ3RvcCcsIHBvcy50b3AgLSB0b3BPZmZzZXQpOwoJCQkJfQoJCQl9CgkJfSwKCQlyZXNpemFibGU6IHRydWUsCgkJc2hvdzogbnVsbCwKCQlzdGFjazogdHJ1ZSwKCQl0aXRsZTogJycsCgkJd2lkdGg6IDMwMCwKCQl6SW5kZXg6IDEwMDAKCX0sCgoJX2NyZWF0ZTogZnVuY3Rpb24oKSB7CgkJdGhpcy5vcmlnaW5hbFRpdGxlID0gdGhpcy5lbGVtZW50LmF0dHIoJ3RpdGxlJyk7CgkJLy8gIzU3NDIgLSAuYXR0cigpIG1pZ2h0IHJldHVybiBhIERPTUVsZW1lbnQKCQlpZiAoIHR5cGVvZiB0aGlzLm9yaWdpbmFsVGl0bGUgIT09ICJzdHJpbmciICkgewoJCQl0aGlzLm9yaWdpbmFsVGl0bGUgPSAiIjsKCQl9CgoJCXRoaXMub3B0aW9ucy50aXRsZSA9IHRoaXMub3B0aW9ucy50aXRsZSB8fCB0aGlzLm9yaWdpbmFsVGl0bGU7CgkJdmFyIHNlbGYgPSB0aGlzLAoJCQlvcHRpb25zID0gc2VsZi5vcHRpb25zLAoKCQkJdGl0bGUgPSBvcHRpb25zLnRpdGxlIHx8ICcmIzE2MDsnLAoJCQl0aXRsZUlkID0gJC51aS5kaWFsb2cuZ2V0VGl0bGVJZChzZWxmLmVsZW1lbnQpLAoKCQkJdWlEaWFsb2cgPSAoc2VsZi51aURpYWxvZyA9ICQoJzxkaXY+PC9kaXY+JykpCgkJCQkuYXBwZW5kVG8oZG9jdW1lbnQuYm9keSkKCQkJCS5oaWRlKCkKCQkJCS5hZGRDbGFzcyh1aURpYWxvZ0NsYXNzZXMgKyBvcHRpb25zLmRpYWxvZ0NsYXNzKQoJCQkJLmNzcyh7CgkJCQkJekluZGV4OiBvcHRpb25zLnpJbmRleAoJCQkJfSkKCQkJCS8vIHNldHRpbmcgdGFiSW5kZXggbWFrZXMgdGhlIGRpdiBmb2N1c2FibGUKCQkJCS8vIHNldHRpbmcgb3V0bGluZSB0byAwIHByZXZlbnRzIGEgYm9yZGVyIG9uIGZvY3VzIGluIE1vemlsbGEKCQkJCS5hdHRyKCd0YWJJbmRleCcsIC0xKS5jc3MoJ291dGxpbmUnLCAwKS5rZXlkb3duKGZ1bmN0aW9uKGV2ZW50KSB7CgkJCQkJaWYgKG9wdGlvbnMuY2xvc2VPbkVzY2FwZSAmJiAhZXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCkgJiYgZXZlbnQua2V5Q29kZSAmJgoJCQkJCQlldmVudC5rZXlDb2RlID09PSAkLnVpLmtleUNvZGUuRVNDQVBFKSB7CgkJCQkJCQoJCQkJCQlzZWxmLmNsb3NlKGV2ZW50KTsKCQkJCQkJZXZlbnQucHJldmVudERlZmF1bHQoKTsKCQkJCQl9CgkJCQl9KQoJCQkJLmF0dHIoewoJCQkJCXJvbGU6ICdkaWFsb2cnLAoJCQkJCSdhcmlhLWxhYmVsbGVkYnknOiB0aXRsZUlkCgkJCQl9KQoJCQkJLm1vdXNlZG93bihmdW5jdGlvbihldmVudCkgewoJCQkJCXNlbGYubW92ZVRvVG9wKGZhbHNlLCBldmVudCk7CgkJCQl9KSwKCgkJCXVpRGlhbG9nQ29udGVudCA9IHNlbGYuZWxlbWVudAoJCQkJLnNob3coKQoJCQkJLnJlbW92ZUF0dHIoJ3RpdGxlJykKCQkJCS5hZGRDbGFzcygKCQkJCQkndWktZGlhbG9nLWNvbnRlbnQgJyArCgkJCQkJJ3VpLXdpZGdldC1jb250ZW50JykKCQkJCS5hcHBlbmRUbyh1aURpYWxvZyksCgoJCQl1aURpYWxvZ1RpdGxlYmFyID0gKHNlbGYudWlEaWFsb2dUaXRsZWJhciA9ICQoJzxkaXY+PC9kaXY+JykpCgkJCQkuYWRkQ2xhc3MoCgkJCQkJJ3VpLWRpYWxvZy10aXRsZWJhciAnICsKCQkJCQkndWktd2lkZ2V0LWhlYWRlciAnICsKCQkJCQkndWktY29ybmVyLWFsbCAnICsKCQkJCQkndWktaGVscGVyLWNsZWFyZml4JwoJCQkJKQoJCQkJLnByZXBlbmRUbyh1aURpYWxvZyksCgoJCQl1aURpYWxvZ1RpdGxlYmFyQ2xvc2UgPSAkKCc8YSBocmVmPSIjIj48L2E+JykKCQkJCS5hZGRDbGFzcygKCQkJCQkndWktZGlhbG9nLXRpdGxlYmFyLWNsb3NlICcgKwoJCQkJCSd1aS1jb3JuZXItYWxsJwoJCQkJKQoJCQkJLmF0dHIoJ3JvbGUnLCAnYnV0dG9uJykKCQkJCS5ob3ZlcigKCQkJCQlmdW5jdGlvbigpIHsKCQkJCQkJdWlEaWFsb2dUaXRsZWJhckNsb3NlLmFkZENsYXNzKCd1aS1zdGF0ZS1ob3ZlcicpOwoJCQkJCX0sCgkJCQkJZnVuY3Rpb24oKSB7CgkJCQkJCXVpRGlhbG9nVGl0bGViYXJDbG9zZS5yZW1vdmVDbGFzcygndWktc3RhdGUtaG92ZXInKTsKCQkJCQl9CgkJCQkpCgkJCQkuZm9jdXMoZnVuY3Rpb24oKSB7CgkJCQkJdWlEaWFsb2dUaXRsZWJhckNsb3NlLmFkZENsYXNzKCd1aS1zdGF0ZS1mb2N1cycpOwoJCQkJfSkKCQkJCS5ibHVyKGZ1bmN0aW9uKCkgewoJCQkJCXVpRGlhbG9nVGl0bGViYXJDbG9zZS5yZW1vdmVDbGFzcygndWktc3RhdGUtZm9jdXMnKTsKCQkJCX0pCgkJCQkuY2xpY2soZnVuY3Rpb24oZXZlbnQpIHsKCQkJCQlzZWxmLmNsb3NlKGV2ZW50KTsKCQkJCQlyZXR1cm4gZmFsc2U7CgkJCQl9KQoJCQkJLmFwcGVuZFRvKHVpRGlhbG9nVGl0bGViYXIpLAoKCQkJdWlEaWFsb2dUaXRsZWJhckNsb3NlVGV4dCA9IChzZWxmLnVpRGlhbG9nVGl0bGViYXJDbG9zZVRleHQgPSAkKCc8c3Bhbj48L3NwYW4+JykpCgkJCQkuYWRkQ2xhc3MoCgkJCQkJJ3VpLWljb24gJyArCgkJCQkJJ3VpLWljb24tY2xvc2V0aGljaycKCQkJCSkKCQkJCS50ZXh0KG9wdGlvbnMuY2xvc2VUZXh0KQoJCQkJLmFwcGVuZFRvKHVpRGlhbG9nVGl0bGViYXJDbG9zZSksCgoJCQl1aURpYWxvZ1RpdGxlID0gJCgnPHNwYW4+PC9zcGFuPicpCgkJCQkuYWRkQ2xhc3MoJ3VpLWRpYWxvZy10aXRsZScpCgkJCQkuYXR0cignaWQnLCB0aXRsZUlkKQoJCQkJLmh0bWwodGl0bGUpCgkJCQkucHJlcGVuZFRvKHVpRGlhbG9nVGl0bGViYXIpOwoKCQkvL2hhbmRsaW5nIG9mIGRlcHJlY2F0ZWQgYmVmb3JlY2xvc2UgKHZzIGJlZm9yZUNsb3NlKSBvcHRpb24KCQkvL1RpY2tldCAjNDY2OSBodHRwOi8vZGV2LmpxdWVyeXVpLmNvbS90aWNrZXQvNDY2OQoJCS8vVE9ETzogcmVtb3ZlIGluIDEuOXByZQoJCWlmICgkLmlzRnVuY3Rpb24ob3B0aW9ucy5iZWZvcmVjbG9zZSkgJiYgISQuaXNGdW5jdGlvbihvcHRpb25zLmJlZm9yZUNsb3NlKSkgewoJCQlvcHRpb25zLmJlZm9yZUNsb3NlID0gb3B0aW9ucy5iZWZvcmVjbG9zZTsKCQl9CgoJCXVpRGlhbG9nVGl0bGViYXIuZmluZCgiKiIpLmFkZCh1aURpYWxvZ1RpdGxlYmFyKS5kaXNhYmxlU2VsZWN0aW9uKCk7CgoJCWlmIChvcHRpb25zLmRyYWdnYWJsZSAmJiAkLmZuLmRyYWdnYWJsZSkgewoJCQlzZWxmLl9tYWtlRHJhZ2dhYmxlKCk7CgkJfQoJCWlmIChvcHRpb25zLnJlc2l6YWJsZSAmJiAkLmZuLnJlc2l6YWJsZSkgewoJCQlzZWxmLl9tYWtlUmVzaXphYmxlKCk7CgkJfQoKCQlzZWxmLl9jcmVhdGVCdXR0b25zKG9wdGlvbnMuYnV0dG9ucyk7CgkJc2VsZi5faXNPcGVuID0gZmFsc2U7CgoJCWlmICgkLmZuLmJnaWZyYW1lKSB7CgkJCXVpRGlhbG9nLmJnaWZyYW1lKCk7CgkJfQoJfSwKCglfaW5pdDogZnVuY3Rpb24oKSB7CgkJaWYgKCB0aGlzLm9wdGlvbnMuYXV0b09wZW4gKSB7CgkJCXRoaXMub3BlbigpOwoJCX0KCX0sCgoJZGVzdHJveTogZnVuY3Rpb24oKSB7CgkJdmFyIHNlbGYgPSB0aGlzOwoJCQoJCWlmIChzZWxmLm92ZXJsYXkpIHsKCQkJc2VsZi5vdmVybGF5LmRlc3Ryb3koKTsKCQl9CgkJc2VsZi51aURpYWxvZy5oaWRlKCk7CgkJc2VsZi5lbGVtZW50CgkJCS51bmJpbmQoJy5kaWFsb2cnKQoJCQkucmVtb3ZlRGF0YSgnZGlhbG9nJykKCQkJLnJlbW92ZUNsYXNzKCd1aS1kaWFsb2ctY29udGVudCB1aS13aWRnZXQtY29udGVudCcpCgkJCS5oaWRlKCkuYXBwZW5kVG8oJ2JvZHknKTsKCQlzZWxmLnVpRGlhbG9nLnJlbW92ZSgpOwoKCQlpZiAoc2VsZi5vcmlnaW5hbFRpdGxlKSB7CgkJCXNlbGYuZWxlbWVudC5hdHRyKCd0aXRsZScsIHNlbGYub3JpZ2luYWxUaXRsZSk7CgkJfQoKCQlyZXR1cm4gc2VsZjsKCX0sCgoJd2lkZ2V0OiBmdW5jdGlvbigpIHsKCQlyZXR1cm4gdGhpcy51aURpYWxvZzsKCX0sCgoJY2xvc2U6IGZ1bmN0aW9uKGV2ZW50KSB7CgkJdmFyIHNlbGYgPSB0aGlzLAoJCQltYXhaLCB0aGlzWjsKCQkKCQlpZiAoZmFsc2UgPT09IHNlbGYuX3RyaWdnZXIoJ2JlZm9yZUNsb3NlJywgZXZlbnQpKSB7CgkJCXJldHVybjsKCQl9CgoJCWlmIChzZWxmLm92ZXJsYXkpIHsKCQkJc2VsZi5vdmVybGF5LmRlc3Ryb3koKTsKCQl9CgkJc2VsZi51aURpYWxvZy51bmJpbmQoJ2tleXByZXNzLnVpLWRpYWxvZycpOwoKCQlzZWxmLl9pc09wZW4gPSBmYWxzZTsKCgkJaWYgKHNlbGYub3B0aW9ucy5oaWRlKSB7CgkJCXNlbGYudWlEaWFsb2cuaGlkZShzZWxmLm9wdGlvbnMuaGlkZSwgZnVuY3Rpb24oKSB7CgkJCQlzZWxmLl90cmlnZ2VyKCdjbG9zZScsIGV2ZW50KTsKCQkJfSk7CgkJfSBlbHNlIHsKCQkJc2VsZi51aURpYWxvZy5oaWRlKCk7CgkJCXNlbGYuX3RyaWdnZXIoJ2Nsb3NlJywgZXZlbnQpOwoJCX0KCgkJJC51aS5kaWFsb2cub3ZlcmxheS5yZXNpemUoKTsKCgkJLy8gYWRqdXN0IHRoZSBtYXhaIHRvIGFsbG93IG90aGVyIG1vZGFsIGRpYWxvZ3MgdG8gY29udGludWUgdG8gd29yayAoc2VlICM0MzA5KQoJCWlmIChzZWxmLm9wdGlvbnMubW9kYWwpIHsKCQkJbWF4WiA9IDA7CgkJCSQoJy51aS1kaWFsb2cnKS5lYWNoKGZ1bmN0aW9uKCkgewoJCQkJaWYgKHRoaXMgIT09IHNlbGYudWlEaWFsb2dbMF0pIHsKCQkJCQl0aGlzWiA9ICQodGhpcykuY3NzKCd6LWluZGV4Jyk7CgkJCQkJaWYoIWlzTmFOKHRoaXNaKSkgewoJCQkJCQltYXhaID0gTWF0aC5tYXgobWF4WiwgdGhpc1opOwoJCQkJCX0KCQkJCX0KCQkJfSk7CgkJCSQudWkuZGlhbG9nLm1heFogPSBtYXhaOwoJCX0KCgkJcmV0dXJuIHNlbGY7Cgl9LAoKCWlzT3BlbjogZnVuY3Rpb24oKSB7CgkJcmV0dXJuIHRoaXMuX2lzT3BlbjsKCX0sCgoJLy8gdGhlIGZvcmNlIHBhcmFtZXRlciBhbGxvd3MgdXMgdG8gbW92ZSBtb2RhbCBkaWFsb2dzIHRvIHRoZWlyIGNvcnJlY3QKCS8vIHBvc2l0aW9uIG9uIG9wZW4KCW1vdmVUb1RvcDogZnVuY3Rpb24oZm9yY2UsIGV2ZW50KSB7CgkJdmFyIHNlbGYgPSB0aGlzLAoJCQlvcHRpb25zID0gc2VsZi5vcHRpb25zLAoJCQlzYXZlU2Nyb2xsOwoKCQlpZiAoKG9wdGlvbnMubW9kYWwgJiYgIWZvcmNlKSB8fAoJCQkoIW9wdGlvbnMuc3RhY2sgJiYgIW9wdGlvbnMubW9kYWwpKSB7CgkJCXJldHVybiBzZWxmLl90cmlnZ2VyKCdmb2N1cycsIGV2ZW50KTsKCQl9CgoJCWlmIChvcHRpb25zLnpJbmRleCA+ICQudWkuZGlhbG9nLm1heFopIHsKCQkJJC51aS5kaWFsb2cubWF4WiA9IG9wdGlvbnMuekluZGV4OwoJCX0KCQlpZiAoc2VsZi5vdmVybGF5KSB7CgkJCSQudWkuZGlhbG9nLm1heFogKz0gMTsKCQkJc2VsZi5vdmVybGF5LiRlbC5jc3MoJ3otaW5kZXgnLCAkLnVpLmRpYWxvZy5vdmVybGF5Lm1heFogPSAkLnVpLmRpYWxvZy5tYXhaKTsKCQl9CgoJCS8vU2F2ZSBhbmQgdGhlbiByZXN0b3JlIHNjcm9sbCBzaW5jZSBPcGVyYSA5LjUrIHJlc2V0cyB3aGVuIHBhcmVudCB6LUluZGV4IGlzIGNoYW5nZWQuCgkJLy8gIGh0dHA6Ly91aS5qcXVlcnkuY29tL2J1Z3MvdGlja2V0LzMxOTMKCQlzYXZlU2Nyb2xsID0geyBzY3JvbGxUb3A6IHNlbGYuZWxlbWVudC5zY3JvbGxUb3AoKSwgc2Nyb2xsTGVmdDogc2VsZi5lbGVtZW50LnNjcm9sbExlZnQoKSB9OwoJCSQudWkuZGlhbG9nLm1heFogKz0gMTsKCQlzZWxmLnVpRGlhbG9nLmNzcygnei1pbmRleCcsICQudWkuZGlhbG9nLm1heFopOwoJCXNlbGYuZWxlbWVudC5hdHRyKHNhdmVTY3JvbGwpOwoJCXNlbGYuX3RyaWdnZXIoJ2ZvY3VzJywgZXZlbnQpOwoKCQlyZXR1cm4gc2VsZjsKCX0sCgoJb3BlbjogZnVuY3Rpb24oKSB7CgkJaWYgKHRoaXMuX2lzT3BlbikgeyByZXR1cm47IH0KCgkJdmFyIHNlbGYgPSB0aGlzLAoJCQlvcHRpb25zID0gc2VsZi5vcHRpb25zLAoJCQl1aURpYWxvZyA9IHNlbGYudWlEaWFsb2c7CgoJCXNlbGYub3ZlcmxheSA9IG9wdGlvbnMubW9kYWwgPyBuZXcgJC51aS5kaWFsb2cub3ZlcmxheShzZWxmKSA6IG51bGw7CgkJc2VsZi5fc2l6ZSgpOwoJCXNlbGYuX3Bvc2l0aW9uKG9wdGlvbnMucG9zaXRpb24pOwoJCXVpRGlhbG9nLnNob3cob3B0aW9ucy5zaG93KTsKCQlzZWxmLm1vdmVUb1RvcCh0cnVlKTsKCgkJLy8gcHJldmVudCB0YWJiaW5nIG91dCBvZiBtb2RhbCBkaWFsb2dzCgkJaWYgKCBvcHRpb25zLm1vZGFsICkgewoJCQl1aURpYWxvZy5iaW5kKCAia2V5ZG93bi51aS1kaWFsb2ciLCBmdW5jdGlvbiggZXZlbnQgKSB7CgkJCQlpZiAoIGV2ZW50LmtleUNvZGUgIT09ICQudWkua2V5Q29kZS5UQUIgKSB7CgkJCQkJcmV0dXJuOwoJCQkJfQoKCQkJCXZhciB0YWJiYWJsZXMgPSAkKCc6dGFiYmFibGUnLCB0aGlzKSwKCQkJCQlmaXJzdCA9IHRhYmJhYmxlcy5maWx0ZXIoJzpmaXJzdCcpLAoJCQkJCWxhc3QgID0gdGFiYmFibGVzLmZpbHRlcignOmxhc3QnKTsKCgkJCQlpZiAoZXZlbnQudGFyZ2V0ID09PSBsYXN0WzBdICYmICFldmVudC5zaGlmdEtleSkgewoJCQkJCWZpcnN0LmZvY3VzKDEpOwoJCQkJCXJldHVybiBmYWxzZTsKCQkJCX0gZWxzZSBpZiAoZXZlbnQudGFyZ2V0ID09PSBmaXJzdFswXSAmJiBldmVudC5zaGlmdEtleSkgewoJCQkJCWxhc3QuZm9jdXMoMSk7CgkJCQkJcmV0dXJuIGZhbHNlOwoJCQkJfQoJCQl9KTsKCQl9CgoJCS8vIHNldCBmb2N1cyB0byB0aGUgZmlyc3QgdGFiYmFibGUgZWxlbWVudCBpbiB0aGUgY29udGVudCBhcmVhIG9yIHRoZSBmaXJzdCBidXR0b24KCQkvLyBpZiB0aGVyZSBhcmUgbm8gdGFiYmFibGUgZWxlbWVudHMsIHNldCBmb2N1cyBvbiB0aGUgZGlhbG9nIGl0c2VsZgoJCSQoc2VsZi5lbGVtZW50LmZpbmQoJzp0YWJiYWJsZScpLmdldCgpLmNvbmNhdCgKCQkJdWlEaWFsb2cuZmluZCgnLnVpLWRpYWxvZy1idXR0b25wYW5lIDp0YWJiYWJsZScpLmdldCgpLmNvbmNhdCgKCQkJCXVpRGlhbG9nLmdldCgpKSkpLmVxKDApLmZvY3VzKCk7CgoJCXNlbGYuX2lzT3BlbiA9IHRydWU7CgkJc2VsZi5fdHJpZ2dlcignb3BlbicpOwoKCQlyZXR1cm4gc2VsZjsKCX0sCgoJX2NyZWF0ZUJ1dHRvbnM6IGZ1bmN0aW9uKGJ1dHRvbnMpIHsKCQl2YXIgc2VsZiA9IHRoaXMsCgkJCWhhc0J1dHRvbnMgPSBmYWxzZSwKCQkJdWlEaWFsb2dCdXR0b25QYW5lID0gJCgnPGRpdj48L2Rpdj4nKQoJCQkJLmFkZENsYXNzKAoJCQkJCSd1aS1kaWFsb2ctYnV0dG9ucGFuZSAnICsKCQkJCQkndWktd2lkZ2V0LWNvbnRlbnQgJyArCgkJCQkJJ3VpLWhlbHBlci1jbGVhcmZpeCcKCQkJCSksCgkJCXVpQnV0dG9uU2V0ID0gJCggIjxkaXY+PC9kaXY+IiApCgkJCQkuYWRkQ2xhc3MoICJ1aS1kaWFsb2ctYnV0dG9uc2V0IiApCgkJCQkuYXBwZW5kVG8oIHVpRGlhbG9nQnV0dG9uUGFuZSApOwoKCQkvLyBpZiB3ZSBhbHJlYWR5IGhhdmUgYSBidXR0b24gcGFuZSwgcmVtb3ZlIGl0CgkJc2VsZi51aURpYWxvZy5maW5kKCcudWktZGlhbG9nLWJ1dHRvbnBhbmUnKS5yZW1vdmUoKTsKCgkJaWYgKHR5cGVvZiBidXR0b25zID09PSAnb2JqZWN0JyAmJiBidXR0b25zICE9PSBudWxsKSB7CgkJCSQuZWFjaChidXR0b25zLCBmdW5jdGlvbigpIHsKCQkJCXJldHVybiAhKGhhc0J1dHRvbnMgPSB0cnVlKTsKCQkJfSk7CgkJfQoJCWlmIChoYXNCdXR0b25zKSB7CgkJCSQuZWFjaChidXR0b25zLCBmdW5jdGlvbihuYW1lLCBwcm9wcykgewoJCQkJcHJvcHMgPSAkLmlzRnVuY3Rpb24oIHByb3BzICkgPwoJCQkJCXsgY2xpY2s6IHByb3BzLCB0ZXh0OiBuYW1lIH0gOgoJCQkJCXByb3BzOwoJCQkJdmFyIGJ1dHRvbiA9ICQoJzxidXR0b24gdHlwZT0iYnV0dG9uIj48L2J1dHRvbj4nKQoJCQkJCS5jbGljayhmdW5jdGlvbigpIHsKCQkJCQkJcHJvcHMuY2xpY2suYXBwbHkoc2VsZi5lbGVtZW50WzBdLCBhcmd1bWVudHMpOwoJCQkJCX0pCgkJCQkJLmFwcGVuZFRvKHVpQnV0dG9uU2V0KTsKCQkJCS8vIGNhbid0IHVzZSAuYXR0ciggcHJvcHMsIHRydWUgKSB3aXRoIGpRdWVyeSAxLjMuMi4KCQkJCSQuZWFjaCggcHJvcHMsIGZ1bmN0aW9uKCBrZXksIHZhbHVlICkgewoJCQkJCWlmICgga2V5ID09PSAiY2xpY2siICkgewoJCQkJCQlyZXR1cm47CgkJCQkJfQoJCQkJCWlmICgga2V5IGluIGF0dHJGbiApIHsKCQkJCQkJYnV0dG9uWyBrZXkgXSggdmFsdWUgKTsKCQkJCQl9IGVsc2UgewoJCQkJCQlidXR0b24uYXR0cigga2V5LCB2YWx1ZSApOwoJCQkJCX0KCQkJCX0pOwoJCQkJaWYgKCQuZm4uYnV0dG9uKSB7CgkJCQkJYnV0dG9uLmJ1dHRvbigpOwoJCQkJfQoJCQl9KTsKCQkJdWlEaWFsb2dCdXR0b25QYW5lLmFwcGVuZFRvKHNlbGYudWlEaWFsb2cpOwoJCX0KCX0sCgoJX21ha2VEcmFnZ2FibGU6IGZ1bmN0aW9uKCkgewoJCXZhciBzZWxmID0gdGhpcywKCQkJb3B0aW9ucyA9IHNlbGYub3B0aW9ucywKCQkJZG9jID0gJChkb2N1bWVudCksCgkJCWhlaWdodEJlZm9yZURyYWc7CgoJCWZ1bmN0aW9uIGZpbHRlcmVkVWkodWkpIHsKCQkJcmV0dXJuIHsKCQkJCXBvc2l0aW9uOiB1aS5wb3NpdGlvbiwKCQkJCW9mZnNldDogdWkub2Zmc2V0CgkJCX07CgkJfQoKCQlzZWxmLnVpRGlhbG9nLmRyYWdnYWJsZSh7CgkJCWNhbmNlbDogJy51aS1kaWFsb2ctY29udGVudCwgLnVpLWRpYWxvZy10aXRsZWJhci1jbG9zZScsCgkJCWhhbmRsZTogJy51aS1kaWFsb2ctdGl0bGViYXInLAoJCQljb250YWlubWVudDogJ2RvY3VtZW50JywKCQkJc3RhcnQ6IGZ1bmN0aW9uKGV2ZW50LCB1aSkgewoJCQkJaGVpZ2h0QmVmb3JlRHJhZyA9IG9wdGlvbnMuaGVpZ2h0ID09PSAiYXV0byIgPyAiYXV0byIgOiAkKHRoaXMpLmhlaWdodCgpOwoJCQkJJCh0aGlzKS5oZWlnaHQoJCh0aGlzKS5oZWlnaHQoKSkuYWRkQ2xhc3MoInVpLWRpYWxvZy1kcmFnZ2luZyIpOwoJCQkJc2VsZi5fdHJpZ2dlcignZHJhZ1N0YXJ0JywgZXZlbnQsIGZpbHRlcmVkVWkodWkpKTsKCQkJfSwKCQkJZHJhZzogZnVuY3Rpb24oZXZlbnQsIHVpKSB7CgkJCQlzZWxmLl90cmlnZ2VyKCdkcmFnJywgZXZlbnQsIGZpbHRlcmVkVWkodWkpKTsKCQkJfSwKCQkJc3RvcDogZnVuY3Rpb24oZXZlbnQsIHVpKSB7CgkJCQlvcHRpb25zLnBvc2l0aW9uID0gW3VpLnBvc2l0aW9uLmxlZnQgLSBkb2Muc2Nyb2xsTGVmdCgpLAoJCQkJCXVpLnBvc2l0aW9uLnRvcCAtIGRvYy5zY3JvbGxUb3AoKV07CgkJCQkkKHRoaXMpLnJlbW92ZUNsYXNzKCJ1aS1kaWFsb2ctZHJhZ2dpbmciKS5oZWlnaHQoaGVpZ2h0QmVmb3JlRHJhZyk7CgkJCQlzZWxmLl90cmlnZ2VyKCdkcmFnU3RvcCcsIGV2ZW50LCBmaWx0ZXJlZFVpKHVpKSk7CgkJCQkkLnVpLmRpYWxvZy5vdmVybGF5LnJlc2l6ZSgpOwoJCQl9CgkJfSk7Cgl9LAoKCV9tYWtlUmVzaXphYmxlOiBmdW5jdGlvbihoYW5kbGVzKSB7CgkJaGFuZGxlcyA9IChoYW5kbGVzID09PSB1bmRlZmluZWQgPyB0aGlzLm9wdGlvbnMucmVzaXphYmxlIDogaGFuZGxlcyk7CgkJdmFyIHNlbGYgPSB0aGlzLAoJCQlvcHRpb25zID0gc2VsZi5vcHRpb25zLAoJCQkvLyAudWktcmVzaXphYmxlIGhhcyBwb3NpdGlvbjogcmVsYXRpdmUgZGVmaW5lZCBpbiB0aGUgc3R5bGVzaGVldAoJCQkvLyBidXQgZGlhbG9ncyBoYXZlIHRvIHVzZSBhYnNvbHV0ZSBvciBmaXhlZCBwb3NpdGlvbmluZwoJCQlwb3NpdGlvbiA9IHNlbGYudWlEaWFsb2cuY3NzKCdwb3NpdGlvbicpLAoJCQlyZXNpemVIYW5kbGVzID0gKHR5cGVvZiBoYW5kbGVzID09PSAnc3RyaW5nJyA/CgkJCQloYW5kbGVzCToKCQkJCSduLGUscyx3LHNlLHN3LG5lLG53JwoJCQkpOwoKCQlmdW5jdGlvbiBmaWx0ZXJlZFVpKHVpKSB7CgkJCXJldHVybiB7CgkJCQlvcmlnaW5hbFBvc2l0aW9uOiB1aS5vcmlnaW5hbFBvc2l0aW9uLAoJCQkJb3JpZ2luYWxTaXplOiB1aS5vcmlnaW5hbFNpemUsCgkJCQlwb3NpdGlvbjogdWkucG9zaXRpb24sCgkJCQlzaXplOiB1aS5zaXplCgkJCX07CgkJfQoKCQlzZWxmLnVpRGlhbG9nLnJlc2l6YWJsZSh7CgkJCWNhbmNlbDogJy51aS1kaWFsb2ctY29udGVudCcsCgkJCWNvbnRhaW5tZW50OiAnZG9jdW1lbnQnLAoJCQlhbHNvUmVzaXplOiBzZWxmLmVsZW1lbnQsCgkJCW1heFdpZHRoOiBvcHRpb25zLm1heFdpZHRoLAoJCQltYXhIZWlnaHQ6IG9wdGlvbnMubWF4SGVpZ2h0LAoJCQltaW5XaWR0aDogb3B0aW9ucy5taW5XaWR0aCwKCQkJbWluSGVpZ2h0OiBzZWxmLl9taW5IZWlnaHQoKSwKCQkJaGFuZGxlczogcmVzaXplSGFuZGxlcywKCQkJc3RhcnQ6IGZ1bmN0aW9uKGV2ZW50LCB1aSkgewoJCQkJJCh0aGlzKS5hZGRDbGFzcygidWktZGlhbG9nLXJlc2l6aW5nIik7CgkJCQlzZWxmLl90cmlnZ2VyKCdyZXNpemVTdGFydCcsIGV2ZW50LCBmaWx0ZXJlZFVpKHVpKSk7CgkJCX0sCgkJCXJlc2l6ZTogZnVuY3Rpb24oZXZlbnQsIHVpKSB7CgkJCQlzZWxmLl90cmlnZ2VyKCdyZXNpemUnLCBldmVudCwgZmlsdGVyZWRVaSh1aSkpOwoJCQl9LAoJCQlzdG9wOiBmdW5jdGlvbihldmVudCwgdWkpIHsKCQkJCSQodGhpcykucmVtb3ZlQ2xhc3MoInVpLWRpYWxvZy1yZXNpemluZyIpOwoJCQkJb3B0aW9ucy5oZWlnaHQgPSAkKHRoaXMpLmhlaWdodCgpOwoJCQkJb3B0aW9ucy53aWR0aCA9ICQodGhpcykud2lkdGgoKTsKCQkJCXNlbGYuX3RyaWdnZXIoJ3Jlc2l6ZVN0b3AnLCBldmVudCwgZmlsdGVyZWRVaSh1aSkpOwoJCQkJJC51aS5kaWFsb2cub3ZlcmxheS5yZXNpemUoKTsKCQkJfQoJCX0pCgkJLmNzcygncG9zaXRpb24nLCBwb3NpdGlvbikKCQkuZmluZCgnLnVpLXJlc2l6YWJsZS1zZScpLmFkZENsYXNzKCd1aS1pY29uIHVpLWljb24tZ3JpcC1kaWFnb25hbC1zZScpOwoJfSwKCglfbWluSGVpZ2h0OiBmdW5jdGlvbigpIHsKCQl2YXIgb3B0aW9ucyA9IHRoaXMub3B0aW9uczsKCgkJaWYgKG9wdGlvbnMuaGVpZ2h0ID09PSAnYXV0bycpIHsKCQkJcmV0dXJuIG9wdGlvbnMubWluSGVpZ2h0OwoJCX0gZWxzZSB7CgkJCXJldHVybiBNYXRoLm1pbihvcHRpb25zLm1pbkhlaWdodCwgb3B0aW9ucy5oZWlnaHQpOwoJCX0KCX0sCgoJX3Bvc2l0aW9uOiBmdW5jdGlvbihwb3NpdGlvbikgewoJCXZhciBteUF0ID0gW10sCgkJCW9mZnNldCA9IFswLCAwXSwKCQkJaXNWaXNpYmxlOwoKCQlpZiAocG9zaXRpb24pIHsKCQkJLy8gZGVlcCBleHRlbmRpbmcgY29udmVydHMgYXJyYXlzIHRvIG9iamVjdHMgaW4galF1ZXJ5IDw9IDEuMy4yIDotKAoJLy8JCWlmICh0eXBlb2YgcG9zaXRpb24gPT0gJ3N0cmluZycgfHwgJC5pc0FycmF5KHBvc2l0aW9uKSkgewoJLy8JCQlteUF0ID0gJC5pc0FycmF5KHBvc2l0aW9uKSA/IHBvc2l0aW9uIDogcG9zaXRpb24uc3BsaXQoJyAnKTsKCgkJCWlmICh0eXBlb2YgcG9zaXRpb24gPT09ICdzdHJpbmcnIHx8ICh0eXBlb2YgcG9zaXRpb24gPT09ICdvYmplY3QnICYmICcwJyBpbiBwb3NpdGlvbikpIHsKCQkJCW15QXQgPSBwb3NpdGlvbi5zcGxpdCA/IHBvc2l0aW9uLnNwbGl0KCcgJykgOiBbcG9zaXRpb25bMF0sIHBvc2l0aW9uWzFdXTsKCQkJCWlmIChteUF0Lmxlbmd0aCA9PT0gMSkgewoJCQkJCW15QXRbMV0gPSBteUF0WzBdOwoJCQkJfQoKCQkJCSQuZWFjaChbJ2xlZnQnLCAndG9wJ10sIGZ1bmN0aW9uKGksIG9mZnNldFBvc2l0aW9uKSB7CgkJCQkJaWYgKCtteUF0W2ldID09PSBteUF0W2ldKSB7CgkJCQkJCW9mZnNldFtpXSA9IG15QXRbaV07CgkJCQkJCW15QXRbaV0gPSBvZmZzZXRQb3NpdGlvbjsKCQkJCQl9CgkJCQl9KTsKCgkJCQlwb3NpdGlvbiA9IHsKCQkJCQlteTogbXlBdC5qb2luKCIgIiksCgkJCQkJYXQ6IG15QXQuam9pbigiICIpLAoJCQkJCW9mZnNldDogb2Zmc2V0LmpvaW4oIiAiKQoJCQkJfTsKCQkJfSAKCgkJCXBvc2l0aW9uID0gJC5leHRlbmQoe30sICQudWkuZGlhbG9nLnByb3RvdHlwZS5vcHRpb25zLnBvc2l0aW9uLCBwb3NpdGlvbik7CgkJfSBlbHNlIHsKCQkJcG9zaXRpb24gPSAkLnVpLmRpYWxvZy5wcm90b3R5cGUub3B0aW9ucy5wb3NpdGlvbjsKCQl9CgoJCS8vIG5lZWQgdG8gc2hvdyB0aGUgZGlhbG9nIHRvIGdldCB0aGUgYWN0dWFsIG9mZnNldCBpbiB0aGUgcG9zaXRpb24gcGx1Z2luCgkJaXNWaXNpYmxlID0gdGhpcy51aURpYWxvZy5pcygnOnZpc2libGUnKTsKCQlpZiAoIWlzVmlzaWJsZSkgewoJCQl0aGlzLnVpRGlhbG9nLnNob3coKTsKCQl9CgkJdGhpcy51aURpYWxvZwoJCQkvLyB3b3JrYXJvdW5kIGZvciBqUXVlcnkgYnVnICM1NzgxIGh0dHA6Ly9kZXYuanF1ZXJ5LmNvbS90aWNrZXQvNTc4MQoJCQkuY3NzKHsgdG9wOiAwLCBsZWZ0OiAwIH0pCgkJCS5wb3NpdGlvbigkLmV4dGVuZCh7IG9mOiB3aW5kb3cgfSwgcG9zaXRpb24pKTsKCQlpZiAoIWlzVmlzaWJsZSkgewoJCQl0aGlzLnVpRGlhbG9nLmhpZGUoKTsKCQl9Cgl9LAoKCV9zZXRPcHRpb25zOiBmdW5jdGlvbiggb3B0aW9ucyApIHsKCQl2YXIgc2VsZiA9IHRoaXMsCgkJCXJlc2l6YWJsZU9wdGlvbnMgPSB7fSwKCQkJcmVzaXplID0gZmFsc2U7CgoJCSQuZWFjaCggb3B0aW9ucywgZnVuY3Rpb24oIGtleSwgdmFsdWUgKSB7CgkJCXNlbGYuX3NldE9wdGlvbigga2V5LCB2YWx1ZSApOwoJCQkKCQkJaWYgKCBrZXkgaW4gc2l6ZVJlbGF0ZWRPcHRpb25zICkgewoJCQkJcmVzaXplID0gdHJ1ZTsKCQkJfQoJCQlpZiAoIGtleSBpbiByZXNpemFibGVSZWxhdGVkT3B0aW9ucyApIHsKCQkJCXJlc2l6YWJsZU9wdGlvbnNbIGtleSBdID0gdmFsdWU7CgkJCX0KCQl9KTsKCgkJaWYgKCByZXNpemUgKSB7CgkJCXRoaXMuX3NpemUoKTsKCQl9CgkJaWYgKCB0aGlzLnVpRGlhbG9nLmlzKCAiOmRhdGEocmVzaXphYmxlKSIgKSApIHsKCQkJdGhpcy51aURpYWxvZy5yZXNpemFibGUoICJvcHRpb24iLCByZXNpemFibGVPcHRpb25zICk7CgkJfQoJfSwKCglfc2V0T3B0aW9uOiBmdW5jdGlvbihrZXksIHZhbHVlKXsKCQl2YXIgc2VsZiA9IHRoaXMsCgkJCXVpRGlhbG9nID0gc2VsZi51aURpYWxvZzsKCgkJc3dpdGNoIChrZXkpIHsKCQkJLy9oYW5kbGluZyBvZiBkZXByZWNhdGVkIGJlZm9yZWNsb3NlICh2cyBiZWZvcmVDbG9zZSkgb3B0aW9uCgkJCS8vVGlja2V0ICM0NjY5IGh0dHA6Ly9kZXYuanF1ZXJ5dWkuY29tL3RpY2tldC80NjY5CgkJCS8vVE9ETzogcmVtb3ZlIGluIDEuOXByZQoJCQljYXNlICJiZWZvcmVjbG9zZSI6CgkJCQlrZXkgPSAiYmVmb3JlQ2xvc2UiOwoJCQkJYnJlYWs7CgkJCWNhc2UgImJ1dHRvbnMiOgoJCQkJc2VsZi5fY3JlYXRlQnV0dG9ucyh2YWx1ZSk7CgkJCQlicmVhazsKCQkJY2FzZSAiY2xvc2VUZXh0IjoKCQkJCS8vIGVuc3VyZSB0aGF0IHdlIGFsd2F5cyBwYXNzIGEgc3RyaW5nCgkJCQlzZWxmLnVpRGlhbG9nVGl0bGViYXJDbG9zZVRleHQudGV4dCgiIiArIHZhbHVlKTsKCQkJCWJyZWFrOwoJCQljYXNlICJkaWFsb2dDbGFzcyI6CgkJCQl1aURpYWxvZwoJCQkJCS5yZW1vdmVDbGFzcyhzZWxmLm9wdGlvbnMuZGlhbG9nQ2xhc3MpCgkJCQkJLmFkZENsYXNzKHVpRGlhbG9nQ2xhc3NlcyArIHZhbHVlKTsKCQkJCWJyZWFrOwoJCQljYXNlICJkaXNhYmxlZCI6CgkJCQlpZiAodmFsdWUpIHsKCQkJCQl1aURpYWxvZy5hZGRDbGFzcygndWktZGlhbG9nLWRpc2FibGVkJyk7CgkJCQl9IGVsc2UgewoJCQkJCXVpRGlhbG9nLnJlbW92ZUNsYXNzKCd1aS1kaWFsb2ctZGlzYWJsZWQnKTsKCQkJCX0KCQkJCWJyZWFrOwoJCQljYXNlICJkcmFnZ2FibGUiOgoJCQkJdmFyIGlzRHJhZ2dhYmxlID0gdWlEaWFsb2cuaXMoICI6ZGF0YShkcmFnZ2FibGUpIiApOwoJCQkJaWYgKCBpc0RyYWdnYWJsZSAmJiAhdmFsdWUgKSB7CgkJCQkJdWlEaWFsb2cuZHJhZ2dhYmxlKCAiZGVzdHJveSIgKTsKCQkJCX0KCQkJCQoJCQkJaWYgKCAhaXNEcmFnZ2FibGUgJiYgdmFsdWUgKSB7CgkJCQkJc2VsZi5fbWFrZURyYWdnYWJsZSgpOwoJCQkJfQoJCQkJYnJlYWs7CgkJCWNhc2UgInBvc2l0aW9uIjoKCQkJCXNlbGYuX3Bvc2l0aW9uKHZhbHVlKTsKCQkJCWJyZWFrOwoJCQljYXNlICJyZXNpemFibGUiOgoJCQkJLy8gY3VycmVudGx5IHJlc2l6YWJsZSwgYmVjb21pbmcgbm9uLXJlc2l6YWJsZQoJCQkJdmFyIGlzUmVzaXphYmxlID0gdWlEaWFsb2cuaXMoICI6ZGF0YShyZXNpemFibGUpIiApOwoJCQkJaWYgKGlzUmVzaXphYmxlICYmICF2YWx1ZSkgewoJCQkJCXVpRGlhbG9nLnJlc2l6YWJsZSgnZGVzdHJveScpOwoJCQkJfQoKCQkJCS8vIGN1cnJlbnRseSByZXNpemFibGUsIGNoYW5naW5nIGhhbmRsZXMKCQkJCWlmIChpc1Jlc2l6YWJsZSAmJiB0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7CgkJCQkJdWlEaWFsb2cucmVzaXphYmxlKCdvcHRpb24nLCAnaGFuZGxlcycsIHZhbHVlKTsKCQkJCX0KCgkJCQkvLyBjdXJyZW50bHkgbm9uLXJlc2l6YWJsZSwgYmVjb21pbmcgcmVzaXphYmxlCgkJCQlpZiAoIWlzUmVzaXphYmxlICYmIHZhbHVlICE9PSBmYWxzZSkgewoJCQkJCXNlbGYuX21ha2VSZXNpemFibGUodmFsdWUpOwoJCQkJfQoJCQkJYnJlYWs7CgkJCWNhc2UgInRpdGxlIjoKCQkJCS8vIGNvbnZlcnQgd2hhdGV2ZXIgd2FzIHBhc3NlZCBpbiBvIGEgc3RyaW5nLCBmb3IgaHRtbCgpIHRvIG5vdCB0aHJvdyB1cAoJCQkJJCgiLnVpLWRpYWxvZy10aXRsZSIsIHNlbGYudWlEaWFsb2dUaXRsZWJhcikuaHRtbCgiIiArICh2YWx1ZSB8fCAnJiMxNjA7JykpOwoJCQkJYnJlYWs7CgkJfQoKCQkkLldpZGdldC5wcm90b3R5cGUuX3NldE9wdGlvbi5hcHBseShzZWxmLCBhcmd1bWVudHMpOwoJfSwKCglfc2l6ZTogZnVuY3Rpb24oKSB7CgkJLyogSWYgdGhlIHVzZXIgaGFzIHJlc2l6ZWQgdGhlIGRpYWxvZywgdGhlIC51aS1kaWFsb2cgYW5kIC51aS1kaWFsb2ctY29udGVudAoJCSAqIGRpdnMgd2lsbCBib3RoIGhhdmUgd2lkdGggYW5kIGhlaWdodCBzZXQsIHNvIHdlIG5lZWQgdG8gcmVzZXQgdGhlbQoJCSAqLwoJCXZhciBvcHRpb25zID0gdGhpcy5vcHRpb25zLAoJCQlub25Db250ZW50SGVpZ2h0LAoJCQltaW5Db250ZW50SGVpZ2h0LAoJCQlpc1Zpc2libGUgPSB0aGlzLnVpRGlhbG9nLmlzKCAiOnZpc2libGUiICk7CgoJCS8vIHJlc2V0IGNvbnRlbnQgc2l6aW5nCgkJdGhpcy5lbGVtZW50LnNob3coKS5jc3MoewoJCQl3aWR0aDogJ2F1dG8nLAoJCQltaW5IZWlnaHQ6IDAsCgkJCWhlaWdodDogMAoJCX0pOwoKCQlpZiAob3B0aW9ucy5taW5XaWR0aCA+IG9wdGlvbnMud2lkdGgpIHsKCQkJb3B0aW9ucy53aWR0aCA9IG9wdGlvbnMubWluV2lkdGg7CgkJfQoKCQkvLyByZXNldCB3cmFwcGVyIHNpemluZwoJCS8vIGRldGVybWluZSB0aGUgaGVpZ2h0IG9mIGFsbCB0aGUgbm9uLWNvbnRlbnQgZWxlbWVudHMKCQlub25Db250ZW50SGVpZ2h0ID0gdGhpcy51aURpYWxvZy5jc3MoewoJCQkJaGVpZ2h0OiAnYXV0bycsCgkJCQl3aWR0aDogb3B0aW9ucy53aWR0aAoJCQl9KQoJCQkuaGVpZ2h0KCk7CgkJbWluQ29udGVudEhlaWdodCA9IE1hdGgubWF4KCAwLCBvcHRpb25zLm1pbkhlaWdodCAtIG5vbkNvbnRlbnRIZWlnaHQgKTsKCQkKCQlpZiAoIG9wdGlvbnMuaGVpZ2h0ID09PSAiYXV0byIgKSB7CgkJCS8vIG9ubHkgbmVlZGVkIGZvciBJRTYgc3VwcG9ydAoJCQlpZiAoICQuc3VwcG9ydC5taW5IZWlnaHQgKSB7CgkJCQl0aGlzLmVsZW1lbnQuY3NzKHsKCQkJCQltaW5IZWlnaHQ6IG1pbkNvbnRlbnRIZWlnaHQsCgkJCQkJaGVpZ2h0OiAiYXV0byIKCQkJCX0pOwoJCQl9IGVsc2UgewoJCQkJdGhpcy51aURpYWxvZy5zaG93KCk7CgkJCQl2YXIgYXV0b0hlaWdodCA9IHRoaXMuZWxlbWVudC5jc3MoICJoZWlnaHQiLCAiYXV0byIgKS5oZWlnaHQoKTsKCQkJCWlmICggIWlzVmlzaWJsZSApIHsKCQkJCQl0aGlzLnVpRGlhbG9nLmhpZGUoKTsKCQkJCX0KCQkJCXRoaXMuZWxlbWVudC5oZWlnaHQoIE1hdGgubWF4KCBhdXRvSGVpZ2h0LCBtaW5Db250ZW50SGVpZ2h0ICkgKTsKCQkJfQoJCX0gZWxzZSB7CgkJCXRoaXMuZWxlbWVudC5oZWlnaHQoIE1hdGgubWF4KCBvcHRpb25zLmhlaWdodCAtIG5vbkNvbnRlbnRIZWlnaHQsIDAgKSApOwoJCX0KCgkJaWYgKHRoaXMudWlEaWFsb2cuaXMoJzpkYXRhKHJlc2l6YWJsZSknKSkgewoJCQl0aGlzLnVpRGlhbG9nLnJlc2l6YWJsZSgnb3B0aW9uJywgJ21pbkhlaWdodCcsIHRoaXMuX21pbkhlaWdodCgpKTsKCQl9Cgl9Cn0pOwoKJC5leHRlbmQoJC51aS5kaWFsb2csIHsKCXZlcnNpb246ICIxLjguMjEiLAoKCXV1aWQ6IDAsCgltYXhaOiAwLAoKCWdldFRpdGxlSWQ6IGZ1bmN0aW9uKCRlbCkgewoJCXZhciBpZCA9ICRlbC5hdHRyKCdpZCcpOwoJCWlmICghaWQpIHsKCQkJdGhpcy51dWlkICs9IDE7CgkJCWlkID0gdGhpcy51dWlkOwoJCX0KCQlyZXR1cm4gJ3VpLWRpYWxvZy10aXRsZS0nICsgaWQ7Cgl9LAoKCW92ZXJsYXk6IGZ1bmN0aW9uKGRpYWxvZykgewoJCXRoaXMuJGVsID0gJC51aS5kaWFsb2cub3ZlcmxheS5jcmVhdGUoZGlhbG9nKTsKCX0KfSk7CgokLmV4dGVuZCgkLnVpLmRpYWxvZy5vdmVybGF5LCB7CglpbnN0YW5jZXM6IFtdLAoJLy8gcmV1c2Ugb2xkIGluc3RhbmNlcyBkdWUgdG8gSUUgbWVtb3J5IGxlYWsgd2l0aCBhbHBoYSB0cmFuc3BhcmVuY3kgKHNlZSAjNTE4NSkKCW9sZEluc3RhbmNlczogW10sCgltYXhaOiAwLAoJZXZlbnRzOiAkLm1hcCgnZm9jdXMsbW91c2Vkb3duLG1vdXNldXAsa2V5ZG93bixrZXlwcmVzcyxjbGljaycuc3BsaXQoJywnKSwKCQlmdW5jdGlvbihldmVudCkgeyByZXR1cm4gZXZlbnQgKyAnLmRpYWxvZy1vdmVybGF5JzsgfSkuam9pbignICcpLAoJY3JlYXRlOiBmdW5jdGlvbihkaWFsb2cpIHsKCQlpZiAodGhpcy5pbnN0YW5jZXMubGVuZ3RoID09PSAwKSB7CgkJCS8vIHByZXZlbnQgdXNlIG9mIGFuY2hvcnMgYW5kIGlucHV0cwoJCQkvLyB3ZSB1c2UgYSBzZXRUaW1lb3V0IGluIGNhc2UgdGhlIG92ZXJsYXkgaXMgY3JlYXRlZCBmcm9tIGFuCgkJCS8vIGV2ZW50IHRoYXQgd2UncmUgZ29pbmcgdG8gYmUgY2FuY2VsbGluZyAoc2VlICMyODA0KQoJCQlzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewoJCQkJLy8gaGFuZGxlICQoZWwpLmRpYWxvZygpLmRpYWxvZygnY2xvc2UnKSAoc2VlICM0MDY1KQoJCQkJaWYgKCQudWkuZGlhbG9nLm92ZXJsYXkuaW5zdGFuY2VzLmxlbmd0aCkgewoJCQkJCSQoZG9jdW1lbnQpLmJpbmQoJC51aS5kaWFsb2cub3ZlcmxheS5ldmVudHMsIGZ1bmN0aW9uKGV2ZW50KSB7CgkJCQkJCS8vIHN0b3AgZXZlbnRzIGlmIHRoZSB6LWluZGV4IG9mIHRoZSB0YXJnZXQgaXMgPCB0aGUgei1pbmRleCBvZiB0aGUgb3ZlcmxheQoJCQkJCQkvLyB3ZSBjYW5ub3QgcmV0dXJuIHRydWUgd2hlbiB3ZSBkb24ndCB3YW50IHRvIGNhbmNlbCB0aGUgZXZlbnQgKCMzNTIzKQoJCQkJCQlpZiAoJChldmVudC50YXJnZXQpLnpJbmRleCgpIDwgJC51aS5kaWFsb2cub3ZlcmxheS5tYXhaKSB7CgkJCQkJCQlyZXR1cm4gZmFsc2U7CgkJCQkJCX0KCQkJCQl9KTsKCQkJCX0KCQkJfSwgMSk7CgoJCQkvLyBhbGxvdyBjbG9zaW5nIGJ5IHByZXNzaW5nIHRoZSBlc2NhcGUga2V5CgkJCSQoZG9jdW1lbnQpLmJpbmQoJ2tleWRvd24uZGlhbG9nLW92ZXJsYXknLCBmdW5jdGlvbihldmVudCkgewoJCQkJaWYgKGRpYWxvZy5vcHRpb25zLmNsb3NlT25Fc2NhcGUgJiYgIWV2ZW50LmlzRGVmYXVsdFByZXZlbnRlZCgpICYmIGV2ZW50LmtleUNvZGUgJiYKCQkJCQlldmVudC5rZXlDb2RlID09PSAkLnVpLmtleUNvZGUuRVNDQVBFKSB7CgkJCQkJCgkJCQkJZGlhbG9nLmNsb3NlKGV2ZW50KTsKCQkJCQlldmVudC5wcmV2ZW50RGVmYXVsdCgpOwoJCQkJfQoJCQl9KTsKCgkJCS8vIGhhbmRsZSB3aW5kb3cgcmVzaXplCgkJCSQod2luZG93KS5iaW5kKCdyZXNpemUuZGlhbG9nLW92ZXJsYXknLCAkLnVpLmRpYWxvZy5vdmVybGF5LnJlc2l6ZSk7CgkJfQoKCQl2YXIgJGVsID0gKHRoaXMub2xkSW5zdGFuY2VzLnBvcCgpIHx8ICQoJzxkaXY+PC9kaXY+JykuYWRkQ2xhc3MoJ3VpLXdpZGdldC1vdmVybGF5JykpCgkJCS5hcHBlbmRUbyhkb2N1bWVudC5ib2R5KQoJCQkuY3NzKHsKCQkJCXdpZHRoOiB0aGlzLndpZHRoKCksCgkJCQloZWlnaHQ6IHRoaXMuaGVpZ2h0KCkKCQkJfSk7CgoJCWlmICgkLmZuLmJnaWZyYW1lKSB7CgkJCSRlbC5iZ2lmcmFtZSgpOwoJCX0KCgkJdGhpcy5pbnN0YW5jZXMucHVzaCgkZWwpOwoJCXJldHVybiAkZWw7Cgl9LAoKCWRlc3Ryb3k6IGZ1bmN0aW9uKCRlbCkgewoJCXZhciBpbmRleE9mID0gJC5pbkFycmF5KCRlbCwgdGhpcy5pbnN0YW5jZXMpOwoJCWlmIChpbmRleE9mICE9IC0xKXsKCQkJdGhpcy5vbGRJbnN0YW5jZXMucHVzaCh0aGlzLmluc3RhbmNlcy5zcGxpY2UoaW5kZXhPZiwgMSlbMF0pOwoJCX0KCgkJaWYgKHRoaXMuaW5zdGFuY2VzLmxlbmd0aCA9PT0gMCkgewoJCQkkKFtkb2N1bWVudCwgd2luZG93XSkudW5iaW5kKCcuZGlhbG9nLW92ZXJsYXknKTsKCQl9CgoJCSRlbC5yZW1vdmUoKTsKCQkKCQkvLyBhZGp1c3QgdGhlIG1heFogdG8gYWxsb3cgb3RoZXIgbW9kYWwgZGlhbG9ncyB0byBjb250aW51ZSB0byB3b3JrIChzZWUgIzQzMDkpCgkJdmFyIG1heFogPSAwOwoJCSQuZWFjaCh0aGlzLmluc3RhbmNlcywgZnVuY3Rpb24oKSB7CgkJCW1heFogPSBNYXRoLm1heChtYXhaLCB0aGlzLmNzcygnei1pbmRleCcpKTsKCQl9KTsKCQl0aGlzLm1heFogPSBtYXhaOwoJfSwKCgloZWlnaHQ6IGZ1bmN0aW9uKCkgewoJCXZhciBzY3JvbGxIZWlnaHQsCgkJCW9mZnNldEhlaWdodDsKCQkvLyBoYW5kbGUgSUUgNgoJCWlmICgkLmJyb3dzZXIubXNpZSAmJiAkLmJyb3dzZXIudmVyc2lvbiA8IDcpIHsKCQkJc2Nyb2xsSGVpZ2h0ID0gTWF0aC5tYXgoCgkJCQlkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsSGVpZ2h0LAoJCQkJZG9jdW1lbnQuYm9keS5zY3JvbGxIZWlnaHQKCQkJKTsKCQkJb2Zmc2V0SGVpZ2h0ID0gTWF0aC5tYXgoCgkJCQlkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQub2Zmc2V0SGVpZ2h0LAoJCQkJZG9jdW1lbnQuYm9keS5vZmZzZXRIZWlnaHQKCQkJKTsKCgkJCWlmIChzY3JvbGxIZWlnaHQgPCBvZmZzZXRIZWlnaHQpIHsKCQkJCXJldHVybiAkKHdpbmRvdykuaGVpZ2h0KCkgKyAncHgnOwoJCQl9IGVsc2UgewoJCQkJcmV0dXJuIHNjcm9sbEhlaWdodCArICdweCc7CgkJCX0KCQkvLyBoYW5kbGUgImdvb2QiIGJyb3dzZXJzCgkJfSBlbHNlIHsKCQkJcmV0dXJuICQoZG9jdW1lbnQpLmhlaWdodCgpICsgJ3B4JzsKCQl9Cgl9LAoKCXdpZHRoOiBmdW5jdGlvbigpIHsKCQl2YXIgc2Nyb2xsV2lkdGgsCgkJCW9mZnNldFdpZHRoOwoJCS8vIGhhbmRsZSBJRQoJCWlmICggJC5icm93c2VyLm1zaWUgKSB7CgkJCXNjcm9sbFdpZHRoID0gTWF0aC5tYXgoCgkJCQlkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsV2lkdGgsCgkJCQlkb2N1bWVudC5ib2R5LnNjcm9sbFdpZHRoCgkJCSk7CgkJCW9mZnNldFdpZHRoID0gTWF0aC5tYXgoCgkJCQlkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQub2Zmc2V0V2lkdGgsCgkJCQlkb2N1bWVudC5ib2R5Lm9mZnNldFdpZHRoCgkJCSk7CgoJCQlpZiAoc2Nyb2xsV2lkdGggPCBvZmZzZXRXaWR0aCkgewoJCQkJcmV0dXJuICQod2luZG93KS53aWR0aCgpICsgJ3B4JzsKCQkJfSBlbHNlIHsKCQkJCXJldHVybiBzY3JvbGxXaWR0aCArICdweCc7CgkJCX0KCQkvLyBoYW5kbGUgImdvb2QiIGJyb3dzZXJzCgkJfSBlbHNlIHsKCQkJcmV0dXJuICQoZG9jdW1lbnQpLndpZHRoKCkgKyAncHgnOwoJCX0KCX0sCgoJcmVzaXplOiBmdW5jdGlvbigpIHsKCQkvKiBJZiB0aGUgZGlhbG9nIGlzIGRyYWdnYWJsZSBhbmQgdGhlIHVzZXIgZHJhZ3MgaXQgcGFzdCB0aGUKCQkgKiByaWdodCBlZGdlIG9mIHRoZSB3aW5kb3csIHRoZSBkb2N1bWVudCBiZWNvbWVzIHdpZGVyIHNvIHdlCgkJICogbmVlZCB0byBzdHJldGNoIHRoZSBvdmVybGF5LiBJZiB0aGUgdXNlciB0aGVuIGRyYWdzIHRoZQoJCSAqIGRpYWxvZyBiYWNrIHRvIHRoZSBsZWZ0LCB0aGUgZG9jdW1lbnQgd2lsbCBiZWNvbWUgbmFycm93ZXIsCgkJICogc28gd2UgbmVlZCB0byBzaHJpbmsgdGhlIG92ZXJsYXkgdG8gdGhlIGFwcHJvcHJpYXRlIHNpemUuCgkJICogVGhpcyBpcyBoYW5kbGVkIGJ5IHNocmlua2luZyB0aGUgb3ZlcmxheSBiZWZvcmUgc2V0dGluZyBpdAoJCSAqIHRvIHRoZSBmdWxsIGRvY3VtZW50IHNpemUuCgkJICovCgkJdmFyICRvdmVybGF5cyA9ICQoW10pOwoJCSQuZWFjaCgkLnVpLmRpYWxvZy5vdmVybGF5Lmluc3RhbmNlcywgZnVuY3Rpb24oKSB7CgkJCSRvdmVybGF5cyA9ICRvdmVybGF5cy5hZGQodGhpcyk7CgkJfSk7CgoJCSRvdmVybGF5cy5jc3MoewoJCQl3aWR0aDogMCwKCQkJaGVpZ2h0OiAwCgkJfSkuY3NzKHsKCQkJd2lkdGg6ICQudWkuZGlhbG9nLm92ZXJsYXkud2lkdGgoKSwKCQkJaGVpZ2h0OiAkLnVpLmRpYWxvZy5vdmVybGF5LmhlaWdodCgpCgkJfSk7Cgl9Cn0pOwoKJC5leHRlbmQoJC51aS5kaWFsb2cub3ZlcmxheS5wcm90b3R5cGUsIHsKCWRlc3Ryb3k6IGZ1bmN0aW9uKCkgewoJCSQudWkuZGlhbG9nLm92ZXJsYXkuZGVzdHJveSh0aGlzLiRlbCk7Cgl9Cn0pOwoKfShqUXVlcnkpKTsK</File>
        <File Location="var/httpd/htdocs/js/thirdparty/itrm/jquery-ui-1.8.16/ui/jquery.ui.sortable.js" Permission="644" Encode="Base64">LyohCiAqIGpRdWVyeSBVSSBTb3J0YWJsZSAxLjguMjEKICoKICogQ29weXJpZ2h0IDIwMTIsIEFVVEhPUlMudHh0IChodHRwOi8vanF1ZXJ5dWkuY29tL2Fib3V0KQogKiBEdWFsIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgb3IgR1BMIFZlcnNpb24gMiBsaWNlbnNlcy4KICogaHR0cDovL2pxdWVyeS5vcmcvbGljZW5zZQogKgogKiBodHRwOi8vZG9jcy5qcXVlcnkuY29tL1VJL1NvcnRhYmxlcwogKgogKiBEZXBlbmRzOgogKglqcXVlcnkudWkuY29yZS5qcwogKglqcXVlcnkudWkubW91c2UuanMKICoJanF1ZXJ5LnVpLndpZGdldC5qcwogKi8KKGZ1bmN0aW9uKCAkLCB1bmRlZmluZWQgKSB7CgokLndpZGdldCgidWkuc29ydGFibGUiLCAkLnVpLm1vdXNlLCB7Cgl3aWRnZXRFdmVudFByZWZpeDogInNvcnQiLAoJcmVhZHk6IGZhbHNlLAoJb3B0aW9uczogewoJCWFwcGVuZFRvOiAicGFyZW50IiwKCQlheGlzOiBmYWxzZSwKCQljb25uZWN0V2l0aDogZmFsc2UsCgkJY29udGFpbm1lbnQ6IGZhbHNlLAoJCWN1cnNvcjogJ2F1dG8nLAoJCWN1cnNvckF0OiBmYWxzZSwKCQlkcm9wT25FbXB0eTogdHJ1ZSwKCQlmb3JjZVBsYWNlaG9sZGVyU2l6ZTogZmFsc2UsCgkJZm9yY2VIZWxwZXJTaXplOiBmYWxzZSwKCQlncmlkOiBmYWxzZSwKCQloYW5kbGU6IGZhbHNlLAoJCWhlbHBlcjogIm9yaWdpbmFsIiwKCQlpdGVtczogJz4gKicsCgkJb3BhY2l0eTogZmFsc2UsCgkJcGxhY2Vob2xkZXI6IGZhbHNlLAoJCXJldmVydDogZmFsc2UsCgkJc2Nyb2xsOiB0cnVlLAoJCXNjcm9sbFNlbnNpdGl2aXR5OiAyMCwKCQlzY3JvbGxTcGVlZDogMjAsCgkJc2NvcGU6ICJkZWZhdWx0IiwKCQl0b2xlcmFuY2U6ICJpbnRlcnNlY3QiLAoJCXpJbmRleDogMTAwMAoJfSwKCV9jcmVhdGU6IGZ1bmN0aW9uKCkgewoKCQl2YXIgbyA9IHRoaXMub3B0aW9uczsKCQl0aGlzLmNvbnRhaW5lckNhY2hlID0ge307CgkJdGhpcy5lbGVtZW50LmFkZENsYXNzKCJ1aS1zb3J0YWJsZSIpOwoKCQkvL0dldCB0aGUgaXRlbXMKCQl0aGlzLnJlZnJlc2goKTsKCgkJLy9MZXQncyBkZXRlcm1pbmUgaWYgdGhlIGl0ZW1zIGFyZSBiZWluZyBkaXNwbGF5ZWQgaG9yaXpvbnRhbGx5CgkJdGhpcy5mbG9hdGluZyA9IHRoaXMuaXRlbXMubGVuZ3RoID8gby5heGlzID09PSAneCcgfHwgKC9sZWZ0fHJpZ2h0LykudGVzdCh0aGlzLml0ZW1zWzBdLml0ZW0uY3NzKCdmbG9hdCcpKSB8fCAoL2lubGluZXx0YWJsZS1jZWxsLykudGVzdCh0aGlzLml0ZW1zWzBdLml0ZW0uY3NzKCdkaXNwbGF5JykpIDogZmFsc2U7CgoJCS8vTGV0J3MgZGV0ZXJtaW5lIHRoZSBwYXJlbnQncyBvZmZzZXQKCQl0aGlzLm9mZnNldCA9IHRoaXMuZWxlbWVudC5vZmZzZXQoKTsKCgkJLy9Jbml0aWFsaXplIG1vdXNlIGV2ZW50cyBmb3IgaW50ZXJhY3Rpb24KCQl0aGlzLl9tb3VzZUluaXQoKTsKCQkKCQkvL1dlJ3JlIHJlYWR5IHRvIGdvCgkJdGhpcy5yZWFkeSA9IHRydWUKCgl9LAoKCWRlc3Ryb3k6IGZ1bmN0aW9uKCkgewoJCSQuV2lkZ2V0LnByb3RvdHlwZS5kZXN0cm95LmNhbGwoIHRoaXMgKTsKCQl0aGlzLmVsZW1lbnQKCQkJLnJlbW92ZUNsYXNzKCJ1aS1zb3J0YWJsZSB1aS1zb3J0YWJsZS1kaXNhYmxlZCIpOwoJCXRoaXMuX21vdXNlRGVzdHJveSgpOwoKCQlmb3IgKCB2YXIgaSA9IHRoaXMuaXRlbXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0gKQoJCQl0aGlzLml0ZW1zW2ldLml0ZW0ucmVtb3ZlRGF0YSh0aGlzLndpZGdldE5hbWUgKyAiLWl0ZW0iKTsKCgkJcmV0dXJuIHRoaXM7Cgl9LAoKCV9zZXRPcHRpb246IGZ1bmN0aW9uKGtleSwgdmFsdWUpewoJCWlmICgga2V5ID09PSAiZGlzYWJsZWQiICkgewoJCQl0aGlzLm9wdGlvbnNbIGtleSBdID0gdmFsdWU7CgkKCQkJdGhpcy53aWRnZXQoKQoJCQkJWyB2YWx1ZSA/ICJhZGRDbGFzcyIgOiAicmVtb3ZlQ2xhc3MiXSggInVpLXNvcnRhYmxlLWRpc2FibGVkIiApOwoJCX0gZWxzZSB7CgkJCS8vIERvbid0IGNhbGwgd2lkZ2V0IGJhc2UgX3NldE9wdGlvbiBmb3IgZGlzYWJsZSBhcyBpdCBhZGRzIHVpLXN0YXRlLWRpc2FibGVkIGNsYXNzCgkJCSQuV2lkZ2V0LnByb3RvdHlwZS5fc2V0T3B0aW9uLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CgkJfQoJfSwKCglfbW91c2VDYXB0dXJlOiBmdW5jdGlvbihldmVudCwgb3ZlcnJpZGVIYW5kbGUpIHsKCQl2YXIgdGhhdCA9IHRoaXM7CgoJCWlmICh0aGlzLnJldmVydGluZykgewoJCQlyZXR1cm4gZmFsc2U7CgkJfQoKCQlpZih0aGlzLm9wdGlvbnMuZGlzYWJsZWQgfHwgdGhpcy5vcHRpb25zLnR5cGUgPT0gJ3N0YXRpYycpIHJldHVybiBmYWxzZTsKCgkJLy9XZSBoYXZlIHRvIHJlZnJlc2ggdGhlIGl0ZW1zIGRhdGEgb25jZSBmaXJzdAoJCXRoaXMuX3JlZnJlc2hJdGVtcyhldmVudCk7CgoJCS8vRmluZCBvdXQgaWYgdGhlIGNsaWNrZWQgbm9kZSAob3Igb25lIG9mIGl0cyBwYXJlbnRzKSBpcyBhIGFjdHVhbCBpdGVtIGluIHRoaXMuaXRlbXMKCQl2YXIgY3VycmVudEl0ZW0gPSBudWxsLCBzZWxmID0gdGhpcywgbm9kZXMgPSAkKGV2ZW50LnRhcmdldCkucGFyZW50cygpLmVhY2goZnVuY3Rpb24oKSB7CgkJCWlmKCQuZGF0YSh0aGlzLCB0aGF0LndpZGdldE5hbWUgKyAnLWl0ZW0nKSA9PSBzZWxmKSB7CgkJCQljdXJyZW50SXRlbSA9ICQodGhpcyk7CgkJCQlyZXR1cm4gZmFsc2U7CgkJCX0KCQl9KTsKCQlpZigkLmRhdGEoZXZlbnQudGFyZ2V0LCB0aGF0LndpZGdldE5hbWUgKyAnLWl0ZW0nKSA9PSBzZWxmKSBjdXJyZW50SXRlbSA9ICQoZXZlbnQudGFyZ2V0KTsKCgkJaWYoIWN1cnJlbnRJdGVtKSByZXR1cm4gZmFsc2U7CgkJaWYodGhpcy5vcHRpb25zLmhhbmRsZSAmJiAhb3ZlcnJpZGVIYW5kbGUpIHsKCQkJdmFyIHZhbGlkSGFuZGxlID0gZmFsc2U7CgoJCQkkKHRoaXMub3B0aW9ucy5oYW5kbGUsIGN1cnJlbnRJdGVtKS5maW5kKCIqIikuYW5kU2VsZigpLmVhY2goZnVuY3Rpb24oKSB7IGlmKHRoaXMgPT0gZXZlbnQudGFyZ2V0KSB2YWxpZEhhbmRsZSA9IHRydWU7IH0pOwoJCQlpZighdmFsaWRIYW5kbGUpIHJldHVybiBmYWxzZTsKCQl9CgoJCXRoaXMuY3VycmVudEl0ZW0gPSBjdXJyZW50SXRlbTsKCQl0aGlzLl9yZW1vdmVDdXJyZW50c0Zyb21JdGVtcygpOwoJCXJldHVybiB0cnVlOwoKCX0sCgoJX21vdXNlU3RhcnQ6IGZ1bmN0aW9uKGV2ZW50LCBvdmVycmlkZUhhbmRsZSwgbm9BY3RpdmF0aW9uKSB7CgoJCXZhciBvID0gdGhpcy5vcHRpb25zLCBzZWxmID0gdGhpczsKCQl0aGlzLmN1cnJlbnRDb250YWluZXIgPSB0aGlzOwoKCQkvL1dlIG9ubHkgbmVlZCB0byBjYWxsIHJlZnJlc2hQb3NpdGlvbnMsIGJlY2F1c2UgdGhlIHJlZnJlc2hJdGVtcyBjYWxsIGhhcyBiZWVuIG1vdmVkIHRvIG1vdXNlQ2FwdHVyZQoJCXRoaXMucmVmcmVzaFBvc2l0aW9ucygpOwoKCQkvL0NyZWF0ZSBhbmQgYXBwZW5kIHRoZSB2aXNpYmxlIGhlbHBlcgoJCXRoaXMuaGVscGVyID0gdGhpcy5fY3JlYXRlSGVscGVyKGV2ZW50KTsKCgkJLy9DYWNoZSB0aGUgaGVscGVyIHNpemUKCQl0aGlzLl9jYWNoZUhlbHBlclByb3BvcnRpb25zKCk7CgoJCS8qCgkJICogLSBQb3NpdGlvbiBnZW5lcmF0aW9uIC0KCQkgKiBUaGlzIGJsb2NrIGdlbmVyYXRlcyBldmVyeXRoaW5nIHBvc2l0aW9uIHJlbGF0ZWQgLSBpdCdzIHRoZSBjb3JlIG9mIGRyYWdnYWJsZXMuCgkJICovCgoJCS8vQ2FjaGUgdGhlIG1hcmdpbnMgb2YgdGhlIG9yaWdpbmFsIGVsZW1lbnQKCQl0aGlzLl9jYWNoZU1hcmdpbnMoKTsKCgkJLy9HZXQgdGhlIG5leHQgc2Nyb2xsaW5nIHBhcmVudAoJCXRoaXMuc2Nyb2xsUGFyZW50ID0gdGhpcy5oZWxwZXIuc2Nyb2xsUGFyZW50KCk7CgoJCS8vVGhlIGVsZW1lbnQncyBhYnNvbHV0ZSBwb3NpdGlvbiBvbiB0aGUgcGFnZSBtaW51cyBtYXJnaW5zCgkJdGhpcy5vZmZzZXQgPSB0aGlzLmN1cnJlbnRJdGVtLm9mZnNldCgpOwoJCXRoaXMub2Zmc2V0ID0gewoJCQl0b3A6IHRoaXMub2Zmc2V0LnRvcCAtIHRoaXMubWFyZ2lucy50b3AsCgkJCWxlZnQ6IHRoaXMub2Zmc2V0LmxlZnQgLSB0aGlzLm1hcmdpbnMubGVmdAoJCX07CgoJCSQuZXh0ZW5kKHRoaXMub2Zmc2V0LCB7CgkJCWNsaWNrOiB7IC8vV2hlcmUgdGhlIGNsaWNrIGhhcHBlbmVkLCByZWxhdGl2ZSB0byB0aGUgZWxlbWVudAoJCQkJbGVmdDogZXZlbnQucGFnZVggLSB0aGlzLm9mZnNldC5sZWZ0LAoJCQkJdG9wOiBldmVudC5wYWdlWSAtIHRoaXMub2Zmc2V0LnRvcAoJCQl9LAoJCQlwYXJlbnQ6IHRoaXMuX2dldFBhcmVudE9mZnNldCgpLAoJCQlyZWxhdGl2ZTogdGhpcy5fZ2V0UmVsYXRpdmVPZmZzZXQoKSAvL1RoaXMgaXMgYSByZWxhdGl2ZSB0byBhYnNvbHV0ZSBwb3NpdGlvbiBtaW51cyB0aGUgYWN0dWFsIHBvc2l0aW9uIGNhbGN1bGF0aW9uIC0gb25seSB1c2VkIGZvciByZWxhdGl2ZSBwb3NpdGlvbmVkIGhlbHBlcgoJCX0pOwoKCQkvLyBPbmx5IGFmdGVyIHdlIGdvdCB0aGUgb2Zmc2V0LCB3ZSBjYW4gY2hhbmdlIHRoZSBoZWxwZXIncyBwb3NpdGlvbiB0byBhYnNvbHV0ZQoJCS8vIFRPRE86IFN0aWxsIG5lZWQgdG8gZmlndXJlIG91dCBhIHdheSB0byBtYWtlIHJlbGF0aXZlIHNvcnRpbmcgcG9zc2libGUKCQl0aGlzLmhlbHBlci5jc3MoInBvc2l0aW9uIiwgImFic29sdXRlIik7CgkJdGhpcy5jc3NQb3NpdGlvbiA9IHRoaXMuaGVscGVyLmNzcygicG9zaXRpb24iKTsKCQkKCQkvL0dlbmVyYXRlIHRoZSBvcmlnaW5hbCBwb3NpdGlvbgoJCXRoaXMub3JpZ2luYWxQb3NpdGlvbiA9IHRoaXMuX2dlbmVyYXRlUG9zaXRpb24oZXZlbnQpOwoJCXRoaXMub3JpZ2luYWxQYWdlWCA9IGV2ZW50LnBhZ2VYOwoJCXRoaXMub3JpZ2luYWxQYWdlWSA9IGV2ZW50LnBhZ2VZOwoKCQkvL0FkanVzdCB0aGUgbW91c2Ugb2Zmc2V0IHJlbGF0aXZlIHRvIHRoZSBoZWxwZXIgaWYgJ2N1cnNvckF0JyBpcyBzdXBwbGllZAoJCShvLmN1cnNvckF0ICYmIHRoaXMuX2FkanVzdE9mZnNldEZyb21IZWxwZXIoby5jdXJzb3JBdCkpOwoKCQkvL0NhY2hlIHRoZSBmb3JtZXIgRE9NIHBvc2l0aW9uCgkJdGhpcy5kb21Qb3NpdGlvbiA9IHsgcHJldjogdGhpcy5jdXJyZW50SXRlbS5wcmV2KClbMF0sIHBhcmVudDogdGhpcy5jdXJyZW50SXRlbS5wYXJlbnQoKVswXSB9OwoKCQkvL0lmIHRoZSBoZWxwZXIgaXMgbm90IHRoZSBvcmlnaW5hbCwgaGlkZSB0aGUgb3JpZ2luYWwgc28gaXQncyBub3QgcGxheWluZyBhbnkgcm9sZSBkdXJpbmcgdGhlIGRyYWcsIHdvbid0IGNhdXNlIGFueXRoaW5nIGJhZCB0aGlzIHdheQoJCWlmKHRoaXMuaGVscGVyWzBdICE9IHRoaXMuY3VycmVudEl0ZW1bMF0pIHsKCQkJdGhpcy5jdXJyZW50SXRlbS5oaWRlKCk7CgkJfQoKCQkvL0NyZWF0ZSB0aGUgcGxhY2Vob2xkZXIKCQl0aGlzLl9jcmVhdGVQbGFjZWhvbGRlcigpOwoKCQkvL1NldCBhIGNvbnRhaW5tZW50IGlmIGdpdmVuIGluIHRoZSBvcHRpb25zCgkJaWYoby5jb250YWlubWVudCkKCQkJdGhpcy5fc2V0Q29udGFpbm1lbnQoKTsKCgkJaWYoby5jdXJzb3IpIHsgLy8gY3Vyc29yIG9wdGlvbgoJCQlpZiAoJCgnYm9keScpLmNzcygiY3Vyc29yIikpIHRoaXMuX3N0b3JlZEN1cnNvciA9ICQoJ2JvZHknKS5jc3MoImN1cnNvciIpOwoJCQkkKCdib2R5JykuY3NzKCJjdXJzb3IiLCBvLmN1cnNvcik7CgkJfQoKCQlpZihvLm9wYWNpdHkpIHsgLy8gb3BhY2l0eSBvcHRpb24KCQkJaWYgKHRoaXMuaGVscGVyLmNzcygib3BhY2l0eSIpKSB0aGlzLl9zdG9yZWRPcGFjaXR5ID0gdGhpcy5oZWxwZXIuY3NzKCJvcGFjaXR5Iik7CgkJCXRoaXMuaGVscGVyLmNzcygib3BhY2l0eSIsIG8ub3BhY2l0eSk7CgkJfQoKCQlpZihvLnpJbmRleCkgeyAvLyB6SW5kZXggb3B0aW9uCgkJCWlmICh0aGlzLmhlbHBlci5jc3MoInpJbmRleCIpKSB0aGlzLl9zdG9yZWRaSW5kZXggPSB0aGlzLmhlbHBlci5jc3MoInpJbmRleCIpOwoJCQl0aGlzLmhlbHBlci5jc3MoInpJbmRleCIsIG8uekluZGV4KTsKCQl9CgoJCS8vUHJlcGFyZSBzY3JvbGxpbmcKCQlpZih0aGlzLnNjcm9sbFBhcmVudFswXSAhPSBkb2N1bWVudCAmJiB0aGlzLnNjcm9sbFBhcmVudFswXS50YWdOYW1lICE9ICdIVE1MJykKCQkJdGhpcy5vdmVyZmxvd09mZnNldCA9IHRoaXMuc2Nyb2xsUGFyZW50Lm9mZnNldCgpOwoKCQkvL0NhbGwgY2FsbGJhY2tzCgkJdGhpcy5fdHJpZ2dlcigic3RhcnQiLCBldmVudCwgdGhpcy5fdWlIYXNoKCkpOwoKCQkvL1JlY2FjaGUgdGhlIGhlbHBlciBzaXplCgkJaWYoIXRoaXMuX3ByZXNlcnZlSGVscGVyUHJvcG9ydGlvbnMpCgkJCXRoaXMuX2NhY2hlSGVscGVyUHJvcG9ydGlvbnMoKTsKCgoJCS8vUG9zdCAnYWN0aXZhdGUnIGV2ZW50cyB0byBwb3NzaWJsZSBjb250YWluZXJzCgkJaWYoIW5vQWN0aXZhdGlvbikgewoJCQkgZm9yICh2YXIgaSA9IHRoaXMuY29udGFpbmVycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgeyB0aGlzLmNvbnRhaW5lcnNbaV0uX3RyaWdnZXIoImFjdGl2YXRlIiwgZXZlbnQsIHNlbGYuX3VpSGFzaCh0aGlzKSk7IH0KCQl9CgoJCS8vUHJlcGFyZSBwb3NzaWJsZSBkcm9wcGFibGVzCgkJaWYoJC51aS5kZG1hbmFnZXIpCgkJCSQudWkuZGRtYW5hZ2VyLmN1cnJlbnQgPSB0aGlzOwoKCQlpZiAoJC51aS5kZG1hbmFnZXIgJiYgIW8uZHJvcEJlaGF2aW91cikKCQkJJC51aS5kZG1hbmFnZXIucHJlcGFyZU9mZnNldHModGhpcywgZXZlbnQpOwoKCQl0aGlzLmRyYWdnaW5nID0gdHJ1ZTsKCgkJdGhpcy5oZWxwZXIuYWRkQ2xhc3MoInVpLXNvcnRhYmxlLWhlbHBlciIpOwoJCXRoaXMuX21vdXNlRHJhZyhldmVudCk7IC8vRXhlY3V0ZSB0aGUgZHJhZyBvbmNlIC0gdGhpcyBjYXVzZXMgdGhlIGhlbHBlciBub3QgdG8gYmUgdmlzaWJsZSBiZWZvcmUgZ2V0dGluZyBpdHMgY29ycmVjdCBwb3NpdGlvbgoJCXJldHVybiB0cnVlOwoKCX0sCgoJX21vdXNlRHJhZzogZnVuY3Rpb24oZXZlbnQpIHsKCgkJLy9Db21wdXRlIHRoZSBoZWxwZXJzIHBvc2l0aW9uCgkJdGhpcy5wb3NpdGlvbiA9IHRoaXMuX2dlbmVyYXRlUG9zaXRpb24oZXZlbnQpOwoJCXRoaXMucG9zaXRpb25BYnMgPSB0aGlzLl9jb252ZXJ0UG9zaXRpb25UbygiYWJzb2x1dGUiKTsKCgkJaWYgKCF0aGlzLmxhc3RQb3NpdGlvbkFicykgewoJCQl0aGlzLmxhc3RQb3NpdGlvbkFicyA9IHRoaXMucG9zaXRpb25BYnM7CgkJfQoKCQkvL0RvIHNjcm9sbGluZwoJCWlmKHRoaXMub3B0aW9ucy5zY3JvbGwpIHsKCQkJdmFyIG8gPSB0aGlzLm9wdGlvbnMsIHNjcm9sbGVkID0gZmFsc2U7CgkJCWlmKHRoaXMuc2Nyb2xsUGFyZW50WzBdICE9IGRvY3VtZW50ICYmIHRoaXMuc2Nyb2xsUGFyZW50WzBdLnRhZ05hbWUgIT0gJ0hUTUwnKSB7CgoJCQkJaWYoKHRoaXMub3ZlcmZsb3dPZmZzZXQudG9wICsgdGhpcy5zY3JvbGxQYXJlbnRbMF0ub2Zmc2V0SGVpZ2h0KSAtIGV2ZW50LnBhZ2VZIDwgby5zY3JvbGxTZW5zaXRpdml0eSkKCQkJCQl0aGlzLnNjcm9sbFBhcmVudFswXS5zY3JvbGxUb3AgPSBzY3JvbGxlZCA9IHRoaXMuc2Nyb2xsUGFyZW50WzBdLnNjcm9sbFRvcCArIG8uc2Nyb2xsU3BlZWQ7CgkJCQllbHNlIGlmKGV2ZW50LnBhZ2VZIC0gdGhpcy5vdmVyZmxvd09mZnNldC50b3AgPCBvLnNjcm9sbFNlbnNpdGl2aXR5KQoJCQkJCXRoaXMuc2Nyb2xsUGFyZW50WzBdLnNjcm9sbFRvcCA9IHNjcm9sbGVkID0gdGhpcy5zY3JvbGxQYXJlbnRbMF0uc2Nyb2xsVG9wIC0gby5zY3JvbGxTcGVlZDsKCgkJCQlpZigodGhpcy5vdmVyZmxvd09mZnNldC5sZWZ0ICsgdGhpcy5zY3JvbGxQYXJlbnRbMF0ub2Zmc2V0V2lkdGgpIC0gZXZlbnQucGFnZVggPCBvLnNjcm9sbFNlbnNpdGl2aXR5KQoJCQkJCXRoaXMuc2Nyb2xsUGFyZW50WzBdLnNjcm9sbExlZnQgPSBzY3JvbGxlZCA9IHRoaXMuc2Nyb2xsUGFyZW50WzBdLnNjcm9sbExlZnQgKyBvLnNjcm9sbFNwZWVkOwoJCQkJZWxzZSBpZihldmVudC5wYWdlWCAtIHRoaXMub3ZlcmZsb3dPZmZzZXQubGVmdCA8IG8uc2Nyb2xsU2Vuc2l0aXZpdHkpCgkJCQkJdGhpcy5zY3JvbGxQYXJlbnRbMF0uc2Nyb2xsTGVmdCA9IHNjcm9sbGVkID0gdGhpcy5zY3JvbGxQYXJlbnRbMF0uc2Nyb2xsTGVmdCAtIG8uc2Nyb2xsU3BlZWQ7CgoJCQl9IGVsc2UgewoKCQkJCWlmKGV2ZW50LnBhZ2VZIC0gJChkb2N1bWVudCkuc2Nyb2xsVG9wKCkgPCBvLnNjcm9sbFNlbnNpdGl2aXR5KQoJCQkJCXNjcm9sbGVkID0gJChkb2N1bWVudCkuc2Nyb2xsVG9wKCQoZG9jdW1lbnQpLnNjcm9sbFRvcCgpIC0gby5zY3JvbGxTcGVlZCk7CgkJCQllbHNlIGlmKCQod2luZG93KS5oZWlnaHQoKSAtIChldmVudC5wYWdlWSAtICQoZG9jdW1lbnQpLnNjcm9sbFRvcCgpKSA8IG8uc2Nyb2xsU2Vuc2l0aXZpdHkpCgkJCQkJc2Nyb2xsZWQgPSAkKGRvY3VtZW50KS5zY3JvbGxUb3AoJChkb2N1bWVudCkuc2Nyb2xsVG9wKCkgKyBvLnNjcm9sbFNwZWVkKTsKCgkJCQlpZihldmVudC5wYWdlWCAtICQoZG9jdW1lbnQpLnNjcm9sbExlZnQoKSA8IG8uc2Nyb2xsU2Vuc2l0aXZpdHkpCgkJCQkJc2Nyb2xsZWQgPSAkKGRvY3VtZW50KS5zY3JvbGxMZWZ0KCQoZG9jdW1lbnQpLnNjcm9sbExlZnQoKSAtIG8uc2Nyb2xsU3BlZWQpOwoJCQkJZWxzZSBpZigkKHdpbmRvdykud2lkdGgoKSAtIChldmVudC5wYWdlWCAtICQoZG9jdW1lbnQpLnNjcm9sbExlZnQoKSkgPCBvLnNjcm9sbFNlbnNpdGl2aXR5KQoJCQkJCXNjcm9sbGVkID0gJChkb2N1bWVudCkuc2Nyb2xsTGVmdCgkKGRvY3VtZW50KS5zY3JvbGxMZWZ0KCkgKyBvLnNjcm9sbFNwZWVkKTsKCgkJCX0KCgkJCWlmKHNjcm9sbGVkICE9PSBmYWxzZSAmJiAkLnVpLmRkbWFuYWdlciAmJiAhby5kcm9wQmVoYXZpb3VyKQoJCQkJJC51aS5kZG1hbmFnZXIucHJlcGFyZU9mZnNldHModGhpcywgZXZlbnQpOwoJCX0KCgkJLy9SZWdlbmVyYXRlIHRoZSBhYnNvbHV0ZSBwb3NpdGlvbiB1c2VkIGZvciBwb3NpdGlvbiBjaGVja3MKCQl0aGlzLnBvc2l0aW9uQWJzID0gdGhpcy5fY29udmVydFBvc2l0aW9uVG8oImFic29sdXRlIik7CgoJCS8vU2V0IHRoZSBoZWxwZXIgcG9zaXRpb24KCQlpZighdGhpcy5vcHRpb25zLmF4aXMgfHwgdGhpcy5vcHRpb25zLmF4aXMgIT0gInkiKSB0aGlzLmhlbHBlclswXS5zdHlsZS5sZWZ0ID0gdGhpcy5wb3NpdGlvbi5sZWZ0KydweCc7CgkJaWYoIXRoaXMub3B0aW9ucy5heGlzIHx8IHRoaXMub3B0aW9ucy5heGlzICE9ICJ4IikgdGhpcy5oZWxwZXJbMF0uc3R5bGUudG9wID0gdGhpcy5wb3NpdGlvbi50b3ArJ3B4JzsKCgkJLy9SZWFycmFuZ2UKCQlmb3IgKHZhciBpID0gdGhpcy5pdGVtcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgewoKCQkJLy9DYWNoZSB2YXJpYWJsZXMgYW5kIGludGVyc2VjdGlvbiwgY29udGludWUgaWYgbm8gaW50ZXJzZWN0aW9uCgkJCXZhciBpdGVtID0gdGhpcy5pdGVtc1tpXSwgaXRlbUVsZW1lbnQgPSBpdGVtLml0ZW1bMF0sIGludGVyc2VjdGlvbiA9IHRoaXMuX2ludGVyc2VjdHNXaXRoUG9pbnRlcihpdGVtKTsKCQkJaWYgKCFpbnRlcnNlY3Rpb24pIGNvbnRpbnVlOwoKCQkJaWYoaXRlbUVsZW1lbnQgIT0gdGhpcy5jdXJyZW50SXRlbVswXSAvL2Nhbm5vdCBpbnRlcnNlY3Qgd2l0aCBpdHNlbGYKCQkJCSYmCXRoaXMucGxhY2Vob2xkZXJbaW50ZXJzZWN0aW9uID09IDEgPyAibmV4dCIgOiAicHJldiJdKClbMF0gIT0gaXRlbUVsZW1lbnQgLy9ubyB1c2VsZXNzIGFjdGlvbnMgdGhhdCBoYXZlIGJlZW4gZG9uZSBiZWZvcmUKCQkJCSYmCSEkLnVpLmNvbnRhaW5zKHRoaXMucGxhY2Vob2xkZXJbMF0sIGl0ZW1FbGVtZW50KSAvL25vIGFjdGlvbiBpZiB0aGUgaXRlbSBtb3ZlZCBpcyB0aGUgcGFyZW50IG9mIHRoZSBpdGVtIGNoZWNrZWQKCQkJCSYmICh0aGlzLm9wdGlvbnMudHlwZSA9PSAnc2VtaS1keW5hbWljJyA/ICEkLnVpLmNvbnRhaW5zKHRoaXMuZWxlbWVudFswXSwgaXRlbUVsZW1lbnQpIDogdHJ1ZSkKCQkJCS8vJiYgaXRlbUVsZW1lbnQucGFyZW50Tm9kZSA9PSB0aGlzLnBsYWNlaG9sZGVyWzBdLnBhcmVudE5vZGUgLy8gb25seSByZWFycmFuZ2UgaXRlbXMgd2l0aGluIHRoZSBzYW1lIGNvbnRhaW5lcgoJCQkpIHsKCgkJCQl0aGlzLmRpcmVjdGlvbiA9IGludGVyc2VjdGlvbiA9PSAxID8gImRvd24iIDogInVwIjsKCgkJCQlpZiAodGhpcy5vcHRpb25zLnRvbGVyYW5jZSA9PSAicG9pbnRlciIgfHwgdGhpcy5faW50ZXJzZWN0c1dpdGhTaWRlcyhpdGVtKSkgewoJCQkJCXRoaXMuX3JlYXJyYW5nZShldmVudCwgaXRlbSk7CgkJCQl9IGVsc2UgewoJCQkJCWJyZWFrOwoJCQkJfQoKCQkJCXRoaXMuX3RyaWdnZXIoImNoYW5nZSIsIGV2ZW50LCB0aGlzLl91aUhhc2goKSk7CgkJCQlicmVhazsKCQkJfQoJCX0KCgkJLy9Qb3N0IGV2ZW50cyB0byBjb250YWluZXJzCgkJdGhpcy5fY29udGFjdENvbnRhaW5lcnMoZXZlbnQpOwoKCQkvL0ludGVyY29ubmVjdCB3aXRoIGRyb3BwYWJsZXMKCQlpZigkLnVpLmRkbWFuYWdlcikgJC51aS5kZG1hbmFnZXIuZHJhZyh0aGlzLCBldmVudCk7CgoJCS8vQ2FsbCBjYWxsYmFja3MKCQl0aGlzLl90cmlnZ2VyKCdzb3J0JywgZXZlbnQsIHRoaXMuX3VpSGFzaCgpKTsKCgkJdGhpcy5sYXN0UG9zaXRpb25BYnMgPSB0aGlzLnBvc2l0aW9uQWJzOwoJCXJldHVybiBmYWxzZTsKCgl9LAoKCV9tb3VzZVN0b3A6IGZ1bmN0aW9uKGV2ZW50LCBub1Byb3BhZ2F0aW9uKSB7CgoJCWlmKCFldmVudCkgcmV0dXJuOwoKCQkvL0lmIHdlIGFyZSB1c2luZyBkcm9wcGFibGVzLCBpbmZvcm0gdGhlIG1hbmFnZXIgYWJvdXQgdGhlIGRyb3AKCQlpZiAoJC51aS5kZG1hbmFnZXIgJiYgIXRoaXMub3B0aW9ucy5kcm9wQmVoYXZpb3VyKQoJCQkkLnVpLmRkbWFuYWdlci5kcm9wKHRoaXMsIGV2ZW50KTsKCgkJaWYodGhpcy5vcHRpb25zLnJldmVydCkgewoJCQl2YXIgc2VsZiA9IHRoaXM7CgkJCXZhciBjdXIgPSBzZWxmLnBsYWNlaG9sZGVyLm9mZnNldCgpOwoKCQkJc2VsZi5yZXZlcnRpbmcgPSB0cnVlOwoKCQkJJCh0aGlzLmhlbHBlcikuYW5pbWF0ZSh7CgkJCQlsZWZ0OiBjdXIubGVmdCAtIHRoaXMub2Zmc2V0LnBhcmVudC5sZWZ0IC0gc2VsZi5tYXJnaW5zLmxlZnQgKyAodGhpcy5vZmZzZXRQYXJlbnRbMF0gPT0gZG9jdW1lbnQuYm9keSA/IDAgOiB0aGlzLm9mZnNldFBhcmVudFswXS5zY3JvbGxMZWZ0KSwKCQkJCXRvcDogY3VyLnRvcCAtIHRoaXMub2Zmc2V0LnBhcmVudC50b3AgLSBzZWxmLm1hcmdpbnMudG9wICsgKHRoaXMub2Zmc2V0UGFyZW50WzBdID09IGRvY3VtZW50LmJvZHkgPyAwIDogdGhpcy5vZmZzZXRQYXJlbnRbMF0uc2Nyb2xsVG9wKQoJCQl9LCBwYXJzZUludCh0aGlzLm9wdGlvbnMucmV2ZXJ0LCAxMCkgfHwgNTAwLCBmdW5jdGlvbigpIHsKCQkJCXNlbGYuX2NsZWFyKGV2ZW50KTsKCQkJfSk7CgkJfSBlbHNlIHsKCQkJdGhpcy5fY2xlYXIoZXZlbnQsIG5vUHJvcGFnYXRpb24pOwoJCX0KCgkJcmV0dXJuIGZhbHNlOwoKCX0sCgoJY2FuY2VsOiBmdW5jdGlvbigpIHsKCgkJdmFyIHNlbGYgPSB0aGlzOwoKCQlpZih0aGlzLmRyYWdnaW5nKSB7CgoJCQl0aGlzLl9tb3VzZVVwKHsgdGFyZ2V0OiBudWxsIH0pOwoKCQkJaWYodGhpcy5vcHRpb25zLmhlbHBlciA9PSAib3JpZ2luYWwiKQoJCQkJdGhpcy5jdXJyZW50SXRlbS5jc3ModGhpcy5fc3RvcmVkQ1NTKS5yZW1vdmVDbGFzcygidWktc29ydGFibGUtaGVscGVyIik7CgkJCWVsc2UKCQkJCXRoaXMuY3VycmVudEl0ZW0uc2hvdygpOwoKCQkJLy9Qb3N0IGRlYWN0aXZhdGluZyBldmVudHMgdG8gY29udGFpbmVycwoJCQlmb3IgKHZhciBpID0gdGhpcy5jb250YWluZXJzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKXsKCQkJCXRoaXMuY29udGFpbmVyc1tpXS5fdHJpZ2dlcigiZGVhY3RpdmF0ZSIsIG51bGwsIHNlbGYuX3VpSGFzaCh0aGlzKSk7CgkJCQlpZih0aGlzLmNvbnRhaW5lcnNbaV0uY29udGFpbmVyQ2FjaGUub3ZlcikgewoJCQkJCXRoaXMuY29udGFpbmVyc1tpXS5fdHJpZ2dlcigib3V0IiwgbnVsbCwgc2VsZi5fdWlIYXNoKHRoaXMpKTsKCQkJCQl0aGlzLmNvbnRhaW5lcnNbaV0uY29udGFpbmVyQ2FjaGUub3ZlciA9IDA7CgkJCQl9CgkJCX0KCgkJfQoKCQlpZiAodGhpcy5wbGFjZWhvbGRlcikgewoJCQkvLyQodGhpcy5wbGFjZWhvbGRlclswXSkucmVtb3ZlKCk7IHdvdWxkIGhhdmUgYmVlbiB0aGUgalF1ZXJ5IHdheSAtIHVuZm9ydHVuYXRlbHksIGl0IHVuYmluZHMgQUxMIGV2ZW50cyBmcm9tIHRoZSBvcmlnaW5hbCBub2RlIQoJCQlpZih0aGlzLnBsYWNlaG9sZGVyWzBdLnBhcmVudE5vZGUpIHRoaXMucGxhY2Vob2xkZXJbMF0ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLnBsYWNlaG9sZGVyWzBdKTsKCQkJaWYodGhpcy5vcHRpb25zLmhlbHBlciAhPSAib3JpZ2luYWwiICYmIHRoaXMuaGVscGVyICYmIHRoaXMuaGVscGVyWzBdLnBhcmVudE5vZGUpIHRoaXMuaGVscGVyLnJlbW92ZSgpOwoKCQkJJC5leHRlbmQodGhpcywgewoJCQkJaGVscGVyOiBudWxsLAoJCQkJZHJhZ2dpbmc6IGZhbHNlLAoJCQkJcmV2ZXJ0aW5nOiBmYWxzZSwKCQkJCV9ub0ZpbmFsU29ydDogbnVsbAoJCQl9KTsKCgkJCWlmKHRoaXMuZG9tUG9zaXRpb24ucHJldikgewoJCQkJJCh0aGlzLmRvbVBvc2l0aW9uLnByZXYpLmFmdGVyKHRoaXMuY3VycmVudEl0ZW0pOwoJCQl9IGVsc2UgewoJCQkJJCh0aGlzLmRvbVBvc2l0aW9uLnBhcmVudCkucHJlcGVuZCh0aGlzLmN1cnJlbnRJdGVtKTsKCQkJfQoJCX0KCgkJcmV0dXJuIHRoaXM7CgoJfSwKCglzZXJpYWxpemU6IGZ1bmN0aW9uKG8pIHsKCgkJdmFyIGl0ZW1zID0gdGhpcy5fZ2V0SXRlbXNBc2pRdWVyeShvICYmIG8uY29ubmVjdGVkKTsKCQl2YXIgc3RyID0gW107IG8gPSBvIHx8IHt9OwoKCQkkKGl0ZW1zKS5lYWNoKGZ1bmN0aW9uKCkgewoJCQl2YXIgcmVzID0gKCQoby5pdGVtIHx8IHRoaXMpLmF0dHIoby5hdHRyaWJ1dGUgfHwgJ2lkJykgfHwgJycpLm1hdGNoKG8uZXhwcmVzc2lvbiB8fCAoLyguKylbLT1fXSguKykvKSk7CgkJCWlmKHJlcykgc3RyLnB1c2goKG8ua2V5IHx8IHJlc1sxXSsnW10nKSsnPScrKG8ua2V5ICYmIG8uZXhwcmVzc2lvbiA/IHJlc1sxXSA6IHJlc1syXSkpOwoJCX0pOwoKCQlpZighc3RyLmxlbmd0aCAmJiBvLmtleSkgewoJCQlzdHIucHVzaChvLmtleSArICc9Jyk7CgkJfQoKCQlyZXR1cm4gc3RyLmpvaW4oJyYnKTsKCgl9LAoKCXRvQXJyYXk6IGZ1bmN0aW9uKG8pIHsKCgkJdmFyIGl0ZW1zID0gdGhpcy5fZ2V0SXRlbXNBc2pRdWVyeShvICYmIG8uY29ubmVjdGVkKTsKCQl2YXIgcmV0ID0gW107IG8gPSBvIHx8IHt9OwoKCQlpdGVtcy5lYWNoKGZ1bmN0aW9uKCkgeyByZXQucHVzaCgkKG8uaXRlbSB8fCB0aGlzKS5hdHRyKG8uYXR0cmlidXRlIHx8ICdpZCcpIHx8ICcnKTsgfSk7CgkJcmV0dXJuIHJldDsKCgl9LAoKCS8qIEJlIGNhcmVmdWwgd2l0aCB0aGUgZm9sbG93aW5nIGNvcmUgZnVuY3Rpb25zICovCglfaW50ZXJzZWN0c1dpdGg6IGZ1bmN0aW9uKGl0ZW0pIHsKCgkJdmFyIHgxID0gdGhpcy5wb3NpdGlvbkFicy5sZWZ0LAoJCQl4MiA9IHgxICsgdGhpcy5oZWxwZXJQcm9wb3J0aW9ucy53aWR0aCwKCQkJeTEgPSB0aGlzLnBvc2l0aW9uQWJzLnRvcCwKCQkJeTIgPSB5MSArIHRoaXMuaGVscGVyUHJvcG9ydGlvbnMuaGVpZ2h0OwoKCQl2YXIgbCA9IGl0ZW0ubGVmdCwKCQkJciA9IGwgKyBpdGVtLndpZHRoLAoJCQl0ID0gaXRlbS50b3AsCgkJCWIgPSB0ICsgaXRlbS5oZWlnaHQ7CgoJCXZhciBkeUNsaWNrID0gdGhpcy5vZmZzZXQuY2xpY2sudG9wLAoJCQlkeENsaWNrID0gdGhpcy5vZmZzZXQuY2xpY2subGVmdDsKCgkJdmFyIGlzT3ZlckVsZW1lbnQgPSAoeTEgKyBkeUNsaWNrKSA+IHQgJiYgKHkxICsgZHlDbGljaykgPCBiICYmICh4MSArIGR4Q2xpY2spID4gbCAmJiAoeDEgKyBkeENsaWNrKSA8IHI7CgoJCWlmKAkgICB0aGlzLm9wdGlvbnMudG9sZXJhbmNlID09ICJwb2ludGVyIgoJCQl8fCB0aGlzLm9wdGlvbnMuZm9yY2VQb2ludGVyRm9yQ29udGFpbmVycwoJCQl8fCAodGhpcy5vcHRpb25zLnRvbGVyYW5jZSAhPSAicG9pbnRlciIgJiYgdGhpcy5oZWxwZXJQcm9wb3J0aW9uc1t0aGlzLmZsb2F0aW5nID8gJ3dpZHRoJyA6ICdoZWlnaHQnXSA+IGl0ZW1bdGhpcy5mbG9hdGluZyA/ICd3aWR0aCcgOiAnaGVpZ2h0J10pCgkJKSB7CgkJCXJldHVybiBpc092ZXJFbGVtZW50OwoJCX0gZWxzZSB7CgoJCQlyZXR1cm4gKGwgPCB4MSArICh0aGlzLmhlbHBlclByb3BvcnRpb25zLndpZHRoIC8gMikgLy8gUmlnaHQgSGFsZgoJCQkJJiYgeDIgLSAodGhpcy5oZWxwZXJQcm9wb3J0aW9ucy53aWR0aCAvIDIpIDwgciAvLyBMZWZ0IEhhbGYKCQkJCSYmIHQgPCB5MSArICh0aGlzLmhlbHBlclByb3BvcnRpb25zLmhlaWdodCAvIDIpIC8vIEJvdHRvbSBIYWxmCgkJCQkmJiB5MiAtICh0aGlzLmhlbHBlclByb3BvcnRpb25zLmhlaWdodCAvIDIpIDwgYiApOyAvLyBUb3AgSGFsZgoKCQl9Cgl9LAoKCV9pbnRlcnNlY3RzV2l0aFBvaW50ZXI6IGZ1bmN0aW9uKGl0ZW0pIHsKCgkJdmFyIGlzT3ZlckVsZW1lbnRIZWlnaHQgPSAodGhpcy5vcHRpb25zLmF4aXMgPT09ICd4JykgfHwgJC51aS5pc092ZXJBeGlzKHRoaXMucG9zaXRpb25BYnMudG9wICsgdGhpcy5vZmZzZXQuY2xpY2sudG9wLCBpdGVtLnRvcCwgaXRlbS5oZWlnaHQpLAoJCQlpc092ZXJFbGVtZW50V2lkdGggPSAodGhpcy5vcHRpb25zLmF4aXMgPT09ICd5JykgfHwgJC51aS5pc092ZXJBeGlzKHRoaXMucG9zaXRpb25BYnMubGVmdCArIHRoaXMub2Zmc2V0LmNsaWNrLmxlZnQsIGl0ZW0ubGVmdCwgaXRlbS53aWR0aCksCgkJCWlzT3ZlckVsZW1lbnQgPSBpc092ZXJFbGVtZW50SGVpZ2h0ICYmIGlzT3ZlckVsZW1lbnRXaWR0aCwKCQkJdmVydGljYWxEaXJlY3Rpb24gPSB0aGlzLl9nZXREcmFnVmVydGljYWxEaXJlY3Rpb24oKSwKCQkJaG9yaXpvbnRhbERpcmVjdGlvbiA9IHRoaXMuX2dldERyYWdIb3Jpem9udGFsRGlyZWN0aW9uKCk7CgoJCWlmICghaXNPdmVyRWxlbWVudCkKCQkJcmV0dXJuIGZhbHNlOwoKCQlyZXR1cm4gdGhpcy5mbG9hdGluZyA/CgkJCSggKChob3Jpem9udGFsRGlyZWN0aW9uICYmIGhvcml6b250YWxEaXJlY3Rpb24gPT0gInJpZ2h0IikgfHwgdmVydGljYWxEaXJlY3Rpb24gPT0gImRvd24iKSA/IDIgOiAxICkKCQkJOiAoIHZlcnRpY2FsRGlyZWN0aW9uICYmICh2ZXJ0aWNhbERpcmVjdGlvbiA9PSAiZG93biIgPyAyIDogMSkgKTsKCgl9LAoKCV9pbnRlcnNlY3RzV2l0aFNpZGVzOiBmdW5jdGlvbihpdGVtKSB7CgoJCXZhciBpc092ZXJCb3R0b21IYWxmID0gJC51aS5pc092ZXJBeGlzKHRoaXMucG9zaXRpb25BYnMudG9wICsgdGhpcy5vZmZzZXQuY2xpY2sudG9wLCBpdGVtLnRvcCArIChpdGVtLmhlaWdodC8yKSwgaXRlbS5oZWlnaHQpLAoJCQlpc092ZXJSaWdodEhhbGYgPSAkLnVpLmlzT3ZlckF4aXModGhpcy5wb3NpdGlvbkFicy5sZWZ0ICsgdGhpcy5vZmZzZXQuY2xpY2subGVmdCwgaXRlbS5sZWZ0ICsgKGl0ZW0ud2lkdGgvMiksIGl0ZW0ud2lkdGgpLAoJCQl2ZXJ0aWNhbERpcmVjdGlvbiA9IHRoaXMuX2dldERyYWdWZXJ0aWNhbERpcmVjdGlvbigpLAoJCQlob3Jpem9udGFsRGlyZWN0aW9uID0gdGhpcy5fZ2V0RHJhZ0hvcml6b250YWxEaXJlY3Rpb24oKTsKCgkJaWYgKHRoaXMuZmxvYXRpbmcgJiYgaG9yaXpvbnRhbERpcmVjdGlvbikgewoJCQlyZXR1cm4gKChob3Jpem9udGFsRGlyZWN0aW9uID09ICJyaWdodCIgJiYgaXNPdmVyUmlnaHRIYWxmKSB8fCAoaG9yaXpvbnRhbERpcmVjdGlvbiA9PSAibGVmdCIgJiYgIWlzT3ZlclJpZ2h0SGFsZikpOwoJCX0gZWxzZSB7CgkJCXJldHVybiB2ZXJ0aWNhbERpcmVjdGlvbiAmJiAoKHZlcnRpY2FsRGlyZWN0aW9uID09ICJkb3duIiAmJiBpc092ZXJCb3R0b21IYWxmKSB8fCAodmVydGljYWxEaXJlY3Rpb24gPT0gInVwIiAmJiAhaXNPdmVyQm90dG9tSGFsZikpOwoJCX0KCgl9LAoKCV9nZXREcmFnVmVydGljYWxEaXJlY3Rpb246IGZ1bmN0aW9uKCkgewoJCXZhciBkZWx0YSA9IHRoaXMucG9zaXRpb25BYnMudG9wIC0gdGhpcy5sYXN0UG9zaXRpb25BYnMudG9wOwoJCXJldHVybiBkZWx0YSAhPSAwICYmIChkZWx0YSA+IDAgPyAiZG93biIgOiAidXAiKTsKCX0sCgoJX2dldERyYWdIb3Jpem9udGFsRGlyZWN0aW9uOiBmdW5jdGlvbigpIHsKCQl2YXIgZGVsdGEgPSB0aGlzLnBvc2l0aW9uQWJzLmxlZnQgLSB0aGlzLmxhc3RQb3NpdGlvbkFicy5sZWZ0OwoJCXJldHVybiBkZWx0YSAhPSAwICYmIChkZWx0YSA+IDAgPyAicmlnaHQiIDogImxlZnQiKTsKCX0sCgoJcmVmcmVzaDogZnVuY3Rpb24oZXZlbnQpIHsKCQl0aGlzLl9yZWZyZXNoSXRlbXMoZXZlbnQpOwoJCXRoaXMucmVmcmVzaFBvc2l0aW9ucygpOwoJCXJldHVybiB0aGlzOwoJfSwKCglfY29ubmVjdFdpdGg6IGZ1bmN0aW9uKCkgewoJCXZhciBvcHRpb25zID0gdGhpcy5vcHRpb25zOwoJCXJldHVybiBvcHRpb25zLmNvbm5lY3RXaXRoLmNvbnN0cnVjdG9yID09IFN0cmluZwoJCQk/IFtvcHRpb25zLmNvbm5lY3RXaXRoXQoJCQk6IG9wdGlvbnMuY29ubmVjdFdpdGg7Cgl9LAoJCglfZ2V0SXRlbXNBc2pRdWVyeTogZnVuY3Rpb24oY29ubmVjdGVkKSB7CgoJCXZhciBzZWxmID0gdGhpczsKCQl2YXIgaXRlbXMgPSBbXTsKCQl2YXIgcXVlcmllcyA9IFtdOwoJCXZhciBjb25uZWN0V2l0aCA9IHRoaXMuX2Nvbm5lY3RXaXRoKCk7CgoJCWlmKGNvbm5lY3RXaXRoICYmIGNvbm5lY3RlZCkgewoJCQlmb3IgKHZhciBpID0gY29ubmVjdFdpdGgubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pewoJCQkJdmFyIGN1ciA9ICQoY29ubmVjdFdpdGhbaV0pOwoJCQkJZm9yICh2YXIgaiA9IGN1ci5sZW5ndGggLSAxOyBqID49IDA7IGotLSl7CgkJCQkJdmFyIGluc3QgPSAkLmRhdGEoY3VyW2pdLCB0aGlzLndpZGdldE5hbWUpOwoJCQkJCWlmKGluc3QgJiYgaW5zdCAhPSB0aGlzICYmICFpbnN0Lm9wdGlvbnMuZGlzYWJsZWQpIHsKCQkJCQkJcXVlcmllcy5wdXNoKFskLmlzRnVuY3Rpb24oaW5zdC5vcHRpb25zLml0ZW1zKSA/IGluc3Qub3B0aW9ucy5pdGVtcy5jYWxsKGluc3QuZWxlbWVudCkgOiAkKGluc3Qub3B0aW9ucy5pdGVtcywgaW5zdC5lbGVtZW50KS5ub3QoIi51aS1zb3J0YWJsZS1oZWxwZXIiKS5ub3QoJy51aS1zb3J0YWJsZS1wbGFjZWhvbGRlcicpLCBpbnN0XSk7CgkJCQkJfQoJCQkJfTsKCQkJfTsKCQl9CgoJCXF1ZXJpZXMucHVzaChbJC5pc0Z1bmN0aW9uKHRoaXMub3B0aW9ucy5pdGVtcykgPyB0aGlzLm9wdGlvbnMuaXRlbXMuY2FsbCh0aGlzLmVsZW1lbnQsIG51bGwsIHsgb3B0aW9uczogdGhpcy5vcHRpb25zLCBpdGVtOiB0aGlzLmN1cnJlbnRJdGVtIH0pIDogJCh0aGlzLm9wdGlvbnMuaXRlbXMsIHRoaXMuZWxlbWVudCkubm90KCIudWktc29ydGFibGUtaGVscGVyIikubm90KCcudWktc29ydGFibGUtcGxhY2Vob2xkZXInKSwgdGhpc10pOwoKCQlmb3IgKHZhciBpID0gcXVlcmllcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSl7CgkJCXF1ZXJpZXNbaV1bMF0uZWFjaChmdW5jdGlvbigpIHsKCQkJCWl0ZW1zLnB1c2godGhpcyk7CgkJCX0pOwoJCX07CgoJCXJldHVybiAkKGl0ZW1zKTsKCgl9LAoKCV9yZW1vdmVDdXJyZW50c0Zyb21JdGVtczogZnVuY3Rpb24oKSB7CgoJCXZhciBsaXN0ID0gdGhpcy5jdXJyZW50SXRlbS5maW5kKCI6ZGF0YSgiICsgdGhpcy53aWRnZXROYW1lICsgIi1pdGVtKSIpOwoKCQlmb3IgKHZhciBpPTA7IGkgPCB0aGlzLml0ZW1zLmxlbmd0aDsgaSsrKSB7CgoJCQlmb3IgKHZhciBqPTA7IGogPCBsaXN0Lmxlbmd0aDsgaisrKSB7CgkJCQlpZihsaXN0W2pdID09IHRoaXMuaXRlbXNbaV0uaXRlbVswXSkKCQkJCQl0aGlzLml0ZW1zLnNwbGljZShpLDEpOwoJCQl9OwoKCQl9OwoKCX0sCgoJX3JlZnJlc2hJdGVtczogZnVuY3Rpb24oZXZlbnQpIHsKCgkJdGhpcy5pdGVtcyA9IFtdOwoJCXRoaXMuY29udGFpbmVycyA9IFt0aGlzXTsKCQl2YXIgaXRlbXMgPSB0aGlzLml0ZW1zOwoJCXZhciBzZWxmID0gdGhpczsKCQl2YXIgcXVlcmllcyA9IFtbJC5pc0Z1bmN0aW9uKHRoaXMub3B0aW9ucy5pdGVtcykgPyB0aGlzLm9wdGlvbnMuaXRlbXMuY2FsbCh0aGlzLmVsZW1lbnRbMF0sIGV2ZW50LCB7IGl0ZW06IHRoaXMuY3VycmVudEl0ZW0gfSkgOiAkKHRoaXMub3B0aW9ucy5pdGVtcywgdGhpcy5lbGVtZW50KSwgdGhpc11dOwoJCXZhciBjb25uZWN0V2l0aCA9IHRoaXMuX2Nvbm5lY3RXaXRoKCk7CgoJCWlmKGNvbm5lY3RXaXRoICYmIHRoaXMucmVhZHkpIHsgLy9TaG91bGRuJ3QgYmUgcnVuIHRoZSBmaXJzdCB0aW1lIHRocm91Z2ggZHVlIHRvIG1hc3NpdmUgc2xvdy1kb3duCgkJCWZvciAodmFyIGkgPSBjb25uZWN0V2l0aC5sZW5ndGggLSAxOyBpID49IDA7IGktLSl7CgkJCQl2YXIgY3VyID0gJChjb25uZWN0V2l0aFtpXSk7CgkJCQlmb3IgKHZhciBqID0gY3VyLmxlbmd0aCAtIDE7IGogPj0gMDsgai0tKXsKCQkJCQl2YXIgaW5zdCA9ICQuZGF0YShjdXJbal0sIHRoaXMud2lkZ2V0TmFtZSk7CgkJCQkJaWYoaW5zdCAmJiBpbnN0ICE9IHRoaXMgJiYgIWluc3Qub3B0aW9ucy5kaXNhYmxlZCkgewoJCQkJCQlxdWVyaWVzLnB1c2goWyQuaXNGdW5jdGlvbihpbnN0Lm9wdGlvbnMuaXRlbXMpID8gaW5zdC5vcHRpb25zLml0ZW1zLmNhbGwoaW5zdC5lbGVtZW50WzBdLCBldmVudCwgeyBpdGVtOiB0aGlzLmN1cnJlbnRJdGVtIH0pIDogJChpbnN0Lm9wdGlvbnMuaXRlbXMsIGluc3QuZWxlbWVudCksIGluc3RdKTsKCQkJCQkJdGhpcy5jb250YWluZXJzLnB1c2goaW5zdCk7CgkJCQkJfQoJCQkJfTsKCQkJfTsKCQl9CgoJCWZvciAodmFyIGkgPSBxdWVyaWVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7CgkJCXZhciB0YXJnZXREYXRhID0gcXVlcmllc1tpXVsxXTsKCQkJdmFyIF9xdWVyaWVzID0gcXVlcmllc1tpXVswXTsKCgkJCWZvciAodmFyIGo9MCwgcXVlcmllc0xlbmd0aCA9IF9xdWVyaWVzLmxlbmd0aDsgaiA8IHF1ZXJpZXNMZW5ndGg7IGorKykgewoJCQkJdmFyIGl0ZW0gPSAkKF9xdWVyaWVzW2pdKTsKCgkJCQlpdGVtLmRhdGEodGhpcy53aWRnZXROYW1lICsgJy1pdGVtJywgdGFyZ2V0RGF0YSk7IC8vIERhdGEgZm9yIHRhcmdldCBjaGVja2luZyAobW91c2UgbWFuYWdlcikKCgkJCQlpdGVtcy5wdXNoKHsKCQkJCQlpdGVtOiBpdGVtLAoJCQkJCWluc3RhbmNlOiB0YXJnZXREYXRhLAoJCQkJCXdpZHRoOiAwLCBoZWlnaHQ6IDAsCgkJCQkJbGVmdDogMCwgdG9wOiAwCgkJCQl9KTsKCQkJfTsKCQl9OwoKCX0sCgoJcmVmcmVzaFBvc2l0aW9uczogZnVuY3Rpb24oZmFzdCkgewoKCQkvL1RoaXMgaGFzIHRvIGJlIHJlZG9uZSBiZWNhdXNlIGR1ZSB0byB0aGUgaXRlbSBiZWluZyBtb3ZlZCBvdXQvaW50byB0aGUgb2Zmc2V0UGFyZW50LCB0aGUgb2Zmc2V0UGFyZW50J3MgcG9zaXRpb24gd2lsbCBjaGFuZ2UKCQlpZih0aGlzLm9mZnNldFBhcmVudCAmJiB0aGlzLmhlbHBlcikgewoJCQl0aGlzLm9mZnNldC5wYXJlbnQgPSB0aGlzLl9nZXRQYXJlbnRPZmZzZXQoKTsKCQl9CgoJCWZvciAodmFyIGkgPSB0aGlzLml0ZW1zLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKXsKCQkJdmFyIGl0ZW0gPSB0aGlzLml0ZW1zW2ldOwoKCQkJLy9XZSBpZ25vcmUgY2FsY3VsYXRpbmcgcG9zaXRpb25zIG9mIGFsbCBjb25uZWN0ZWQgY29udGFpbmVycyB3aGVuIHdlJ3JlIG5vdCBvdmVyIHRoZW0KCQkJaWYoaXRlbS5pbnN0YW5jZSAhPSB0aGlzLmN1cnJlbnRDb250YWluZXIgJiYgdGhpcy5jdXJyZW50Q29udGFpbmVyICYmIGl0ZW0uaXRlbVswXSAhPSB0aGlzLmN1cnJlbnRJdGVtWzBdKQoJCQkJY29udGludWU7CgoJCQl2YXIgdCA9IHRoaXMub3B0aW9ucy50b2xlcmFuY2VFbGVtZW50ID8gJCh0aGlzLm9wdGlvbnMudG9sZXJhbmNlRWxlbWVudCwgaXRlbS5pdGVtKSA6IGl0ZW0uaXRlbTsKCgkJCWlmICghZmFzdCkgewoJCQkJaXRlbS53aWR0aCA9IHQub3V0ZXJXaWR0aCgpOwoJCQkJaXRlbS5oZWlnaHQgPSB0Lm91dGVySGVpZ2h0KCk7CgkJCX0KCgkJCXZhciBwID0gdC5vZmZzZXQoKTsKCQkJaXRlbS5sZWZ0ID0gcC5sZWZ0OwoJCQlpdGVtLnRvcCA9IHAudG9wOwoJCX07CgoJCWlmKHRoaXMub3B0aW9ucy5jdXN0b20gJiYgdGhpcy5vcHRpb25zLmN1c3RvbS5yZWZyZXNoQ29udGFpbmVycykgewoJCQl0aGlzLm9wdGlvbnMuY3VzdG9tLnJlZnJlc2hDb250YWluZXJzLmNhbGwodGhpcyk7CgkJfSBlbHNlIHsKCQkJZm9yICh2YXIgaSA9IHRoaXMuY29udGFpbmVycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSl7CgkJCQl2YXIgcCA9IHRoaXMuY29udGFpbmVyc1tpXS5lbGVtZW50Lm9mZnNldCgpOwoJCQkJdGhpcy5jb250YWluZXJzW2ldLmNvbnRhaW5lckNhY2hlLmxlZnQgPSBwLmxlZnQ7CgkJCQl0aGlzLmNvbnRhaW5lcnNbaV0uY29udGFpbmVyQ2FjaGUudG9wID0gcC50b3A7CgkJCQl0aGlzLmNvbnRhaW5lcnNbaV0uY29udGFpbmVyQ2FjaGUud2lkdGgJPSB0aGlzLmNvbnRhaW5lcnNbaV0uZWxlbWVudC5vdXRlcldpZHRoKCk7CgkJCQl0aGlzLmNvbnRhaW5lcnNbaV0uY29udGFpbmVyQ2FjaGUuaGVpZ2h0ID0gdGhpcy5jb250YWluZXJzW2ldLmVsZW1lbnQub3V0ZXJIZWlnaHQoKTsKCQkJfTsKCQl9CgoJCXJldHVybiB0aGlzOwoJfSwKCglfY3JlYXRlUGxhY2Vob2xkZXI6IGZ1bmN0aW9uKHRoYXQpIHsKCgkJdmFyIHNlbGYgPSB0aGF0IHx8IHRoaXMsIG8gPSBzZWxmLm9wdGlvbnM7CgoJCWlmKCFvLnBsYWNlaG9sZGVyIHx8IG8ucGxhY2Vob2xkZXIuY29uc3RydWN0b3IgPT0gU3RyaW5nKSB7CgkJCXZhciBjbGFzc05hbWUgPSBvLnBsYWNlaG9sZGVyOwoJCQlvLnBsYWNlaG9sZGVyID0gewoJCQkJZWxlbWVudDogZnVuY3Rpb24oKSB7CgoJCQkJCXZhciBlbCA9ICQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudChzZWxmLmN1cnJlbnRJdGVtWzBdLm5vZGVOYW1lKSkKCQkJCQkJLmFkZENsYXNzKGNsYXNzTmFtZSB8fCBzZWxmLmN1cnJlbnRJdGVtWzBdLmNsYXNzTmFtZSsiIHVpLXNvcnRhYmxlLXBsYWNlaG9sZGVyIikKCQkJCQkJLnJlbW92ZUNsYXNzKCJ1aS1zb3J0YWJsZS1oZWxwZXIiKVswXTsKCgkJCQkJaWYoIWNsYXNzTmFtZSkKCQkJCQkJZWwuc3R5bGUudmlzaWJpbGl0eSA9ICJoaWRkZW4iOwoKCQkJCQlyZXR1cm4gZWw7CgkJCQl9LAoJCQkJdXBkYXRlOiBmdW5jdGlvbihjb250YWluZXIsIHApIHsKCgkJCQkJLy8gMS4gSWYgYSBjbGFzc05hbWUgaXMgc2V0IGFzICdwbGFjZWhvbGRlciBvcHRpb24sIHdlIGRvbid0IGZvcmNlIHNpemVzIC0gdGhlIGNsYXNzIGlzIHJlc3BvbnNpYmxlIGZvciB0aGF0CgkJCQkJLy8gMi4gVGhlIG9wdGlvbiAnZm9yY2VQbGFjZWhvbGRlclNpemUgY2FuIGJlIGVuYWJsZWQgdG8gZm9yY2UgaXQgZXZlbiBpZiBhIGNsYXNzIG5hbWUgaXMgc3BlY2lmaWVkCgkJCQkJaWYoY2xhc3NOYW1lICYmICFvLmZvcmNlUGxhY2Vob2xkZXJTaXplKSByZXR1cm47CgoJCQkJCS8vSWYgdGhlIGVsZW1lbnQgZG9lc24ndCBoYXZlIGEgYWN0dWFsIGhlaWdodCBieSBpdHNlbGYgKHdpdGhvdXQgc3R5bGVzIGNvbWluZyBmcm9tIGEgc3R5bGVzaGVldCksIGl0IHJlY2VpdmVzIHRoZSBpbmxpbmUgaGVpZ2h0IGZyb20gdGhlIGRyYWdnZWQgaXRlbQoJCQkJCWlmKCFwLmhlaWdodCgpKSB7IHAuaGVpZ2h0KHNlbGYuY3VycmVudEl0ZW0uaW5uZXJIZWlnaHQoKSAtIHBhcnNlSW50KHNlbGYuY3VycmVudEl0ZW0uY3NzKCdwYWRkaW5nVG9wJyl8fDAsIDEwKSAtIHBhcnNlSW50KHNlbGYuY3VycmVudEl0ZW0uY3NzKCdwYWRkaW5nQm90dG9tJyl8fDAsIDEwKSk7IH07CgkJCQkJaWYoIXAud2lkdGgoKSkgeyBwLndpZHRoKHNlbGYuY3VycmVudEl0ZW0uaW5uZXJXaWR0aCgpIC0gcGFyc2VJbnQoc2VsZi5jdXJyZW50SXRlbS5jc3MoJ3BhZGRpbmdMZWZ0Jyl8fDAsIDEwKSAtIHBhcnNlSW50KHNlbGYuY3VycmVudEl0ZW0uY3NzKCdwYWRkaW5nUmlnaHQnKXx8MCwgMTApKTsgfTsKCQkJCX0KCQkJfTsKCQl9CgoJCS8vQ3JlYXRlIHRoZSBwbGFjZWhvbGRlcgoJCXNlbGYucGxhY2Vob2xkZXIgPSAkKG8ucGxhY2Vob2xkZXIuZWxlbWVudC5jYWxsKHNlbGYuZWxlbWVudCwgc2VsZi5jdXJyZW50SXRlbSkpOwoKCQkvL0FwcGVuZCBpdCBhZnRlciB0aGUgYWN0dWFsIGN1cnJlbnQgaXRlbQoJCXNlbGYuY3VycmVudEl0ZW0uYWZ0ZXIoc2VsZi5wbGFjZWhvbGRlcik7CgoJCS8vVXBkYXRlIHRoZSBzaXplIG9mIHRoZSBwbGFjZWhvbGRlciAoVE9ETzogTG9naWMgdG8gZnV6enksIHNlZSBsaW5lIDMxNi8zMTcpCgkJby5wbGFjZWhvbGRlci51cGRhdGUoc2VsZiwgc2VsZi5wbGFjZWhvbGRlcik7CgoJfSwKCglfY29udGFjdENvbnRhaW5lcnM6IGZ1bmN0aW9uKGV2ZW50KSB7CgkJCgkJLy8gZ2V0IGlubmVybW9zdCBjb250YWluZXIgdGhhdCBpbnRlcnNlY3RzIHdpdGggaXRlbSAKCQl2YXIgaW5uZXJtb3N0Q29udGFpbmVyID0gbnVsbCwgaW5uZXJtb3N0SW5kZXggPSBudWxsOwkJCgkJCgkJCgkJZm9yICh2YXIgaSA9IHRoaXMuY29udGFpbmVycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSl7CgoJCQkvLyBuZXZlciBjb25zaWRlciBhIGNvbnRhaW5lciB0aGF0J3MgbG9jYXRlZCB3aXRoaW4gdGhlIGl0ZW0gaXRzZWxmIAoJCQlpZigkLnVpLmNvbnRhaW5zKHRoaXMuY3VycmVudEl0ZW1bMF0sIHRoaXMuY29udGFpbmVyc1tpXS5lbGVtZW50WzBdKSkKCQkJCWNvbnRpbnVlOwoKCQkJaWYodGhpcy5faW50ZXJzZWN0c1dpdGgodGhpcy5jb250YWluZXJzW2ldLmNvbnRhaW5lckNhY2hlKSkgewoKCQkJCS8vIGlmIHdlJ3ZlIGFscmVhZHkgZm91bmQgYSBjb250YWluZXIgYW5kIGl0J3MgbW9yZSAiaW5uZXIiIHRoYW4gdGhpcywgdGhlbiBjb250aW51ZSAKCQkJCWlmKGlubmVybW9zdENvbnRhaW5lciAmJiAkLnVpLmNvbnRhaW5zKHRoaXMuY29udGFpbmVyc1tpXS5lbGVtZW50WzBdLCBpbm5lcm1vc3RDb250YWluZXIuZWxlbWVudFswXSkpCgkJCQkJY29udGludWU7CgoJCQkJaW5uZXJtb3N0Q29udGFpbmVyID0gdGhpcy5jb250YWluZXJzW2ldOyAKCQkJCWlubmVybW9zdEluZGV4ID0gaTsKCQkJCQkKCQkJfSBlbHNlIHsKCQkJCS8vIGNvbnRhaW5lciBkb2Vzbid0IGludGVyc2VjdC4gdHJpZ2dlciAib3V0IiBldmVudCBpZiBuZWNlc3NhcnkgCgkJCQlpZih0aGlzLmNvbnRhaW5lcnNbaV0uY29udGFpbmVyQ2FjaGUub3ZlcikgewoJCQkJCXRoaXMuY29udGFpbmVyc1tpXS5fdHJpZ2dlcigib3V0IiwgZXZlbnQsIHRoaXMuX3VpSGFzaCh0aGlzKSk7CgkJCQkJdGhpcy5jb250YWluZXJzW2ldLmNvbnRhaW5lckNhY2hlLm92ZXIgPSAwOwoJCQkJfQoJCQl9CgoJCX0KCQkKCQkvLyBpZiBubyBpbnRlcnNlY3RpbmcgY29udGFpbmVycyBmb3VuZCwgcmV0dXJuIAoJCWlmKCFpbm5lcm1vc3RDb250YWluZXIpIHJldHVybjsgCgoJCS8vIG1vdmUgdGhlIGl0ZW0gaW50byB0aGUgY29udGFpbmVyIGlmIGl0J3Mgbm90IHRoZXJlIGFscmVhZHkKCQlpZih0aGlzLmNvbnRhaW5lcnMubGVuZ3RoID09PSAxKSB7CgkJCXRoaXMuY29udGFpbmVyc1tpbm5lcm1vc3RJbmRleF0uX3RyaWdnZXIoIm92ZXIiLCBldmVudCwgdGhpcy5fdWlIYXNoKHRoaXMpKTsKCQkJdGhpcy5jb250YWluZXJzW2lubmVybW9zdEluZGV4XS5jb250YWluZXJDYWNoZS5vdmVyID0gMTsKCQl9IGVsc2UgaWYodGhpcy5jdXJyZW50Q29udGFpbmVyICE9IHRoaXMuY29udGFpbmVyc1tpbm5lcm1vc3RJbmRleF0pIHsKCgkJCS8vV2hlbiBlbnRlcmluZyBhIG5ldyBjb250YWluZXIsIHdlIHdpbGwgZmluZCB0aGUgaXRlbSB3aXRoIHRoZSBsZWFzdCBkaXN0YW5jZSBhbmQgYXBwZW5kIG91ciBpdGVtIG5lYXIgaXQKCQkJdmFyIGRpc3QgPSAxMDAwMDsgdmFyIGl0ZW1XaXRoTGVhc3REaXN0YW5jZSA9IG51bGw7IHZhciBiYXNlID0gdGhpcy5wb3NpdGlvbkFic1t0aGlzLmNvbnRhaW5lcnNbaW5uZXJtb3N0SW5kZXhdLmZsb2F0aW5nID8gJ2xlZnQnIDogJ3RvcCddOwoJCQlmb3IgKHZhciBqID0gdGhpcy5pdGVtcy5sZW5ndGggLSAxOyBqID49IDA7IGotLSkgewoJCQkJaWYoISQudWkuY29udGFpbnModGhpcy5jb250YWluZXJzW2lubmVybW9zdEluZGV4XS5lbGVtZW50WzBdLCB0aGlzLml0ZW1zW2pdLml0ZW1bMF0pKSBjb250aW51ZTsKCQkJCXZhciBjdXIgPSB0aGlzLmNvbnRhaW5lcnNbaW5uZXJtb3N0SW5kZXhdLmZsb2F0aW5nID8gdGhpcy5pdGVtc1tqXS5pdGVtLm9mZnNldCgpLmxlZnQgOiB0aGlzLml0ZW1zW2pdLml0ZW0ub2Zmc2V0KCkudG9wOwoJCQkJaWYoTWF0aC5hYnMoY3VyIC0gYmFzZSkgPCBkaXN0KSB7CgkJCQkJZGlzdCA9IE1hdGguYWJzKGN1ciAtIGJhc2UpOyBpdGVtV2l0aExlYXN0RGlzdGFuY2UgPSB0aGlzLml0ZW1zW2pdOwoJCQkJCXRoaXMuZGlyZWN0aW9uID0gKGN1ciAtIGJhc2UgPiAwKSA/ICdkb3duJyA6ICd1cCc7CgkJCQl9CgkJCX0KCgkJCWlmKCFpdGVtV2l0aExlYXN0RGlzdGFuY2UgJiYgIXRoaXMub3B0aW9ucy5kcm9wT25FbXB0eSkgLy9DaGVjayBpZiBkcm9wT25FbXB0eSBpcyBlbmFibGVkCgkJCQlyZXR1cm47CgoJCQl0aGlzLmN1cnJlbnRDb250YWluZXIgPSB0aGlzLmNvbnRhaW5lcnNbaW5uZXJtb3N0SW5kZXhdOwoJCQlpdGVtV2l0aExlYXN0RGlzdGFuY2UgPyB0aGlzLl9yZWFycmFuZ2UoZXZlbnQsIGl0ZW1XaXRoTGVhc3REaXN0YW5jZSwgbnVsbCwgdHJ1ZSkgOiB0aGlzLl9yZWFycmFuZ2UoZXZlbnQsIG51bGwsIHRoaXMuY29udGFpbmVyc1tpbm5lcm1vc3RJbmRleF0uZWxlbWVudCwgdHJ1ZSk7CgkJCXRoaXMuX3RyaWdnZXIoImNoYW5nZSIsIGV2ZW50LCB0aGlzLl91aUhhc2goKSk7CgkJCXRoaXMuY29udGFpbmVyc1tpbm5lcm1vc3RJbmRleF0uX3RyaWdnZXIoImNoYW5nZSIsIGV2ZW50LCB0aGlzLl91aUhhc2godGhpcykpOwoKCQkJLy9VcGRhdGUgdGhlIHBsYWNlaG9sZGVyCgkJCXRoaXMub3B0aW9ucy5wbGFjZWhvbGRlci51cGRhdGUodGhpcy5jdXJyZW50Q29udGFpbmVyLCB0aGlzLnBsYWNlaG9sZGVyKTsKCgkJCXRoaXMuY29udGFpbmVyc1tpbm5lcm1vc3RJbmRleF0uX3RyaWdnZXIoIm92ZXIiLCBldmVudCwgdGhpcy5fdWlIYXNoKHRoaXMpKTsKCQkJdGhpcy5jb250YWluZXJzW2lubmVybW9zdEluZGV4XS5jb250YWluZXJDYWNoZS5vdmVyID0gMTsKCQl9IAoJCgkJCgl9LAoKCV9jcmVhdGVIZWxwZXI6IGZ1bmN0aW9uKGV2ZW50KSB7CgoJCXZhciBvID0gdGhpcy5vcHRpb25zOwoJCXZhciBoZWxwZXIgPSAkLmlzRnVuY3Rpb24oby5oZWxwZXIpID8gJChvLmhlbHBlci5hcHBseSh0aGlzLmVsZW1lbnRbMF0sIFtldmVudCwgdGhpcy5jdXJyZW50SXRlbV0pKSA6IChvLmhlbHBlciA9PSAnY2xvbmUnID8gdGhpcy5jdXJyZW50SXRlbS5jbG9uZSgpIDogdGhpcy5jdXJyZW50SXRlbSk7CgoJCWlmKCFoZWxwZXIucGFyZW50cygnYm9keScpLmxlbmd0aCkgLy9BZGQgdGhlIGhlbHBlciB0byB0aGUgRE9NIGlmIHRoYXQgZGlkbid0IGhhcHBlbiBhbHJlYWR5CgkJCSQoby5hcHBlbmRUbyAhPSAncGFyZW50JyA/IG8uYXBwZW5kVG8gOiB0aGlzLmN1cnJlbnRJdGVtWzBdLnBhcmVudE5vZGUpWzBdLmFwcGVuZENoaWxkKGhlbHBlclswXSk7CgoJCWlmKGhlbHBlclswXSA9PSB0aGlzLmN1cnJlbnRJdGVtWzBdKQoJCQl0aGlzLl9zdG9yZWRDU1MgPSB7IHdpZHRoOiB0aGlzLmN1cnJlbnRJdGVtWzBdLnN0eWxlLndpZHRoLCBoZWlnaHQ6IHRoaXMuY3VycmVudEl0ZW1bMF0uc3R5bGUuaGVpZ2h0LCBwb3NpdGlvbjogdGhpcy5jdXJyZW50SXRlbS5jc3MoInBvc2l0aW9uIiksIHRvcDogdGhpcy5jdXJyZW50SXRlbS5jc3MoInRvcCIpLCBsZWZ0OiB0aGlzLmN1cnJlbnRJdGVtLmNzcygibGVmdCIpIH07CgoJCWlmKGhlbHBlclswXS5zdHlsZS53aWR0aCA9PSAnJyB8fCBvLmZvcmNlSGVscGVyU2l6ZSkgaGVscGVyLndpZHRoKHRoaXMuY3VycmVudEl0ZW0ud2lkdGgoKSk7CgkJaWYoaGVscGVyWzBdLnN0eWxlLmhlaWdodCA9PSAnJyB8fCBvLmZvcmNlSGVscGVyU2l6ZSkgaGVscGVyLmhlaWdodCh0aGlzLmN1cnJlbnRJdGVtLmhlaWdodCgpKTsKCgkJcmV0dXJuIGhlbHBlcjsKCgl9LAoKCV9hZGp1c3RPZmZzZXRGcm9tSGVscGVyOiBmdW5jdGlvbihvYmopIHsKCQlpZiAodHlwZW9mIG9iaiA9PSAnc3RyaW5nJykgewoJCQlvYmogPSBvYmouc3BsaXQoJyAnKTsKCQl9CgkJaWYgKCQuaXNBcnJheShvYmopKSB7CgkJCW9iaiA9IHtsZWZ0OiArb2JqWzBdLCB0b3A6ICtvYmpbMV0gfHwgMH07CgkJfQoJCWlmICgnbGVmdCcgaW4gb2JqKSB7CgkJCXRoaXMub2Zmc2V0LmNsaWNrLmxlZnQgPSBvYmoubGVmdCArIHRoaXMubWFyZ2lucy5sZWZ0OwoJCX0KCQlpZiAoJ3JpZ2h0JyBpbiBvYmopIHsKCQkJdGhpcy5vZmZzZXQuY2xpY2subGVmdCA9IHRoaXMuaGVscGVyUHJvcG9ydGlvbnMud2lkdGggLSBvYmoucmlnaHQgKyB0aGlzLm1hcmdpbnMubGVmdDsKCQl9CgkJaWYgKCd0b3AnIGluIG9iaikgewoJCQl0aGlzLm9mZnNldC5jbGljay50b3AgPSBvYmoudG9wICsgdGhpcy5tYXJnaW5zLnRvcDsKCQl9CgkJaWYgKCdib3R0b20nIGluIG9iaikgewoJCQl0aGlzLm9mZnNldC5jbGljay50b3AgPSB0aGlzLmhlbHBlclByb3BvcnRpb25zLmhlaWdodCAtIG9iai5ib3R0b20gKyB0aGlzLm1hcmdpbnMudG9wOwoJCX0KCX0sCgoJX2dldFBhcmVudE9mZnNldDogZnVuY3Rpb24oKSB7CgoKCQkvL0dldCB0aGUgb2Zmc2V0UGFyZW50IGFuZCBjYWNoZSBpdHMgcG9zaXRpb24KCQl0aGlzLm9mZnNldFBhcmVudCA9IHRoaXMuaGVscGVyLm9mZnNldFBhcmVudCgpOwoJCXZhciBwbyA9IHRoaXMub2Zmc2V0UGFyZW50Lm9mZnNldCgpOwoKCQkvLyBUaGlzIGlzIGEgc3BlY2lhbCBjYXNlIHdoZXJlIHdlIG5lZWQgdG8gbW9kaWZ5IGEgb2Zmc2V0IGNhbGN1bGF0ZWQgb24gc3RhcnQsIHNpbmNlIHRoZSBmb2xsb3dpbmcgaGFwcGVuZWQ6CgkJLy8gMS4gVGhlIHBvc2l0aW9uIG9mIHRoZSBoZWxwZXIgaXMgYWJzb2x1dGUsIHNvIGl0J3MgcG9zaXRpb24gaXMgY2FsY3VsYXRlZCBiYXNlZCBvbiB0aGUgbmV4dCBwb3NpdGlvbmVkIHBhcmVudAoJCS8vIDIuIFRoZSBhY3R1YWwgb2Zmc2V0IHBhcmVudCBpcyBhIGNoaWxkIG9mIHRoZSBzY3JvbGwgcGFyZW50LCBhbmQgdGhlIHNjcm9sbCBwYXJlbnQgaXNuJ3QgdGhlIGRvY3VtZW50LCB3aGljaCBtZWFucyB0aGF0CgkJLy8gICAgdGhlIHNjcm9sbCBpcyBpbmNsdWRlZCBpbiB0aGUgaW5pdGlhbCBjYWxjdWxhdGlvbiBvZiB0aGUgb2Zmc2V0IG9mIHRoZSBwYXJlbnQsIGFuZCBuZXZlciByZWNhbGN1bGF0ZWQgdXBvbiBkcmFnCgkJaWYodGhpcy5jc3NQb3NpdGlvbiA9PSAnYWJzb2x1dGUnICYmIHRoaXMuc2Nyb2xsUGFyZW50WzBdICE9IGRvY3VtZW50ICYmICQudWkuY29udGFpbnModGhpcy5zY3JvbGxQYXJlbnRbMF0sIHRoaXMub2Zmc2V0UGFyZW50WzBdKSkgewoJCQlwby5sZWZ0ICs9IHRoaXMuc2Nyb2xsUGFyZW50LnNjcm9sbExlZnQoKTsKCQkJcG8udG9wICs9IHRoaXMuc2Nyb2xsUGFyZW50LnNjcm9sbFRvcCgpOwoJCX0KCgkJaWYoKHRoaXMub2Zmc2V0UGFyZW50WzBdID09IGRvY3VtZW50LmJvZHkpIC8vVGhpcyBuZWVkcyB0byBiZSBhY3R1YWxseSBkb25lIGZvciBhbGwgYnJvd3NlcnMsIHNpbmNlIHBhZ2VYL3BhZ2VZIGluY2x1ZGVzIHRoaXMgaW5mb3JtYXRpb24KCQl8fCAodGhpcy5vZmZzZXRQYXJlbnRbMF0udGFnTmFtZSAmJiB0aGlzLm9mZnNldFBhcmVudFswXS50YWdOYW1lLnRvTG93ZXJDYXNlKCkgPT0gJ2h0bWwnICYmICQuYnJvd3Nlci5tc2llKSkgLy9VZ2x5IElFIGZpeAoJCQlwbyA9IHsgdG9wOiAwLCBsZWZ0OiAwIH07CgoJCXJldHVybiB7CgkJCXRvcDogcG8udG9wICsgKHBhcnNlSW50KHRoaXMub2Zmc2V0UGFyZW50LmNzcygiYm9yZGVyVG9wV2lkdGgiKSwxMCkgfHwgMCksCgkJCWxlZnQ6IHBvLmxlZnQgKyAocGFyc2VJbnQodGhpcy5vZmZzZXRQYXJlbnQuY3NzKCJib3JkZXJMZWZ0V2lkdGgiKSwxMCkgfHwgMCkKCQl9OwoKCX0sCgoJX2dldFJlbGF0aXZlT2Zmc2V0OiBmdW5jdGlvbigpIHsKCgkJaWYodGhpcy5jc3NQb3NpdGlvbiA9PSAicmVsYXRpdmUiKSB7CgkJCXZhciBwID0gdGhpcy5jdXJyZW50SXRlbS5wb3NpdGlvbigpOwoJCQlyZXR1cm4gewoJCQkJdG9wOiBwLnRvcCAtIChwYXJzZUludCh0aGlzLmhlbHBlci5jc3MoInRvcCIpLDEwKSB8fCAwKSArIHRoaXMuc2Nyb2xsUGFyZW50LnNjcm9sbFRvcCgpLAoJCQkJbGVmdDogcC5sZWZ0IC0gKHBhcnNlSW50KHRoaXMuaGVscGVyLmNzcygibGVmdCIpLDEwKSB8fCAwKSArIHRoaXMuc2Nyb2xsUGFyZW50LnNjcm9sbExlZnQoKQoJCQl9OwoJCX0gZWxzZSB7CgkJCXJldHVybiB7IHRvcDogMCwgbGVmdDogMCB9OwoJCX0KCgl9LAoKCV9jYWNoZU1hcmdpbnM6IGZ1bmN0aW9uKCkgewoJCXRoaXMubWFyZ2lucyA9IHsKCQkJbGVmdDogKHBhcnNlSW50KHRoaXMuY3VycmVudEl0ZW0uY3NzKCJtYXJnaW5MZWZ0IiksMTApIHx8IDApLAoJCQl0b3A6IChwYXJzZUludCh0aGlzLmN1cnJlbnRJdGVtLmNzcygibWFyZ2luVG9wIiksMTApIHx8IDApCgkJfTsKCX0sCgoJX2NhY2hlSGVscGVyUHJvcG9ydGlvbnM6IGZ1bmN0aW9uKCkgewoJCXRoaXMuaGVscGVyUHJvcG9ydGlvbnMgPSB7CgkJCXdpZHRoOiB0aGlzLmhlbHBlci5vdXRlcldpZHRoKCksCgkJCWhlaWdodDogdGhpcy5oZWxwZXIub3V0ZXJIZWlnaHQoKQoJCX07Cgl9LAoKCV9zZXRDb250YWlubWVudDogZnVuY3Rpb24oKSB7CgoJCXZhciBvID0gdGhpcy5vcHRpb25zOwoJCWlmKG8uY29udGFpbm1lbnQgPT0gJ3BhcmVudCcpIG8uY29udGFpbm1lbnQgPSB0aGlzLmhlbHBlclswXS5wYXJlbnROb2RlOwoJCWlmKG8uY29udGFpbm1lbnQgPT0gJ2RvY3VtZW50JyB8fCBvLmNvbnRhaW5tZW50ID09ICd3aW5kb3cnKSB0aGlzLmNvbnRhaW5tZW50ID0gWwoJCQkwIC0gdGhpcy5vZmZzZXQucmVsYXRpdmUubGVmdCAtIHRoaXMub2Zmc2V0LnBhcmVudC5sZWZ0LAoJCQkwIC0gdGhpcy5vZmZzZXQucmVsYXRpdmUudG9wIC0gdGhpcy5vZmZzZXQucGFyZW50LnRvcCwKCQkJJChvLmNvbnRhaW5tZW50ID09ICdkb2N1bWVudCcgPyBkb2N1bWVudCA6IHdpbmRvdykud2lkdGgoKSAtIHRoaXMuaGVscGVyUHJvcG9ydGlvbnMud2lkdGggLSB0aGlzLm1hcmdpbnMubGVmdCwKCQkJKCQoby5jb250YWlubWVudCA9PSAnZG9jdW1lbnQnID8gZG9jdW1lbnQgOiB3aW5kb3cpLmhlaWdodCgpIHx8IGRvY3VtZW50LmJvZHkucGFyZW50Tm9kZS5zY3JvbGxIZWlnaHQpIC0gdGhpcy5oZWxwZXJQcm9wb3J0aW9ucy5oZWlnaHQgLSB0aGlzLm1hcmdpbnMudG9wCgkJXTsKCgkJaWYoISgvXihkb2N1bWVudHx3aW5kb3d8cGFyZW50KSQvKS50ZXN0KG8uY29udGFpbm1lbnQpKSB7CgkJCXZhciBjZSA9ICQoby5jb250YWlubWVudClbMF07CgkJCXZhciBjbyA9ICQoby5jb250YWlubWVudCkub2Zmc2V0KCk7CgkJCXZhciBvdmVyID0gKCQoY2UpLmNzcygib3ZlcmZsb3ciKSAhPSAnaGlkZGVuJyk7CgoJCQl0aGlzLmNvbnRhaW5tZW50ID0gWwoJCQkJY28ubGVmdCArIChwYXJzZUludCgkKGNlKS5jc3MoImJvcmRlckxlZnRXaWR0aCIpLDEwKSB8fCAwKSArIChwYXJzZUludCgkKGNlKS5jc3MoInBhZGRpbmdMZWZ0IiksMTApIHx8IDApIC0gdGhpcy5tYXJnaW5zLmxlZnQsCgkJCQljby50b3AgKyAocGFyc2VJbnQoJChjZSkuY3NzKCJib3JkZXJUb3BXaWR0aCIpLDEwKSB8fCAwKSArIChwYXJzZUludCgkKGNlKS5jc3MoInBhZGRpbmdUb3AiKSwxMCkgfHwgMCkgLSB0aGlzLm1hcmdpbnMudG9wLAoJCQkJY28ubGVmdCsob3ZlciA/IE1hdGgubWF4KGNlLnNjcm9sbFdpZHRoLGNlLm9mZnNldFdpZHRoKSA6IGNlLm9mZnNldFdpZHRoKSAtIChwYXJzZUludCgkKGNlKS5jc3MoImJvcmRlckxlZnRXaWR0aCIpLDEwKSB8fCAwKSAtIChwYXJzZUludCgkKGNlKS5jc3MoInBhZGRpbmdSaWdodCIpLDEwKSB8fCAwKSAtIHRoaXMuaGVscGVyUHJvcG9ydGlvbnMud2lkdGggLSB0aGlzLm1hcmdpbnMubGVmdCwKCQkJCWNvLnRvcCsob3ZlciA/IE1hdGgubWF4KGNlLnNjcm9sbEhlaWdodCxjZS5vZmZzZXRIZWlnaHQpIDogY2Uub2Zmc2V0SGVpZ2h0KSAtIChwYXJzZUludCgkKGNlKS5jc3MoImJvcmRlclRvcFdpZHRoIiksMTApIHx8IDApIC0gKHBhcnNlSW50KCQoY2UpLmNzcygicGFkZGluZ0JvdHRvbSIpLDEwKSB8fCAwKSAtIHRoaXMuaGVscGVyUHJvcG9ydGlvbnMuaGVpZ2h0IC0gdGhpcy5tYXJnaW5zLnRvcAoJCQldOwoJCX0KCgl9LAoKCV9jb252ZXJ0UG9zaXRpb25UbzogZnVuY3Rpb24oZCwgcG9zKSB7CgoJCWlmKCFwb3MpIHBvcyA9IHRoaXMucG9zaXRpb247CgkJdmFyIG1vZCA9IGQgPT0gImFic29sdXRlIiA/IDEgOiAtMTsKCQl2YXIgbyA9IHRoaXMub3B0aW9ucywgc2Nyb2xsID0gdGhpcy5jc3NQb3NpdGlvbiA9PSAnYWJzb2x1dGUnICYmICEodGhpcy5zY3JvbGxQYXJlbnRbMF0gIT0gZG9jdW1lbnQgJiYgJC51aS5jb250YWlucyh0aGlzLnNjcm9sbFBhcmVudFswXSwgdGhpcy5vZmZzZXRQYXJlbnRbMF0pKSA/IHRoaXMub2Zmc2V0UGFyZW50IDogdGhpcy5zY3JvbGxQYXJlbnQsIHNjcm9sbElzUm9vdE5vZGUgPSAoLyhodG1sfGJvZHkpL2kpLnRlc3Qoc2Nyb2xsWzBdLnRhZ05hbWUpOwoKCQlyZXR1cm4gewoJCQl0b3A6ICgKCQkJCXBvcy50b3AJCQkJCQkJCQkJCQkJCQkJCS8vIFRoZSBhYnNvbHV0ZSBtb3VzZSBwb3NpdGlvbgoJCQkJKyB0aGlzLm9mZnNldC5yZWxhdGl2ZS50b3AgKiBtb2QJCQkJCQkJCQkJLy8gT25seSBmb3IgcmVsYXRpdmUgcG9zaXRpb25lZCBub2RlczogUmVsYXRpdmUgb2Zmc2V0IGZyb20gZWxlbWVudCB0byBvZmZzZXQgcGFyZW50CgkJCQkrIHRoaXMub2Zmc2V0LnBhcmVudC50b3AgKiBtb2QJCQkJCQkJCQkJCS8vIFRoZSBvZmZzZXRQYXJlbnQncyBvZmZzZXQgd2l0aG91dCBib3JkZXJzIChvZmZzZXQgKyBib3JkZXIpCgkJCQktICgkLmJyb3dzZXIuc2FmYXJpICYmIHRoaXMuY3NzUG9zaXRpb24gPT0gJ2ZpeGVkJyA/IDAgOiAoIHRoaXMuY3NzUG9zaXRpb24gPT0gJ2ZpeGVkJyA/IC10aGlzLnNjcm9sbFBhcmVudC5zY3JvbGxUb3AoKSA6ICggc2Nyb2xsSXNSb290Tm9kZSA/IDAgOiBzY3JvbGwuc2Nyb2xsVG9wKCkgKSApICogbW9kKQoJCQkpLAoJCQlsZWZ0OiAoCgkJCQlwb3MubGVmdAkJCQkJCQkJCQkJCQkJCQkvLyBUaGUgYWJzb2x1dGUgbW91c2UgcG9zaXRpb24KCQkJCSsgdGhpcy5vZmZzZXQucmVsYXRpdmUubGVmdCAqIG1vZAkJCQkJCQkJCQkvLyBPbmx5IGZvciByZWxhdGl2ZSBwb3NpdGlvbmVkIG5vZGVzOiBSZWxhdGl2ZSBvZmZzZXQgZnJvbSBlbGVtZW50IHRvIG9mZnNldCBwYXJlbnQKCQkJCSsgdGhpcy5vZmZzZXQucGFyZW50LmxlZnQgKiBtb2QJCQkJCQkJCQkJCS8vIFRoZSBvZmZzZXRQYXJlbnQncyBvZmZzZXQgd2l0aG91dCBib3JkZXJzIChvZmZzZXQgKyBib3JkZXIpCgkJCQktICgkLmJyb3dzZXIuc2FmYXJpICYmIHRoaXMuY3NzUG9zaXRpb24gPT0gJ2ZpeGVkJyA/IDAgOiAoIHRoaXMuY3NzUG9zaXRpb24gPT0gJ2ZpeGVkJyA/IC10aGlzLnNjcm9sbFBhcmVudC5zY3JvbGxMZWZ0KCkgOiBzY3JvbGxJc1Jvb3ROb2RlID8gMCA6IHNjcm9sbC5zY3JvbGxMZWZ0KCkgKSAqIG1vZCkKCQkJKQoJCX07CgoJfSwKCglfZ2VuZXJhdGVQb3NpdGlvbjogZnVuY3Rpb24oZXZlbnQpIHsKCgkJdmFyIG8gPSB0aGlzLm9wdGlvbnMsIHNjcm9sbCA9IHRoaXMuY3NzUG9zaXRpb24gPT0gJ2Fic29sdXRlJyAmJiAhKHRoaXMuc2Nyb2xsUGFyZW50WzBdICE9IGRvY3VtZW50ICYmICQudWkuY29udGFpbnModGhpcy5zY3JvbGxQYXJlbnRbMF0sIHRoaXMub2Zmc2V0UGFyZW50WzBdKSkgPyB0aGlzLm9mZnNldFBhcmVudCA6IHRoaXMuc2Nyb2xsUGFyZW50LCBzY3JvbGxJc1Jvb3ROb2RlID0gKC8oaHRtbHxib2R5KS9pKS50ZXN0KHNjcm9sbFswXS50YWdOYW1lKTsKCgkJLy8gVGhpcyBpcyBhbm90aGVyIHZlcnkgd2VpcmQgc3BlY2lhbCBjYXNlIHRoYXQgb25seSBoYXBwZW5zIGZvciByZWxhdGl2ZSBlbGVtZW50czoKCQkvLyAxLiBJZiB0aGUgY3NzIHBvc2l0aW9uIGlzIHJlbGF0aXZlCgkJLy8gMi4gYW5kIHRoZSBzY3JvbGwgcGFyZW50IGlzIHRoZSBkb2N1bWVudCBvciBzaW1pbGFyIHRvIHRoZSBvZmZzZXQgcGFyZW50CgkJLy8gd2UgaGF2ZSB0byByZWZyZXNoIHRoZSByZWxhdGl2ZSBvZmZzZXQgZHVyaW5nIHRoZSBzY3JvbGwgc28gdGhlcmUgYXJlIG5vIGp1bXBzCgkJaWYodGhpcy5jc3NQb3NpdGlvbiA9PSAncmVsYXRpdmUnICYmICEodGhpcy5zY3JvbGxQYXJlbnRbMF0gIT0gZG9jdW1lbnQgJiYgdGhpcy5zY3JvbGxQYXJlbnRbMF0gIT0gdGhpcy5vZmZzZXRQYXJlbnRbMF0pKSB7CgkJCXRoaXMub2Zmc2V0LnJlbGF0aXZlID0gdGhpcy5fZ2V0UmVsYXRpdmVPZmZzZXQoKTsKCQl9CgoJCXZhciBwYWdlWCA9IGV2ZW50LnBhZ2VYOwoJCXZhciBwYWdlWSA9IGV2ZW50LnBhZ2VZOwoKCQkvKgoJCSAqIC0gUG9zaXRpb24gY29uc3RyYWluaW5nIC0KCQkgKiBDb25zdHJhaW4gdGhlIHBvc2l0aW9uIHRvIGEgbWl4IG9mIGdyaWQsIGNvbnRhaW5tZW50LgoJCSAqLwoKCQlpZih0aGlzLm9yaWdpbmFsUG9zaXRpb24pIHsgLy9JZiB3ZSBhcmUgbm90IGRyYWdnaW5nIHlldCwgd2Ugd29uJ3QgY2hlY2sgZm9yIG9wdGlvbnMKCgkJCWlmKHRoaXMuY29udGFpbm1lbnQpIHsKCQkJCWlmKGV2ZW50LnBhZ2VYIC0gdGhpcy5vZmZzZXQuY2xpY2subGVmdCA8IHRoaXMuY29udGFpbm1lbnRbMF0pIHBhZ2VYID0gdGhpcy5jb250YWlubWVudFswXSArIHRoaXMub2Zmc2V0LmNsaWNrLmxlZnQ7CgkJCQlpZihldmVudC5wYWdlWSAtIHRoaXMub2Zmc2V0LmNsaWNrLnRvcCA8IHRoaXMuY29udGFpbm1lbnRbMV0pIHBhZ2VZID0gdGhpcy5jb250YWlubWVudFsxXSArIHRoaXMub2Zmc2V0LmNsaWNrLnRvcDsKCQkJCWlmKGV2ZW50LnBhZ2VYIC0gdGhpcy5vZmZzZXQuY2xpY2subGVmdCA+IHRoaXMuY29udGFpbm1lbnRbMl0pIHBhZ2VYID0gdGhpcy5jb250YWlubWVudFsyXSArIHRoaXMub2Zmc2V0LmNsaWNrLmxlZnQ7CgkJCQlpZihldmVudC5wYWdlWSAtIHRoaXMub2Zmc2V0LmNsaWNrLnRvcCA+IHRoaXMuY29udGFpbm1lbnRbM10pIHBhZ2VZID0gdGhpcy5jb250YWlubWVudFszXSArIHRoaXMub2Zmc2V0LmNsaWNrLnRvcDsKCQkJfQoKCQkJaWYoby5ncmlkKSB7CgkJCQl2YXIgdG9wID0gdGhpcy5vcmlnaW5hbFBhZ2VZICsgTWF0aC5yb3VuZCgocGFnZVkgLSB0aGlzLm9yaWdpbmFsUGFnZVkpIC8gby5ncmlkWzFdKSAqIG8uZ3JpZFsxXTsKCQkJCXBhZ2VZID0gdGhpcy5jb250YWlubWVudCA/ICghKHRvcCAtIHRoaXMub2Zmc2V0LmNsaWNrLnRvcCA8IHRoaXMuY29udGFpbm1lbnRbMV0gfHwgdG9wIC0gdGhpcy5vZmZzZXQuY2xpY2sudG9wID4gdGhpcy5jb250YWlubWVudFszXSkgPyB0b3AgOiAoISh0b3AgLSB0aGlzLm9mZnNldC5jbGljay50b3AgPCB0aGlzLmNvbnRhaW5tZW50WzFdKSA/IHRvcCAtIG8uZ3JpZFsxXSA6IHRvcCArIG8uZ3JpZFsxXSkpIDogdG9wOwoKCQkJCXZhciBsZWZ0ID0gdGhpcy5vcmlnaW5hbFBhZ2VYICsgTWF0aC5yb3VuZCgocGFnZVggLSB0aGlzLm9yaWdpbmFsUGFnZVgpIC8gby5ncmlkWzBdKSAqIG8uZ3JpZFswXTsKCQkJCXBhZ2VYID0gdGhpcy5jb250YWlubWVudCA/ICghKGxlZnQgLSB0aGlzLm9mZnNldC5jbGljay5sZWZ0IDwgdGhpcy5jb250YWlubWVudFswXSB8fCBsZWZ0IC0gdGhpcy5vZmZzZXQuY2xpY2subGVmdCA+IHRoaXMuY29udGFpbm1lbnRbMl0pID8gbGVmdCA6ICghKGxlZnQgLSB0aGlzLm9mZnNldC5jbGljay5sZWZ0IDwgdGhpcy5jb250YWlubWVudFswXSkgPyBsZWZ0IC0gby5ncmlkWzBdIDogbGVmdCArIG8uZ3JpZFswXSkpIDogbGVmdDsKCQkJfQoKCQl9CgoJCXJldHVybiB7CgkJCXRvcDogKAoJCQkJcGFnZVkJCQkJCQkJCQkJCQkJCQkJLy8gVGhlIGFic29sdXRlIG1vdXNlIHBvc2l0aW9uCgkJCQktIHRoaXMub2Zmc2V0LmNsaWNrLnRvcAkJCQkJCQkJCQkJCQkvLyBDbGljayBvZmZzZXQgKHJlbGF0aXZlIHRvIHRoZSBlbGVtZW50KQoJCQkJLSB0aGlzLm9mZnNldC5yZWxhdGl2ZS50b3AJCQkJCQkJCQkJCQkvLyBPbmx5IGZvciByZWxhdGl2ZSBwb3NpdGlvbmVkIG5vZGVzOiBSZWxhdGl2ZSBvZmZzZXQgZnJvbSBlbGVtZW50IHRvIG9mZnNldCBwYXJlbnQKCQkJCS0gdGhpcy5vZmZzZXQucGFyZW50LnRvcAkJCQkJCQkJCQkJCS8vIFRoZSBvZmZzZXRQYXJlbnQncyBvZmZzZXQgd2l0aG91dCBib3JkZXJzIChvZmZzZXQgKyBib3JkZXIpCgkJCQkrICgkLmJyb3dzZXIuc2FmYXJpICYmIHRoaXMuY3NzUG9zaXRpb24gPT0gJ2ZpeGVkJyA/IDAgOiAoIHRoaXMuY3NzUG9zaXRpb24gPT0gJ2ZpeGVkJyA/IC10aGlzLnNjcm9sbFBhcmVudC5zY3JvbGxUb3AoKSA6ICggc2Nyb2xsSXNSb290Tm9kZSA/IDAgOiBzY3JvbGwuc2Nyb2xsVG9wKCkgKSApKQoJCQkpLAoJCQlsZWZ0OiAoCgkJCQlwYWdlWAkJCQkJCQkJCQkJCQkJCQkvLyBUaGUgYWJzb2x1dGUgbW91c2UgcG9zaXRpb24KCQkJCS0gdGhpcy5vZmZzZXQuY2xpY2subGVmdAkJCQkJCQkJCQkJCS8vIENsaWNrIG9mZnNldCAocmVsYXRpdmUgdG8gdGhlIGVsZW1lbnQpCgkJCQktIHRoaXMub2Zmc2V0LnJlbGF0aXZlLmxlZnQJCQkJCQkJCQkJCQkvLyBPbmx5IGZvciByZWxhdGl2ZSBwb3NpdGlvbmVkIG5vZGVzOiBSZWxhdGl2ZSBvZmZzZXQgZnJvbSBlbGVtZW50IHRvIG9mZnNldCBwYXJlbnQKCQkJCS0gdGhpcy5vZmZzZXQucGFyZW50LmxlZnQJCQkJCQkJCQkJCQkvLyBUaGUgb2Zmc2V0UGFyZW50J3Mgb2Zmc2V0IHdpdGhvdXQgYm9yZGVycyAob2Zmc2V0ICsgYm9yZGVyKQoJCQkJKyAoJC5icm93c2VyLnNhZmFyaSAmJiB0aGlzLmNzc1Bvc2l0aW9uID09ICdmaXhlZCcgPyAwIDogKCB0aGlzLmNzc1Bvc2l0aW9uID09ICdmaXhlZCcgPyAtdGhpcy5zY3JvbGxQYXJlbnQuc2Nyb2xsTGVmdCgpIDogc2Nyb2xsSXNSb290Tm9kZSA/IDAgOiBzY3JvbGwuc2Nyb2xsTGVmdCgpICkpCgkJCSkKCQl9OwoKCX0sCgoJX3JlYXJyYW5nZTogZnVuY3Rpb24oZXZlbnQsIGksIGEsIGhhcmRSZWZyZXNoKSB7CgoJCWEgPyBhWzBdLmFwcGVuZENoaWxkKHRoaXMucGxhY2Vob2xkZXJbMF0pIDogaS5pdGVtWzBdLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHRoaXMucGxhY2Vob2xkZXJbMF0sICh0aGlzLmRpcmVjdGlvbiA9PSAnZG93bicgPyBpLml0ZW1bMF0gOiBpLml0ZW1bMF0ubmV4dFNpYmxpbmcpKTsKCgkJLy9WYXJpb3VzIHRoaW5ncyBkb25lIGhlcmUgdG8gaW1wcm92ZSB0aGUgcGVyZm9ybWFuY2U6CgkJLy8gMS4gd2UgY3JlYXRlIGEgc2V0VGltZW91dCwgdGhhdCBjYWxscyByZWZyZXNoUG9zaXRpb25zCgkJLy8gMi4gb24gdGhlIGluc3RhbmNlLCB3ZSBoYXZlIGEgY291bnRlciB2YXJpYWJsZSwgdGhhdCBnZXQncyBoaWdoZXIgYWZ0ZXIgZXZlcnkgYXBwZW5kCgkJLy8gMy4gb24gdGhlIGxvY2FsIHNjb3BlLCB3ZSBjb3B5IHRoZSBjb3VudGVyIHZhcmlhYmxlLCBhbmQgY2hlY2sgaW4gdGhlIHRpbWVvdXQsIGlmIGl0J3Mgc3RpbGwgdGhlIHNhbWUKCQkvLyA0LiB0aGlzIGxldHMgb25seSB0aGUgbGFzdCBhZGRpdGlvbiB0byB0aGUgdGltZW91dCBzdGFjayB0aHJvdWdoCgkJdGhpcy5jb3VudGVyID0gdGhpcy5jb3VudGVyID8gKyt0aGlzLmNvdW50ZXIgOiAxOwoJCXZhciBzZWxmID0gdGhpcywgY291bnRlciA9IHRoaXMuY291bnRlcjsKCgkJd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CgkJCWlmKGNvdW50ZXIgPT0gc2VsZi5jb3VudGVyKSBzZWxmLnJlZnJlc2hQb3NpdGlvbnMoIWhhcmRSZWZyZXNoKTsgLy9QcmVjb21wdXRlIGFmdGVyIGVhY2ggRE9NIGluc2VydGlvbiwgTk9UIG9uIG1vdXNlbW92ZQoJCX0sMCk7CgoJfSwKCglfY2xlYXI6IGZ1bmN0aW9uKGV2ZW50LCBub1Byb3BhZ2F0aW9uKSB7CgoJCXRoaXMucmV2ZXJ0aW5nID0gZmFsc2U7CgkJLy8gV2UgZGVsYXkgYWxsIGV2ZW50cyB0aGF0IGhhdmUgdG8gYmUgdHJpZ2dlcmVkIHRvIGFmdGVyIHRoZSBwb2ludCB3aGVyZSB0aGUgcGxhY2Vob2xkZXIgaGFzIGJlZW4gcmVtb3ZlZCBhbmQKCQkvLyBldmVyeXRoaW5nIGVsc2Ugbm9ybWFsaXplZCBhZ2FpbgoJCXZhciBkZWxheWVkVHJpZ2dlcnMgPSBbXSwgc2VsZiA9IHRoaXM7CgoJCS8vIFdlIGZpcnN0IGhhdmUgdG8gdXBkYXRlIHRoZSBkb20gcG9zaXRpb24gb2YgdGhlIGFjdHVhbCBjdXJyZW50SXRlbQoJCS8vIE5vdGU6IGRvbid0IGRvIGl0IGlmIHRoZSBjdXJyZW50IGl0ZW0gaXMgYWxyZWFkeSByZW1vdmVkIChieSBhIHVzZXIpLCBvciBpdCBnZXRzIHJlYXBwZW5kZWQgKHNlZSAjNDA4OCkKCQlpZighdGhpcy5fbm9GaW5hbFNvcnQgJiYgdGhpcy5jdXJyZW50SXRlbS5wYXJlbnQoKS5sZW5ndGgpIHRoaXMucGxhY2Vob2xkZXIuYmVmb3JlKHRoaXMuY3VycmVudEl0ZW0pOwoJCXRoaXMuX25vRmluYWxTb3J0ID0gbnVsbDsKCgkJaWYodGhpcy5oZWxwZXJbMF0gPT0gdGhpcy5jdXJyZW50SXRlbVswXSkgewoJCQlmb3IodmFyIGkgaW4gdGhpcy5fc3RvcmVkQ1NTKSB7CgkJCQlpZih0aGlzLl9zdG9yZWRDU1NbaV0gPT0gJ2F1dG8nIHx8IHRoaXMuX3N0b3JlZENTU1tpXSA9PSAnc3RhdGljJykgdGhpcy5fc3RvcmVkQ1NTW2ldID0gJyc7CgkJCX0KCQkJdGhpcy5jdXJyZW50SXRlbS5jc3ModGhpcy5fc3RvcmVkQ1NTKS5yZW1vdmVDbGFzcygidWktc29ydGFibGUtaGVscGVyIik7CgkJfSBlbHNlIHsKCQkJdGhpcy5jdXJyZW50SXRlbS5zaG93KCk7CgkJfQoKCQlpZih0aGlzLmZyb21PdXRzaWRlICYmICFub1Byb3BhZ2F0aW9uKSBkZWxheWVkVHJpZ2dlcnMucHVzaChmdW5jdGlvbihldmVudCkgeyB0aGlzLl90cmlnZ2VyKCJyZWNlaXZlIiwgZXZlbnQsIHRoaXMuX3VpSGFzaCh0aGlzLmZyb21PdXRzaWRlKSk7IH0pOwoJCWlmKCh0aGlzLmZyb21PdXRzaWRlIHx8IHRoaXMuZG9tUG9zaXRpb24ucHJldiAhPSB0aGlzLmN1cnJlbnRJdGVtLnByZXYoKS5ub3QoIi51aS1zb3J0YWJsZS1oZWxwZXIiKVswXSB8fCB0aGlzLmRvbVBvc2l0aW9uLnBhcmVudCAhPSB0aGlzLmN1cnJlbnRJdGVtLnBhcmVudCgpWzBdKSAmJiAhbm9Qcm9wYWdhdGlvbikgZGVsYXllZFRyaWdnZXJzLnB1c2goZnVuY3Rpb24oZXZlbnQpIHsgdGhpcy5fdHJpZ2dlcigidXBkYXRlIiwgZXZlbnQsIHRoaXMuX3VpSGFzaCgpKTsgfSk7IC8vVHJpZ2dlciB1cGRhdGUgY2FsbGJhY2sgaWYgdGhlIERPTSBwb3NpdGlvbiBoYXMgY2hhbmdlZAoJCWlmKCEkLnVpLmNvbnRhaW5zKHRoaXMuZWxlbWVudFswXSwgdGhpcy5jdXJyZW50SXRlbVswXSkpIHsgLy9Ob2RlIHdhcyBtb3ZlZCBvdXQgb2YgdGhlIGN1cnJlbnQgZWxlbWVudAoJCQlpZighbm9Qcm9wYWdhdGlvbikgZGVsYXllZFRyaWdnZXJzLnB1c2goZnVuY3Rpb24oZXZlbnQpIHsgdGhpcy5fdHJpZ2dlcigicmVtb3ZlIiwgZXZlbnQsIHRoaXMuX3VpSGFzaCgpKTsgfSk7CgkJCWZvciAodmFyIGkgPSB0aGlzLmNvbnRhaW5lcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pewoJCQkJaWYoJC51aS5jb250YWlucyh0aGlzLmNvbnRhaW5lcnNbaV0uZWxlbWVudFswXSwgdGhpcy5jdXJyZW50SXRlbVswXSkgJiYgIW5vUHJvcGFnYXRpb24pIHsKCQkJCQlkZWxheWVkVHJpZ2dlcnMucHVzaCgoZnVuY3Rpb24oYykgeyByZXR1cm4gZnVuY3Rpb24oZXZlbnQpIHsgYy5fdHJpZ2dlcigicmVjZWl2ZSIsIGV2ZW50LCB0aGlzLl91aUhhc2godGhpcykpOyB9OyAgfSkuY2FsbCh0aGlzLCB0aGlzLmNvbnRhaW5lcnNbaV0pKTsKCQkJCQlkZWxheWVkVHJpZ2dlcnMucHVzaCgoZnVuY3Rpb24oYykgeyByZXR1cm4gZnVuY3Rpb24oZXZlbnQpIHsgYy5fdHJpZ2dlcigidXBkYXRlIiwgZXZlbnQsIHRoaXMuX3VpSGFzaCh0aGlzKSk7ICB9OyB9KS5jYWxsKHRoaXMsIHRoaXMuY29udGFpbmVyc1tpXSkpOwoJCQkJfQoJCQl9OwoJCX07CgoJCS8vUG9zdCBldmVudHMgdG8gY29udGFpbmVycwoJCWZvciAodmFyIGkgPSB0aGlzLmNvbnRhaW5lcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pewoJCQlpZighbm9Qcm9wYWdhdGlvbikgZGVsYXllZFRyaWdnZXJzLnB1c2goKGZ1bmN0aW9uKGMpIHsgcmV0dXJuIGZ1bmN0aW9uKGV2ZW50KSB7IGMuX3RyaWdnZXIoImRlYWN0aXZhdGUiLCBldmVudCwgdGhpcy5fdWlIYXNoKHRoaXMpKTsgfTsgIH0pLmNhbGwodGhpcywgdGhpcy5jb250YWluZXJzW2ldKSk7CgkJCWlmKHRoaXMuY29udGFpbmVyc1tpXS5jb250YWluZXJDYWNoZS5vdmVyKSB7CgkJCQlkZWxheWVkVHJpZ2dlcnMucHVzaCgoZnVuY3Rpb24oYykgeyByZXR1cm4gZnVuY3Rpb24oZXZlbnQpIHsgYy5fdHJpZ2dlcigib3V0IiwgZXZlbnQsIHRoaXMuX3VpSGFzaCh0aGlzKSk7IH07ICB9KS5jYWxsKHRoaXMsIHRoaXMuY29udGFpbmVyc1tpXSkpOwoJCQkJdGhpcy5jb250YWluZXJzW2ldLmNvbnRhaW5lckNhY2hlLm92ZXIgPSAwOwoJCQl9CgkJfQoKCQkvL0RvIHdoYXQgd2FzIG9yaWdpbmFsbHkgaW4gcGx1Z2lucwoJCWlmKHRoaXMuX3N0b3JlZEN1cnNvcikgJCgnYm9keScpLmNzcygiY3Vyc29yIiwgdGhpcy5fc3RvcmVkQ3Vyc29yKTsgLy9SZXNldCBjdXJzb3IKCQlpZih0aGlzLl9zdG9yZWRPcGFjaXR5KSB0aGlzLmhlbHBlci5jc3MoIm9wYWNpdHkiLCB0aGlzLl9zdG9yZWRPcGFjaXR5KTsgLy9SZXNldCBvcGFjaXR5CgkJaWYodGhpcy5fc3RvcmVkWkluZGV4KSB0aGlzLmhlbHBlci5jc3MoInpJbmRleCIsIHRoaXMuX3N0b3JlZFpJbmRleCA9PSAnYXV0bycgPyAnJyA6IHRoaXMuX3N0b3JlZFpJbmRleCk7IC8vUmVzZXQgei1pbmRleAoKCQl0aGlzLmRyYWdnaW5nID0gZmFsc2U7CgkJaWYodGhpcy5jYW5jZWxIZWxwZXJSZW1vdmFsKSB7CgkJCWlmKCFub1Byb3BhZ2F0aW9uKSB7CgkJCQl0aGlzLl90cmlnZ2VyKCJiZWZvcmVTdG9wIiwgZXZlbnQsIHRoaXMuX3VpSGFzaCgpKTsKCQkJCWZvciAodmFyIGk9MDsgaSA8IGRlbGF5ZWRUcmlnZ2Vycy5sZW5ndGg7IGkrKykgeyBkZWxheWVkVHJpZ2dlcnNbaV0uY2FsbCh0aGlzLCBldmVudCk7IH07IC8vVHJpZ2dlciBhbGwgZGVsYXllZCBldmVudHMKCQkJCXRoaXMuX3RyaWdnZXIoInN0b3AiLCBldmVudCwgdGhpcy5fdWlIYXNoKCkpOwoJCQl9CgkJCXJldHVybiBmYWxzZTsKCQl9CgoJCWlmKCFub1Byb3BhZ2F0aW9uKSB0aGlzLl90cmlnZ2VyKCJiZWZvcmVTdG9wIiwgZXZlbnQsIHRoaXMuX3VpSGFzaCgpKTsKCgkJLy8kKHRoaXMucGxhY2Vob2xkZXJbMF0pLnJlbW92ZSgpOyB3b3VsZCBoYXZlIGJlZW4gdGhlIGpRdWVyeSB3YXkgLSB1bmZvcnR1bmF0ZWx5LCBpdCB1bmJpbmRzIEFMTCBldmVudHMgZnJvbSB0aGUgb3JpZ2luYWwgbm9kZSEKCQl0aGlzLnBsYWNlaG9sZGVyWzBdLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5wbGFjZWhvbGRlclswXSk7CgoJCWlmKHRoaXMuaGVscGVyWzBdICE9IHRoaXMuY3VycmVudEl0ZW1bMF0pIHRoaXMuaGVscGVyLnJlbW92ZSgpOyB0aGlzLmhlbHBlciA9IG51bGw7CgoJCWlmKCFub1Byb3BhZ2F0aW9uKSB7CgkJCWZvciAodmFyIGk9MDsgaSA8IGRlbGF5ZWRUcmlnZ2Vycy5sZW5ndGg7IGkrKykgeyBkZWxheWVkVHJpZ2dlcnNbaV0uY2FsbCh0aGlzLCBldmVudCk7IH07IC8vVHJpZ2dlciBhbGwgZGVsYXllZCBldmVudHMKCQkJdGhpcy5fdHJpZ2dlcigic3RvcCIsIGV2ZW50LCB0aGlzLl91aUhhc2goKSk7CgkJfQoKCQl0aGlzLmZyb21PdXRzaWRlID0gZmFsc2U7CgkJcmV0dXJuIHRydWU7CgoJfSwKCglfdHJpZ2dlcjogZnVuY3Rpb24oKSB7CgkJaWYgKCQuV2lkZ2V0LnByb3RvdHlwZS5fdHJpZ2dlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpID09PSBmYWxzZSkgewoJCQl0aGlzLmNhbmNlbCgpOwoJCX0KCX0sCgoJX3VpSGFzaDogZnVuY3Rpb24oaW5zdCkgewoJCXZhciBzZWxmID0gaW5zdCB8fCB0aGlzOwoJCXJldHVybiB7CgkJCWhlbHBlcjogc2VsZi5oZWxwZXIsCgkJCXBsYWNlaG9sZGVyOiBzZWxmLnBsYWNlaG9sZGVyIHx8ICQoW10pLAoJCQlwb3NpdGlvbjogc2VsZi5wb3NpdGlvbiwKCQkJb3JpZ2luYWxQb3NpdGlvbjogc2VsZi5vcmlnaW5hbFBvc2l0aW9uLAoJCQlvZmZzZXQ6IHNlbGYucG9zaXRpb25BYnMsCgkJCWl0ZW06IHNlbGYuY3VycmVudEl0ZW0sCgkJCXNlbmRlcjogaW5zdCA/IGluc3QuZWxlbWVudCA6IG51bGwKCQl9OwoJfQoKfSk7CgokLmV4dGVuZCgkLnVpLnNvcnRhYmxlLCB7Cgl2ZXJzaW9uOiAiMS44LjIxIgp9KTsKCn0pKGpRdWVyeSk7Cg==</File>
    </Filelist>
    <DatabaseInstall>
        <TableCreate Type="post" Name="itrm_cykl">
            <Column AutoIncrement="true" Name="id" PrimaryKey="true" Required="true" Type="INTEGER"></Column>
            <Column Name="nazwa" Required="false" Size="250" Type="VARCHAR"></Column>
            <Column Name="liczba_okresow" Required="false" Type="INTEGER"></Column>
            <Column Name="dzien_poczatku" Required="false" Type="INTEGER"></Column>
        </TableCreate>
        <TableCreate Type="post" Name="itrm_kolejka_cykl">
            <Column AutoIncrement="true" Name="id" PrimaryKey="true" Required="true" Type="INTEGER"></Column>
            <Column Name="cykl" Required="false" Type="INTEGER"></Column>
            <Column Name="okres" Required="false" Type="INTEGER"></Column>
            <Column Name="kolejka" Required="false" Type="INTEGER"></Column>
            <Column Name="zasoby" Required="false" Type="INTEGER"></Column>
            <Column Name="zasoby_max" Required="false" Type="INTEGER"></Column>
            <ForeignKey ForeignTable="itrm_cykl">
                <Reference Foreign="id" Local="cykl">
                </Reference>
            </ForeignKey>
            <ForeignKey ForeignTable="itrm_okres">
                <Reference Foreign="id" Local="okres">
                </Reference>
            </ForeignKey>
        </TableCreate>
        <TableCreate Type="post" Name="itrm_uzytkownik_kolejka">
            <Column Name="osoba" Required="true" Type="INTEGER"></Column>
            <Column Name="kolejka" Required="true" Type="INTEGER"></Column>
            <Column Name="okres" Required="false" Type="INTEGER"></Column>
            <Column Name="zasoby" Required="true" Type="INTEGER"></Column>
        </TableCreate>
        <TableCreate Type="post" Name="itrm_ticket_okres">
            <Column AutoIncrement="true" Name="id" PrimaryKey="true" Required="true" Type="INTEGER"></Column>
            <Column Name="ticket" Required="true" Type="INTEGER"></Column>
            <Column Name="kolejka" Required="true" Type="INTEGER"></Column>
            <Column Name="okres_rozpoczecia" Required="false" Type="INTEGER"></Column>
            <Column Name="okres_zakonczenia" Required="false" Type="INTEGER"></Column>
            <Column Name="okres" Required="false" Type="INTEGER"></Column>
            <Column Name="pozycja" Required="false" Type="INTEGER"></Column>
            <Column Name="zasoby_w_okresie" Required="false" Type="INTEGER"></Column>
            <ForeignKey ForeignTable="itrm_okres">
                <Reference Foreign="id" Local="okres_rozpoczecia">
                </Reference>
            </ForeignKey>
            <ForeignKey ForeignTable="itrm_okres">
                <Reference Foreign="id" Local="okres_zakonczenia">
                </Reference>
            </ForeignKey>
        </TableCreate>
    </DatabaseInstall>
    <DatabaseUninstall>
        <TableDrop Type="post" Name="itrm_ticket_okres">
        </TableDrop>
        <TableDrop Type="post" Name="itrm_uzytkownik_kolejka">
        </TableDrop>
        <TableDrop Type="post" Name="itrm_kolejka_cykl">
        </TableDrop>
        <TableDrop Type="post" Name="itrm_okres">
        </TableDrop>
        <TableDrop Type="post" Name="itrm_cykl">
        </TableDrop>
    </DatabaseUninstall>
</otrs_package>